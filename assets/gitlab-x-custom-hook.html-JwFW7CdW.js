import{_ as a,c as n,a as e,o as i}from"./app-4x2aIoqi.js";const o={};function l(p,s){return i(),n("div",null,s[0]||(s[0]=[e(`<h1 id="gitlabé…ç½®custom-hook" tabindex="-1"><a class="header-anchor" href="#gitlabé…ç½®custom-hook"><span>gitlabé…ç½®custom hook</span></a></h1><h2 id="_1-å…·ä½“æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_1-å…·ä½“æ­¥éª¤"><span>1. å…·ä½“æ­¥éª¤</span></a></h2><h3 id="_1-1-è®¾ç½®custom-hooksè·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_1-1-è®¾ç½®custom-hooksè·¯å¾„"><span>1.1 è®¾ç½®custom_hooksè·¯å¾„</span></a></h3><p>ä¿®æ”¹ gitlab ä¸­çš„<code>vi /etc/gitlab/gitlab.rb</code></p><p>å¢åŠ  custom_hooks_dir è·¯å¾„ï¼š</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>gitlab_shell[&#39;custom_hooks_dir&#39;] = &quot;/opt/gitlab/embedded/service/gitlab-shell/hooks&quot;</span></span></code></pre></div><p>æ³¨ï¼šè¿™é‡Œç›´æ¥å»æ‰æ³¨é‡Šä½¿ç”¨è‡ªå¸¦çš„</p><h3 id="_1-2-å¯ç”¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-2-å¯ç”¨é…ç½®"><span>1.2 å¯ç”¨é…ç½®</span></a></h3><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>sudo gitlab-ctl reconfigure</span></span></code></pre></div><h3 id="_1-3-åˆ›å»ºhookæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-3-åˆ›å»ºhookæ–‡ä»¶"><span>1.3 åˆ›å»ºhookæ–‡ä»¶</span></a></h3><p>è‡ªå®šä¹‰è„šæœ¬ç›®å½•è¦ç¬¦åˆ<code>&lt;custom_hooks_dir&gt;/&lt;hook_name.d&gt;/*</code> çš„è§„èŒƒã€‚å…·ä½“å°±æ˜¯</p><ul><li><p>åœ¨è‡ªå®šçš„<code>custom_hooks_dir</code> ç›®å½•ä¸‹å¯åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶å¤¹å¯¹åº”ä¸‰ç±» <code>server hook name</code> ï¼š</p><ul><li>pre-receive.d</li><li>update.d</li><li>post-receive.d</li></ul></li><li><p>åœ¨æ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹å¯ä»¥åˆ›å»ºä»»æ„æ–‡ä»¶ï¼Œåœ¨å¯¹åº”çš„hookæ—¶æœŸï¼Œgitlabå°±ä¼šä¸»åŠ¨è°ƒç”¨</p></li><li><p>æ–‡ä»¶åä»¥<code>~</code>ç»“å°¾çš„æ–‡ä»¶ä¼šè¢«å¿½ç•¥</p></li><li><p>å¦‚æœæƒ³çœ‹è¿™éƒ¨åˆ†çš„å®ç°ç»†èŠ‚å¯ä»¥çœ‹ <code>&lt;gitlab-shell&gt;/lib/gitlab_custom_hook.rb</code> æ–‡ä»¶</p></li></ul><p>ç›®å½•ç»“æ„ç¤ºæ„</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>[root@localhost custom_hooks]# tree</span></span>
<span class="line"><span>.</span></span>
<span class="line"><span>â”œâ”€â”€ post-receive.d</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ 01.sh</span></span>
<span class="line"><span>â”‚   â””â”€â”€ 02.sh~</span></span>
<span class="line"><span>â”œâ”€â”€ pre-receive.d</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ 01.sh</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ 02.py</span></span>
<span class="line"><span>â”‚   â””â”€â”€ 03.rb</span></span>
<span class="line"><span>â””â”€â”€ update.d</span></span>
<span class="line"><span>    â”œâ”€â”€ 01.sh</span></span>
<span class="line"><span>    â””â”€â”€ 02.sh</span></span></code></pre></div><h3 id="_1-4-ç¼–å†™-hook-è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_1-4-ç¼–å†™-hook-è„šæœ¬"><span>1.4 ç¼–å†™ hook è„šæœ¬</span></a></h3><p>hook è„šæœ¬å°±æ˜¯git è‡ªèº«çš„è§„èŒƒï¼Œå†™shellï¼Œpythonã€ruby éƒ½å¯ä»¥</p><p>ç•™æ„è„šæœ¬æœ€åçš„é€€å‡ºå€¼ï¼š<strong>0 æ­£å¸¸é€€å‡ºï¼Œç”¨æˆ·å¯ä»¥ pushï¼›é 0 å¼‚å¸¸é€€å‡ºï¼Œä¸­æ–­æäº¤ï¼ˆpre-receive å’Œ updateï¼‰</strong> ã€‚<br> ç»†èŠ‚å‚è§ï¼š <a href="https://link.jianshu.com/?t=https://github.com/geeeeeeeeek/git-recipes/wiki/5.4-Git%E9%92%A9%E5%AD%90%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BD%A0%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81" target="_blank" rel="noopener noreferrer">5.4 Gité’©å­ï¼šè‡ªå®šä¹‰ä½ çš„å·¥ä½œæµ Â· geeeeeeeeek/git-recipes Wiki Â· GitHub</a></p><p>å¦‚æœæƒ³è®©ç”¨æˆ· push æ—¶çœ‹åˆ°ç›¸åº”çš„æ—¥å¿—ç›´æ¥åœ¨è„šæœ¬ä¸­ echo å³å¯ã€‚</p><p>è¿™é‡Œä¸¾ä¸¤ä¸ªä¾‹å­ï¼š</p><p>ğŸŒ°ï¼šSay hi.</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;Say hi from gitlab servertes ok ğŸ˜„&quot;</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">exit</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span></span></code></pre></div><p>ğŸŒ°ï¼šæ£€æŸ¥æäº¤ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå‘ç°æœ‰ç‰¹å®šå†…å®¹ç¦æ­¢æäº¤</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>#!/bin/sh</span></span>
<span class="line"><span>FIND_KEY=&#39;.test.51offer.com&#39;</span></span>
<span class="line"><span>OLD_VALUE=$2</span></span>
<span class="line"><span>NEW_VALUE=$3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>FILES=$(git rev-list --objects $OLD_VALUE...$NEW_VALUE | egrep &#39;\\.(jsp|vm|java)$&#39; | awk &#39;{print $2}&#39; | sort | uniq )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>FLAG=0</span></span>
<span class="line"><span>for FILE in $FILES</span></span>
<span class="line"><span>do</span></span>
<span class="line"><span>    git show $NEW_VALUE:$FILE | grep -q &quot;$FIND_KEY&quot;</span></span>
<span class="line"><span>    if [ $? -eq 0 ]</span></span>
<span class="line"><span>    then</span></span>
<span class="line"><span>        FLAG=1</span></span>
<span class="line"><span>        echo &quot;ğŸ“ƒ  åŒ…å«éæ³•å­—æ®µ &#39;$FIND_KEY&#39; : $FILE&quot;</span></span>
<span class="line"><span>    fi</span></span>
<span class="line"><span>done</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if [ $FLAG -eq 0 ]</span></span>
<span class="line"><span>then</span></span>
<span class="line"><span>    echo &quot;âœ…  ä»£ç æ£€æŸ¥é€šè¿‡.&quot;</span></span>
<span class="line"><span>else</span></span>
<span class="line"><span>    echo &quot;âŒ  ä»£ç æ£€æŸ¥ä¸é€šè¿‡!&quot;</span></span>
<span class="line"><span>    exit 1</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>exit 0</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾‹å­ç»“æœ</p><p>ä¸Šé¢ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œå°è¯• <code>git push</code>ï¼Œå°±èƒ½çœ‹åˆ°å¦‚ä¸‹çš„æ—¥å¿—ï¼š</p><div class="language-ruby" data-ext="ruby" data-title="ruby"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Pushing</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> to git</span><span style="color:#E06C75;--shiki-dark:#E06C75;">@gitlab</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.51offer.</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">inner</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mall</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">paycenter.git</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">remote</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ğŸ“ƒ  åŒ…å«éæ³•å­—æ®µ </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;.test.51offer.com&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> : service</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">src</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">main</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">java</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">com</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">horizon</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">module</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">paycenter</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">service</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">PayService</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.java        </span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">remote</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> âŒ  ä»£ç æ£€æŸ¥ä¸é€šè¿‡!        </span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">remote</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> error</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> hook declined to update refs</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">heads</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/test</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">To</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> git</span><span style="color:#E06C75;--shiki-dark:#E06C75;">@gitlab</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.51offer.</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">inner</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mall</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">paycenter.git</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [up to date]      release</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">old </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> release</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">old</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [up to date]      v1.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2016.9</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">8</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> v1.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2016.9</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">8</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> !</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [remote rejected] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">test</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -&gt;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> test</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (hook declined)</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">error</span><span style="color:#D19A66;--shiki-dark:#D19A66;">:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> failed to push some refs to </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;git@gitlab.51offer.inner:mall/paycenter.git&#39;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Completed</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> with errors, see above</span></span></code></pre></div><h3 id="å‚è€ƒæ–‡ç« " tabindex="-1"><a class="header-anchor" href="#å‚è€ƒæ–‡ç« "><span>å‚è€ƒæ–‡ç« </span></a></h3><p><a href="https://www.jianshu.com/p/5531a21afa68" target="_blank" rel="noopener noreferrer">Gitlab æœåŠ¡å™¨ç«¯ custom hook é…ç½®</a></p><p><a href="https://docs.gitlab.com/ee/administration/custom_hooks.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>`,29)]))}const t=a(o,[["render",l],["__file","gitlab-x-custom-hook.html.vue"]]),c=JSON.parse(`{"path":"/posts/Git/gitlab-x-custom-hook.html","title":"gitlabé…ç½®custom hook","lang":"zh-CN","frontmatter":{"description":"gitlabé…ç½®custom hook 1. å…·ä½“æ­¥éª¤ 1.1 è®¾ç½®custom_hooksè·¯å¾„ ä¿®æ”¹ gitlab ä¸­çš„vi /etc/gitlab/gitlab.rb å¢åŠ  custom_hooks_dir è·¯å¾„ï¼š æ³¨ï¼šè¿™é‡Œç›´æ¥å»æ‰æ³¨é‡Šä½¿ç”¨è‡ªå¸¦çš„ 1.2 å¯ç”¨é…ç½® 1.3 åˆ›å»ºhookæ–‡ä»¶ è‡ªå®šä¹‰è„šæœ¬ç›®å½•è¦ç¬¦åˆ<custom_hooks_dir>/...","watermark":true,"head":[["meta",{"property":"og:url","content":"https://springg.us.kg/posts/Git/gitlab-x-custom-hook.html"}],["meta",{"property":"og:site_name","content":"mrjasonâ€™s Blog"}],["meta",{"property":"og:title","content":"gitlabé…ç½®custom hook"}],["meta",{"property":"og:description","content":"gitlabé…ç½®custom hook 1. å…·ä½“æ­¥éª¤ 1.1 è®¾ç½®custom_hooksè·¯å¾„ ä¿®æ”¹ gitlab ä¸­çš„vi /etc/gitlab/gitlab.rb å¢åŠ  custom_hooks_dir è·¯å¾„ï¼š æ³¨ï¼šè¿™é‡Œç›´æ¥å»æ‰æ³¨é‡Šä½¿ç”¨è‡ªå¸¦çš„ 1.2 å¯ç”¨é…ç½® 1.3 åˆ›å»ºhookæ–‡ä»¶ è‡ªå®šä¹‰è„šæœ¬ç›®å½•è¦ç¬¦åˆ<custom_hooks_dir>/..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-21T07:03:09.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-21T07:03:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"gitlabé…ç½®custom hook\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-21T07:03:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://springg.us.kg\\"}]}"]]},"headers":[{"level":2,"title":"1. å…·ä½“æ­¥éª¤","slug":"_1-å…·ä½“æ­¥éª¤","link":"#_1-å…·ä½“æ­¥éª¤","children":[{"level":3,"title":"1.1 è®¾ç½®custom_hooksè·¯å¾„","slug":"_1-1-è®¾ç½®custom-hooksè·¯å¾„","link":"#_1-1-è®¾ç½®custom-hooksè·¯å¾„","children":[]},{"level":3,"title":"1.2 å¯ç”¨é…ç½®","slug":"_1-2-å¯ç”¨é…ç½®","link":"#_1-2-å¯ç”¨é…ç½®","children":[]},{"level":3,"title":"1.3 åˆ›å»ºhookæ–‡ä»¶","slug":"_1-3-åˆ›å»ºhookæ–‡ä»¶","link":"#_1-3-åˆ›å»ºhookæ–‡ä»¶","children":[]},{"level":3,"title":"1.4 ç¼–å†™ hook è„šæœ¬","slug":"_1-4-ç¼–å†™-hook-è„šæœ¬","link":"#_1-4-ç¼–å†™-hook-è„šæœ¬","children":[]},{"level":3,"title":"å‚è€ƒæ–‡ç« ","slug":"å‚è€ƒæ–‡ç« ","link":"#å‚è€ƒæ–‡ç« ","children":[]}]}],"git":{"createdTime":1729494189000,"updatedTime":1729494189000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":1.89,"words":566},"filePathRelative":"posts/Git/gitlab-x-custom-hook.md","localizedDate":"2024å¹´10æœˆ21æ—¥","excerpt":"\\n<h2>1. å…·ä½“æ­¥éª¤</h2>\\n<h3>1.1 è®¾ç½®custom_hooksè·¯å¾„</h3>\\n<p>ä¿®æ”¹ gitlab ä¸­çš„<code>vi /etc/gitlab/gitlab.rb</code></p>\\n<p>å¢åŠ  custom_hooks_dir è·¯å¾„ï¼š</p>\\n<div class=\\"language-\\" data-ext=\\"\\" data-title=\\"\\"><pre class=\\"shiki shiki-themes one-dark-pro one-dark-pro vp-code\\" style=\\"background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span>gitlab_shell['custom_hooks_dir'] = \\"/opt/gitlab/embedded/service/gitlab-shell/hooks\\"</span></span></code></pre>\\n</div>","autoDesc":true}`);export{t as comp,c as data};
