import{_ as a,c as n,a as i,o as l}from"./app-4x2aIoqi.js";const r={};function p(e,s){return l(),n("div",null,s[0]||(s[0]=[i(`<h1 id="spring-boot2-集成-jasypt-3-0-4-配置文件敏感信息加密" tabindex="-1"><a class="header-anchor" href="#spring-boot2-集成-jasypt-3-0-4-配置文件敏感信息加密"><span>Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密</span></a></h1><h4 id="文章目录" tabindex="-1"><a class="header-anchor" href="#文章目录"><span>文章目录</span></a></h4><ul><li><p>[1. 导入依赖]</p></li><li><p>[2. yml中添加配置文件]</p></li><li><p>[3. 加解密工具类]</p></li><li><p>[4. 敏感信息替换]</p></li><li><p>[5. 编译打包]</p></li><li><p>[6. 启动项目]</p></li></ul><h2 id="_1-导入依赖" tabindex="-1"><a class="header-anchor" href="#_1-导入依赖"><span>1. 导入依赖</span></a></h2><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;!</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--敏感信息加密--</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">com.github.ulisesbocchio</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/groupId&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">jasypt-spring-boot-starter</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/artifactId&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">3.0.4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/version&gt;</span></span></code></pre></div><h6 id="_2-yml中添加配置文件" tabindex="-1"><a class="header-anchor" href="#_2-yml中添加配置文件"><span>2. yml中添加配置文件</span></a></h6><p>第一种（盐值配置yml中，不推荐）：</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">jasypt:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  encryptor:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 盐加密</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> aabbcc</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 指定加密方式</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    algorithm:</span><span style="color:#98C379;--shiki-dark:#98C379;"> PBEWithMD5AndDES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    iv-generator-classname:</span><span style="color:#98C379;--shiki-dark:#98C379;"> org.jasypt.iv.NoIvGenerator</span></span></code></pre></div><p>第二种（盐值不配置yml中，推荐使用）：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 数据源配置</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">spring:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  datasource:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    driver-class-name:</span><span style="color:#98C379;--shiki-dark:#98C379;"> com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    url:</span><span style="color:#98C379;--shiki-dark:#98C379;"> ENC</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">+wjdzeW1IvjYZ5UJO3BLdAdPchlj51+8+ifwEN6BS9CGrDbbZCAviruFC5w1rm3KMGADu6cVvJ2zf2EYbC/p/iJzFF/2lR5LIzT1+bn8OvjyF1c9OFYlz+wucstoc8sPN9/OUnrGT31Ai/SSdViazQaoJuENGF253j1+L0yIV3F1r0vtbn8qkVhEpTDN8jOsVtLoe2A+CzwesWrVlJTYlQ</span><span style="color:#98C379;--shiki-dark:#98C379;">==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    username:</span><span style="color:#98C379;--shiki-dark:#98C379;"> ENC</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">8SMzrWEju/4nzVruNiLPDg</span><span style="color:#98C379;--shiki-dark:#98C379;">==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    password:</span><span style="color:#98C379;--shiki-dark:#98C379;"> ENC</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">lj77+RDcHHw6bH6MRQdntw</span><span style="color:#98C379;--shiki-dark:#98C379;">==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">server:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  port:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 80</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">jasypt:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  encryptor:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 指定加密方式</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    algorithm:</span><span style="color:#98C379;--shiki-dark:#98C379;"> PBEWithMD5AndDES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    iv-generator-classname:</span><span style="color:#98C379;--shiki-dark:#98C379;"> org.jasypt.iv.NoIvGenerator</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_3-加解密工具类" tabindex="-1"><a class="header-anchor" href="#_3-加解密工具类"><span>3. 加解密工具类</span></a></h6><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">package</span><span style="color:#98C379;--shiki-dark:#98C379;"> com.gblfy.ws.utils</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">import</span><span style="color:#98C379;--shiki-dark:#98C379;"> org.jasypt.encryption.pbe.PooledPBEStringEncryptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">import</span><span style="color:#98C379;--shiki-dark:#98C379;"> org.jasypt.encryption.pbe.config.SimpleStringPBEConfig</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">/**</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> *</span><span style="color:#98C379;--shiki-dark:#98C379;"> 加解密工具类</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> *</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @author</span><span style="color:#98C379;--shiki-dark:#98C379;"> mrjason</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @date</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2024-09-19</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> **/</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">public</span><span style="color:#98C379;--shiki-dark:#98C379;"> class</span><span style="color:#98C379;--shiki-dark:#98C379;"> JasyptUtil</span><span style="color:#98C379;--shiki-dark:#98C379;"> {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    /**</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> Jasypt生成加密结果</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @param</span><span style="color:#98C379;--shiki-dark:#98C379;"> password</span><span style="color:#98C379;--shiki-dark:#98C379;"> 配置文件中设定的加密盐值</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @param</span><span style="color:#98C379;--shiki-dark:#98C379;"> value</span><span style="color:#98C379;--shiki-dark:#98C379;">    加密值</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @return</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     */</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    public</span><span style="color:#98C379;--shiki-dark:#98C379;"> static</span><span style="color:#98C379;--shiki-dark:#98C379;"> String</span><span style="color:#98C379;--shiki-dark:#98C379;"> encyptPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">String</span><span style="color:#98C379;--shiki-dark:#98C379;"> password,</span><span style="color:#98C379;--shiki-dark:#98C379;"> String</span><span style="color:#98C379;--shiki-dark:#98C379;"> value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        PooledPBEStringEncryptor</span><span style="color:#98C379;--shiki-dark:#98C379;"> encryptor</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> PooledPBEStringEncryptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        encryptor.setConfig(cryptor(password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        String</span><span style="color:#98C379;--shiki-dark:#98C379;"> result</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> encryptor.encrypt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#98C379;--shiki-dark:#98C379;"> result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    /**</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> 解密</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @param</span><span style="color:#98C379;--shiki-dark:#98C379;"> password</span><span style="color:#98C379;--shiki-dark:#98C379;"> 配置文件中设定的加密盐值</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @param</span><span style="color:#98C379;--shiki-dark:#98C379;"> value</span><span style="color:#98C379;--shiki-dark:#98C379;">    解密密文</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     *</span><span style="color:#98C379;--shiki-dark:#98C379;"> @return</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     */</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    public</span><span style="color:#98C379;--shiki-dark:#98C379;"> static</span><span style="color:#98C379;--shiki-dark:#98C379;"> String</span><span style="color:#98C379;--shiki-dark:#98C379;"> decyptPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">String</span><span style="color:#98C379;--shiki-dark:#98C379;"> password,</span><span style="color:#98C379;--shiki-dark:#98C379;"> String</span><span style="color:#98C379;--shiki-dark:#98C379;"> value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        PooledPBEStringEncryptor</span><span style="color:#98C379;--shiki-dark:#98C379;"> encryptor</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> PooledPBEStringEncryptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        encryptor.setConfig(cryptor(password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        String</span><span style="color:#98C379;--shiki-dark:#98C379;"> result</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> encryptor.decrypt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#98C379;--shiki-dark:#98C379;"> result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    public</span><span style="color:#98C379;--shiki-dark:#98C379;"> static</span><span style="color:#98C379;--shiki-dark:#98C379;"> SimpleStringPBEConfig</span><span style="color:#98C379;--shiki-dark:#98C379;"> cryptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">String</span><span style="color:#98C379;--shiki-dark:#98C379;"> password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        SimpleStringPBEConfig</span><span style="color:#98C379;--shiki-dark:#98C379;"> config</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> new</span><span style="color:#98C379;--shiki-dark:#98C379;"> SimpleStringPBEConfig</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setPassword(password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setAlgorithm(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;PBEWithMD5AndDES&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setKeyObtentionIterations(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;1000&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setPoolSize(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;1&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setProviderName(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;SunJCE&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setSaltGeneratorClassName(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;org.jasypt.salt.RandomSaltGenerator&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        config.setStringOutputType(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;base64&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#98C379;--shiki-dark:#98C379;"> config</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    public</span><span style="color:#98C379;--shiki-dark:#98C379;"> static</span><span style="color:#98C379;--shiki-dark:#98C379;"> void</span><span style="color:#98C379;--shiki-dark:#98C379;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">String[]</span><span style="color:#98C379;--shiki-dark:#98C379;"> args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        String</span><span style="color:#98C379;--shiki-dark:#98C379;"> slat</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;gblfy.com&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 加密</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        String</span><span style="color:#98C379;--shiki-dark:#98C379;"> encPwd</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> encyptPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">slat,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;123456&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        //</span><span style="color:#98C379;--shiki-dark:#98C379;"> 解密</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        String</span><span style="color:#98C379;--shiki-dark:#98C379;"> decPwd</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> decyptPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">slat,</span><span style="color:#98C379;--shiki-dark:#98C379;"> encPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        System.out.println(encPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        System.out.println(decPwd</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/20241129141239.png" alt="密码加密" tabindex="0" loading="lazy"><figcaption>密码加密</figcaption></figure><h6 id="_4-敏感信息替换" tabindex="-1"><a class="header-anchor" href="#_4-敏感信息替换"><span>4. 敏感信息替换</span></a></h6><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/20241129141443.png" alt="密码替换" tabindex="0" loading="lazy"><figcaption>密码替换</figcaption></figure><h6 id="_5-编译打包" tabindex="-1"><a class="header-anchor" href="#_5-编译打包"><span>5. 编译打包</span></a></h6><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">	mvn</span><span style="color:#98C379;--shiki-dark:#98C379;"> clean</span><span style="color:#98C379;--shiki-dark:#98C379;"> install</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -DskipTests</span></span></code></pre></div><h6 id="_6-启动项目" tabindex="-1"><a class="header-anchor" href="#_6-启动项目"><span>6. 启动项目</span></a></h6><ul><li>第一种（盐值明文启动）：</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">java</span><span style="color:#D19A66;--shiki-dark:#D19A66;">  -Djasypt.encryptor.password=gblfy.com</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -jar</span><span style="color:#98C379;--shiki-dark:#98C379;"> unified-access-center-0.0.1-SNAPSHOT.jar</span></span></code></pre></div><ul><li>第二种（盐值表达式启动）：<br> 在服务器的环境变量里配置,进一步提高安全性</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 打开/etc/profile文件</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">vim</span><span style="color:#98C379;--shiki-dark:#98C379;"> /etc/profile</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 文件末尾插入</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> JASYPT_PASSWORD</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#E06C75;--shiki-dark:#E06C75;">gblfy</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">com</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 编译 </span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">source</span><span style="color:#98C379;--shiki-dark:#98C379;"> /etc/profile</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">运行</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">java</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -jar</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -Djasypt.encryptor.password=\${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">JASYPT_PASSWORD</span><span style="color:#D19A66;--shiki-dark:#D19A66;">}</span><span style="color:#98C379;--shiki-dark:#98C379;"> xxx.jar</span></span></code></pre></div><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">java</span><span style="color:#D19A66;--shiki-dark:#D19A66;">  -Djasypt.encryptor.password=\${</span><span style="color:#E06C75;--shiki-dark:#E06C75;">JASYPT_PASSWORD</span><span style="color:#D19A66;--shiki-dark:#D19A66;">}</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -jar</span><span style="color:#98C379;--shiki-dark:#98C379;"> unified-access-center-0.0.1-SNAPSHOT.jar</span></span></code></pre></div>`,23)]))}const t=a(r,[["render",p],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/posts/Java/Java%E7%AC%AC%E4%B8%89%E6%96%B9%E4%BE%9D%E8%B5%96/Jasypt/","title":"Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密","lang":"zh-CN","frontmatter":{"description":"Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密 文章目录 [1. 导入依赖] [2. yml中添加配置文件] [3. 加解密工具类] [4. 敏感信息替换] [5. 编译打包] [6. 启动项目] 1. 导入依赖 2. yml中添加配置文件 第一种（盐值配置yml中，不推荐）： 第二种（盐值不配置yml中，推荐使用）： ...","watermark":true,"head":[["meta",{"property":"og:url","content":"https://springg.us.kg/posts/Java/Java%E7%AC%AC%E4%B8%89%E6%96%B9%E4%BE%9D%E8%B5%96/Jasypt/"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密"}],["meta",{"property":"og:description","content":"Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密 文章目录 [1. 导入依赖] [2. yml中添加配置文件] [3. 加解密工具类] [4. 敏感信息替换] [5. 编译打包] [6. 启动项目] 1. 导入依赖 2. yml中添加配置文件 第一种（盐值配置yml中，不推荐）： 第二种（盐值不配置yml中，推荐使用）： ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/20241129141239.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-20T07:21:44.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2025-02-20T07:21:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spring Boot2 集成 jasypt 3.0.4 配置文件敏感信息加密\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/20241129141239.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/20241129141443.png\\"],\\"dateModified\\":\\"2025-02-20T07:21:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://springg.us.kg\\"}]}"]]},"headers":[{"level":2,"title":"1. 导入依赖","slug":"_1-导入依赖","link":"#_1-导入依赖","children":[]}],"git":{"createdTime":1740036104000,"updatedTime":1740036104000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":1.62,"words":486},"filePathRelative":"posts/Java/Java第三方依赖/Jasypt/index.md","localizedDate":"2025年2月20日","excerpt":"\\n<h4>文章目录</h4>\\n<ul>\\n<li>\\n<p>[1. 导入依赖]</p>\\n</li>\\n<li>\\n<p>[2. yml中添加配置文件]</p>\\n</li>\\n<li>\\n<p>[3. 加解密工具类]</p>\\n</li>\\n<li>\\n<p>[4. 敏感信息替换]</p>\\n</li>\\n<li>\\n<p>[5. 编译打包]</p>\\n</li>\\n<li>\\n<p>[6. 启动项目]</p>\\n</li>\\n</ul>\\n<h2>1. 导入依赖</h2>\\n<div class=\\"language-bash\\" data-ext=\\"bash\\" data-title=\\"bash\\"><pre class=\\"shiki shiki-themes one-dark-pro one-dark-pro vp-code\\" style=\\"background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">        &lt;!</span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">--敏感信息加密--</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">        &lt;</span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">dependency</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">            &lt;</span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">groupId</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&gt;</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">com.github.ulisesbocchio</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&lt;/groupId&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">            &lt;</span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">artifactId</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&gt;</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">jasypt-spring-boot-starter</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&lt;/artifactId&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">            &lt;</span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">version</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&gt;</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">3.0.4</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">&lt;/version&gt;</span></span></code></pre>\\n</div>","autoDesc":true}');export{t as comp,c as data};
