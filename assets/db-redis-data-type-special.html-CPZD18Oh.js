import{_ as a,c as n,a as i,o as l}from"./app-B-YfeyLA.js";const o={};function p(r,s){return l(),n("div",null,s[0]||(s[0]=[i(`<h1 id="redis入门-3种特殊类型详解" tabindex="-1"><a class="header-anchor" href="#redis入门-3种特殊类型详解"><span>Redis入门 - 3种特殊类型详解</span></a></h1><blockquote><p>很少使用，了解有这么个东西就可以了</p></blockquote><blockquote><p>Redis除了上文中5种基础数据类型，还有三种特殊的数据类型，分别是 <strong>HyperLogLogs</strong>（基数统计）， <strong>Bitmaps</strong> (位图) 和 <strong>geospatial</strong> （地理位置）</p></blockquote><h2 id="_1-hyperloglogs-基数统计" tabindex="-1"><a class="header-anchor" href="#_1-hyperloglogs-基数统计"><span>1. HyperLogLogs（基数统计）</span></a></h2><blockquote><p>Redis 2.8.9 版本更新了 Hyperloglog 数据结构！</p></blockquote><ul><li><strong>什么是基数？</strong></li></ul><p>举个例子，A = {1, 2, 3, 4, 5}， B = {3, 5, 6, 7, 9}；那么基数（不重复的元素）= 1, 2, 4, 6, 7, 9； （允许容错，即可以接受一定误差）</p><ul><li><strong>HyperLogLogs 基数统计用来解决什么问题</strong>？</li></ul><p>这个结构可以非常省内存的去统计各种计数，比如注册 IP 数、每日访问 IP 数、页面实时UV、在线用户数，共同好友数等。</p><ul><li><strong>它的优势体现在哪</strong>？</li></ul><p>一个大型的网站，每天 IP 比如有 100 万，粗算一个 IP 消耗 15 字节，那么 100 万个 IP 就是 15M。而 HyperLogLog 在 Redis 中每个键占用的内容都是 12K，理论存储近似接近 2^64 个值，不管存储的内容是什么，它一个基于基数估算的算法，只能比较准确的估算出基数，可以使用少量固定的内存去存储并识别集合中的唯一元素。而且这个估算的基数并不一定准确，是一个带有 0.81% 标准错误的近似值（对于可以接受一定容错的业务场景，比如IP数统计，UV等，是可以忽略不计的）。</p><ul><li><strong>相关命令使用</strong></li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfadd</span><span style="color:#98C379;--shiki-dark:#98C379;"> key1</span><span style="color:#98C379;--shiki-dark:#98C379;"> a</span><span style="color:#98C379;--shiki-dark:#98C379;"> b</span><span style="color:#98C379;--shiki-dark:#98C379;"> c</span><span style="color:#98C379;--shiki-dark:#98C379;"> d</span><span style="color:#98C379;--shiki-dark:#98C379;"> e</span><span style="color:#98C379;--shiki-dark:#98C379;"> f</span><span style="color:#98C379;--shiki-dark:#98C379;"> g</span><span style="color:#98C379;--shiki-dark:#98C379;"> h</span><span style="color:#98C379;--shiki-dark:#98C379;"> i</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	# 创建第一组元素</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfcount</span><span style="color:#98C379;--shiki-dark:#98C379;"> key1</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">					# 统计元素的基数数量</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">9</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfadd</span><span style="color:#98C379;--shiki-dark:#98C379;"> key2</span><span style="color:#98C379;--shiki-dark:#98C379;"> c</span><span style="color:#98C379;--shiki-dark:#98C379;"> j</span><span style="color:#98C379;--shiki-dark:#98C379;"> k</span><span style="color:#98C379;--shiki-dark:#98C379;"> l</span><span style="color:#98C379;--shiki-dark:#98C379;"> m</span><span style="color:#98C379;--shiki-dark:#98C379;"> e</span><span style="color:#98C379;--shiki-dark:#98C379;"> g</span><span style="color:#98C379;--shiki-dark:#98C379;"> a</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		# 创建第二组元素</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfcount</span><span style="color:#98C379;--shiki-dark:#98C379;"> key2</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">8</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfmerge</span><span style="color:#98C379;--shiki-dark:#98C379;"> key3</span><span style="color:#98C379;--shiki-dark:#98C379;"> key1</span><span style="color:#98C379;--shiki-dark:#98C379;"> key2</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">			# 合并两组：key1 key2 -&gt; key3 并集</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">OK</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">pfcount</span><span style="color:#98C379;--shiki-dark:#98C379;"> key3</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">13</span></span></code></pre></div><h2 id="_2-bitmap-位存储" tabindex="-1"><a class="header-anchor" href="#_2-bitmap-位存储"><span>2. Bitmap （位存储）</span></a></h2><blockquote><p>Bitmap 即位图数据结构，都是操作二进制位来进行记录，只有0 和 1 两个状态。</p></blockquote><ul><li><strong>用来解决什么问题</strong>？</li></ul><p>比如：统计用户信息，活跃，不活跃！ 登录，未登录！ 打卡，不打卡！ <strong>两个状态的，都可以使用 Bitmaps</strong>！</p><p>如果存储一年的打卡状态需要多少内存呢？ 365 天 = 365 bit 1字节 = 8bit 46 个字节左右！</p><ul><li><strong>相关命令使用</strong></li></ul><p>使用bitmap 来记录 周一到周日的打卡！ 周一：1 周二：0 周三：0 周四：1 ......</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 3</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 4</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 5</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">setbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 6</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span></code></pre></div><p>查看某一天是否有打卡！</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">getbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">getbit</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 5</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0</span></span></code></pre></div><p>统计操作，统计 打卡的天数！</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">bitcount</span><span style="color:#98C379;--shiki-dark:#98C379;"> sign</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 统计这周的打卡记录，就可以看到是否有全勤！</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span></span></code></pre></div><h2 id="_3-geospatial-地理位置" tabindex="-1"><a class="header-anchor" href="#_3-geospatial-地理位置"><span>3. geospatial (地理位置)</span></a></h2><blockquote><p>Redis 的 Geo 在 Redis 3.2 版本就推出了! 这个功能可以推算地理位置的信息: 两地之间的距离, 方圆几里的人</p></blockquote><h3 id="_3-1-geoadd" tabindex="-1"><a class="header-anchor" href="#_3-1-geoadd"><span>3.1 geoadd</span></a></h3><blockquote><p>添加地理位置</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geoadd</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 118.76</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 32.04</span><span style="color:#98C379;--shiki-dark:#98C379;"> manjing</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 112.55</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 37.86</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 123.43</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 41.80</span><span style="color:#98C379;--shiki-dark:#98C379;"> shenyang</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geoadd</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 144.05</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 22.52</span><span style="color:#98C379;--shiki-dark:#98C379;"> shengzhen</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 120.16</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30.24</span><span style="color:#98C379;--shiki-dark:#98C379;"> hangzhou</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 108.96</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 34.26</span><span style="color:#98C379;--shiki-dark:#98C379;"> xian</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span></span></code></pre></div><p><strong>规则</strong></p><p>两级无法直接添加，我们一般会下载城市数据(这个网址可以查询 GEO： <a href="http://www.jsons.cn/lngcode" target="_blank" rel="noopener noreferrer">http://www.jsons.cn/lngcode</a>)！</p><ul><li>有效的经度从-180度到180度。</li><li>有效的纬度从-85.05112878度到85.05112878度。</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 当坐标位置超出上述指定范围时，该命令将会返回一个错误。</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geoadd</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 39.90</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 116.40</span><span style="color:#98C379;--shiki-dark:#98C379;"> beijin</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">error</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ERR</span><span style="color:#98C379;--shiki-dark:#98C379;"> invalid</span><span style="color:#98C379;--shiki-dark:#98C379;"> longitude,latitude</span><span style="color:#98C379;--shiki-dark:#98C379;"> pair</span><span style="color:#98C379;--shiki-dark:#98C379;"> 39.900000,116.400000</span></span></code></pre></div><h3 id="_3-2-geopos" tabindex="-1"><a class="header-anchor" href="#_3-2-geopos"><span>3.2 geopos</span></a></h3><blockquote><p>获取指定的成员的经度和纬度</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geopos</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#98C379;--shiki-dark:#98C379;"> manjing</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;112.54999905824661255&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;37.86000073876942196&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;118.75999957323074341&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;32.03999960287850968&quot;</span></span></code></pre></div><p>获得当前定位, 一定是一个坐标值!</p><h3 id="_3-3-geodist" tabindex="-1"><a class="header-anchor" href="#_3-3-geodist"><span>3.3 geodist</span></a></h3><blockquote><p>如果不存在, 返回空</p></blockquote><p>单位如下</p><ul><li>m</li><li>km</li><li>mi 英里</li><li>ft 英尺</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geodist</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#98C379;--shiki-dark:#98C379;"> shenyang</span><span style="color:#98C379;--shiki-dark:#98C379;"> m</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;1026439.1070&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geodist</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#98C379;--shiki-dark:#98C379;"> shenyang</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">&quot;1026.4391&quot;</span></span></code></pre></div><h3 id="_3-4-georadius" tabindex="-1"><a class="header-anchor" href="#_3-4-georadius"><span>3.4 georadius</span></a></h3><blockquote><p>附近的人 ==&gt; 获得所有附近的人的地址, 定位, 通过半径来查询</p></blockquote><p>获得指定数量的人</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadius</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 110</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span><span style="color:#98C379;--shiki-dark:#98C379;">			以</span><span style="color:#98C379;--shiki-dark:#98C379;"> 100,30</span><span style="color:#98C379;--shiki-dark:#98C379;"> 这个坐标为中心,</span><span style="color:#98C379;--shiki-dark:#98C379;"> 寻找半径为1000km的城市</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hangzhou&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;manjing&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;taiyuan&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadius</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 110</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 500</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadius</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 110</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 500</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span><span style="color:#98C379;--shiki-dark:#98C379;"> withdist</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;483.8340&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadius</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 110</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 30</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span><span style="color:#98C379;--shiki-dark:#98C379;"> withcoord</span><span style="color:#98C379;--shiki-dark:#98C379;"> withdist</span><span style="color:#98C379;--shiki-dark:#98C379;"> count</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;483.8340&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;108.96000176668167114&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;34.25999964418929977&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;manjing&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;864.9816&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;118.75999957323074341&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;32.03999960287850968&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数 key 经度 纬度 半径 单位 [显示结果的经度和纬度] [显示结果的距离] [显示的结果的数量]</p><h3 id="_3-5-georadiusbymember" tabindex="-1"><a class="header-anchor" href="#_3-5-georadiusbymember"><span>3.5 georadiusbymember</span></a></h3><blockquote><p>显示与指定成员一定半径范围内的其他成员</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadiusbymember</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;manjing&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;taiyuan&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">georadiusbymember</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#98C379;--shiki-dark:#98C379;"> km</span><span style="color:#98C379;--shiki-dark:#98C379;"> withcoord</span><span style="color:#98C379;--shiki-dark:#98C379;"> withdist</span><span style="color:#98C379;--shiki-dark:#98C379;"> count</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;taiyuan&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;0.0000&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;112.54999905824661255&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;37.86000073876942196&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;514.2264&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) 1) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;108.96000176668167114&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;34.25999964418929977&quot;</span></span></code></pre></div><p>参数与 georadius 一样</p><h3 id="_3-6-geohash-较少使用" tabindex="-1"><a class="header-anchor" href="#_3-6-geohash-较少使用"><span>3.6 geohash(较少使用)</span></a></h3><blockquote><p>该命令返回11个字符的hash字符串</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">geohash</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> taiyuan</span><span style="color:#98C379;--shiki-dark:#98C379;"> shenyang</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;ww8p3hhqmp0&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;wxrvb9qyxk0&quot;</span></span></code></pre></div><p>将二维的经纬度转换为一维的字符串, 如果两个字符串越接近, 则距离越近</p><h3 id="_3-7-底层" tabindex="-1"><a class="header-anchor" href="#_3-7-底层"><span>3.7 底层</span></a></h3><blockquote><p>geo底层的实现原理实际上就是Zset, 我们可以通过Zset命令来操作geo</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">type</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">zset</span></span></code></pre></div><p>查看全部元素 删除指定的元素</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">zrange</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -1</span><span style="color:#98C379;--shiki-dark:#98C379;"> withscores</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4040115445396757&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hangzhou&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4054133997236782&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 5</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;manjing&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 6</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4066006694128997&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 7</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;taiyuan&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 8</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4068216047500484&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> 9</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;shenyang&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)  </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4072519231994779&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)  </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;shengzhen&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)  </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;4154606886655324&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">zrem</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#98C379;--shiki-dark:#98C379;"> manjing</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">integer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1:6379</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">zrange</span><span style="color:#98C379;--shiki-dark:#98C379;"> china:city</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -1</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;xian&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hangzhou&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;taiyuan&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;shenyang&quot;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;shengzhen&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章"><span>参考文章</span></a></h2><p><a href="https://pdai.tech/md/db/nosql-redis/db-redis-data-type-special.html" target="_blank" rel="noopener noreferrer"><strong>Redis入门 - 数据类型：3种特殊类型详解</strong></a></p>`,63)]))}const k=a(o,[["render",p],["__file","db-redis-data-type-special.html.vue"]]),t=JSON.parse('{"path":"/posts/Redis/db-redis-data-type-special.html","title":"Redis入门 - 3种特殊类型详解","lang":"zh-CN","frontmatter":{"aliases":"Redis入门 - 3种特殊类型详解","tags":null,"cssclass":null,"source":null,"order":40,"category":["数据库","Redis"],"created":"2024-02-22 10:49","updated":"2024-03-13 10:10","description":"Redis入门 - 3种特殊类型详解 很少使用，了解有这么个东西就可以了 Redis除了上文中5种基础数据类型，还有三种特殊的数据类型，分别是 HyperLogLogs（基数统计）， Bitmaps (位图) 和 geospatial （地理位置） 1. HyperLogLogs（基数统计） Redis 2.8.9 版本更新了 Hyperloglog ...","head":[["meta",{"property":"og:url","content":"https://mrjackc.github.io/posts/Redis/db-redis-data-type-special.html"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"Redis入门 - 3种特殊类型详解"}],["meta",{"property":"og:description","content":"Redis入门 - 3种特殊类型详解 很少使用，了解有这么个东西就可以了 Redis除了上文中5种基础数据类型，还有三种特殊的数据类型，分别是 HyperLogLogs（基数统计）， Bitmaps (位图) 和 geospatial （地理位置） 1. HyperLogLogs（基数统计） Redis 2.8.9 版本更新了 Hyperloglog ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-21T07:03:09.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-21T07:03:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Redis入门 - 3种特殊类型详解\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-21T07:03:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://mrjackc.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1. HyperLogLogs（基数统计）","slug":"_1-hyperloglogs-基数统计","link":"#_1-hyperloglogs-基数统计","children":[]},{"level":2,"title":"2. Bitmap （位存储）","slug":"_2-bitmap-位存储","link":"#_2-bitmap-位存储","children":[]},{"level":2,"title":"3. geospatial (地理位置)","slug":"_3-geospatial-地理位置","link":"#_3-geospatial-地理位置","children":[{"level":3,"title":"3.1 geoadd","slug":"_3-1-geoadd","link":"#_3-1-geoadd","children":[]},{"level":3,"title":"3.2 geopos","slug":"_3-2-geopos","link":"#_3-2-geopos","children":[]},{"level":3,"title":"3.3 geodist","slug":"_3-3-geodist","link":"#_3-3-geodist","children":[]},{"level":3,"title":"3.4 georadius","slug":"_3-4-georadius","link":"#_3-4-georadius","children":[]},{"level":3,"title":"3.5 georadiusbymember","slug":"_3-5-georadiusbymember","link":"#_3-5-georadiusbymember","children":[]},{"level":3,"title":"3.6 geohash(较少使用)","slug":"_3-6-geohash-较少使用","link":"#_3-6-geohash-较少使用","children":[]},{"level":3,"title":"3.7 底层","slug":"_3-7-底层","link":"#_3-7-底层","children":[]}]},{"level":2,"title":"参考文章","slug":"参考文章","link":"#参考文章","children":[]}],"git":{"createdTime":1729494189000,"updatedTime":1729494189000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":4.94,"words":1482},"filePathRelative":"posts/Redis/db-redis-data-type-special.md","localizedDate":"2024年10月21日","excerpt":"\\n<blockquote>\\n<p>很少使用，了解有这么个东西就可以了</p>\\n</blockquote>\\n<blockquote>\\n<p>Redis除了上文中5种基础数据类型，还有三种特殊的数据类型，分别是 <strong>HyperLogLogs</strong>（基数统计）， <strong>Bitmaps</strong> (位图) 和 <strong>geospatial</strong> （地理位置）</p>\\n</blockquote>\\n<h2>1. HyperLogLogs（基数统计）</h2>\\n<blockquote>\\n<p>Redis 2.8.9 版本更新了 Hyperloglog 数据结构！</p>\\n</blockquote>","autoDesc":true}');export{k as comp,t as data};
