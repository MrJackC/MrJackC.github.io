import{_ as a,c as n,a as i,o as e}from"./app-BfIe-EZg.js";const l={};function o(r,s){return e(),n("div",null,s[0]||(s[0]=[i(`<h1 id="minio部署-minio配置https" tabindex="-1"><a class="header-anchor" href="#minio部署-minio配置https"><span>Minio部署 - minio配置HTTPS</span></a></h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介"><span>1. 简介</span></a></h2><p>MinIO部署默认以HTTP方式对外提供服务，如果我们需要支持https 应该怎么做呢？</p><p>主要思路就是</p><ul><li>万能大法，通过nginx反向代理，将https配置在nginx侧，内部的MinIO还是使用HTTP；</li><li>MinIO服务端直接配置成HTTPS；</li></ul><blockquote><p>如何生成https证书：<a href="https://java.isture.com/problem&amp;solve/https/%E4%BD%BF%E7%94%A8acme.sh%E7%94%9F%E6%88%90%E5%85%8D%E8%B4%B9%E7%9A%84SSL%E8%AF%81%E4%B9%A6.html" target="_blank" rel="noopener noreferrer">使用acme.sh生成免费的SSL证书</a></p></blockquote><h2 id="_2-nginx-方案" tabindex="-1"><a class="header-anchor" href="#_2-nginx-方案"><span>2. nginx 方案</span></a></h2><ol><li>修改nginx配置文件</li></ol><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;"> server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        listen </span><span style="color:#D19A66;--shiki-dark:#D19A66;">         80</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        server_name </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    minio.aaa.com;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        listen </span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 443</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ssl;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        ssl_certificate </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/home/wwwroot/minio.aaa.com/cret/cert.pem;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        ssl_certificate_key </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/home/wwwroot/minio.aaa.com/cret/key.pem;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        location</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> / {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            proxy_set_header </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">X-Real-IP $</span><span style="color:#E06C75;--shiki-dark:#E06C75;">remote_addr</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_set_header </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="color:#E06C75;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_set_header </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">X-Forwarded-Proto $</span><span style="color:#E06C75;--shiki-dark:#E06C75;">scheme</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_set_header </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">Host $</span><span style="color:#E06C75;--shiki-dark:#E06C75;">http_host</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_connect_timeout </span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 300</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # Default is HTTP/1, keepalive is only enabled in HTTP/1.1</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_http_version </span><span style="color:#D19A66;--shiki-dark:#D19A66;">1.1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">           proxy_set_header </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">Connection </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            proxy_pass </span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">http://47.119.1.1:9000;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>java 连接也改成https</li></ol><h3 id="_3-1-遇到的问题" tabindex="-1"><a class="header-anchor" href="#_3-1-遇到的问题"><span>3.1 遇到的问题</span></a></h3><h4 id="_3-1-1-提示签名不对" tabindex="-1"><a class="header-anchor" href="#_3-1-1-提示签名不对"><span>3.1.1 提示签名不对</span></a></h4><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>io.minio.errors.ErrorResponseException: The request signature we calculated does not match the signature you provided. Check your key and signing method.</span></span>
<span class="line"><span>	at io.minio.S3Base.execute(S3Base.java:670)</span></span>
<span class="line"><span>	at io.minio.S3Base.getRegion(S3Base.java:694)</span></span>
<span class="line"><span>	at io.minio.S3Base.execute(S3Base.java:470)</span></span>
<span class="line"><span>	at io.minio.S3Base.executeHead(S3Base.java:728)</span></span>
<span class="line"><span>	at io.minio.S3Base.statObject(S3Base.java:1447)</span></span>
<span class="line"><span>	at io.minio.MinioClient.statObject(MinioClient.java:217)</span></span>
<span class="line"><span>	at com.fardu.file.service.impl.MinioFileServiceImpl.getStatInfo(MinioFileServiceImpl.java:283)</span></span>
<span class="line"><span>	at com.fardu.file.service.impl.MinioFileServiceImpl.exists(MinioFileServiceImpl.java:201)</span></span></code></pre></div><p>解决</p><p>nginx 添加如下配置</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span> proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>           proxy_set_header X-Forwarded-Proto $scheme;</span></span>
<span class="line"><span>           proxy_set_header Host $http_host;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>           proxy_connect_timeout  300;</span></span>
<span class="line"><span>           # Default is HTTP/1, keepalive is only enabled in HTTP/1.1</span></span>
<span class="line"><span>           proxy_http_version 1.1;</span></span>
<span class="line"><span>           proxy_set_header Connection &quot;&quot;;</span></span></code></pre></div><h2 id="_3-minio服务端配置成https" tabindex="-1"><a class="header-anchor" href="#_3-minio服务端配置成https"><span>3. MinIO服务端配置成HTTPS</span></a></h2><h3 id="_3-1-证书存放" tabindex="-1"><a class="header-anchor" href="#_3-1-证书存放"><span>3.1 证书存放</span></a></h3><p>首先，根据官网描述（<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdocs.min.io%2Fdocs%2Fhow-to-secure-access-to-minio-server-with-tls.html" target="_blank" rel="noopener noreferrer">How to secure access to MinIO server with TLS</a>），将TLS的公私钥放到：<code>{{HOME}}/.minio/certs</code> 里</p><p><strong>注意：</strong></p><ul><li>私钥需要命名为：private.key</li><li>公钥需要命名为：public.crt (如果公钥是以pem格式结尾，可直接改为crt格式)</li></ul><blockquote><p>如果是下面的docker-compose 则放在对应的映射目录下</p></blockquote><h3 id="_3-2-docker-compose-配置" tabindex="-1"><a class="header-anchor" href="#_3-2-docker-compose-配置"><span>3.2 docker-compose 配置</span></a></h3><div class="language-yml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">services</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  minio</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    image</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">minio/minio:RELEASE.2021-10-27T16-29-42Z</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    container_name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">minio</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    ports</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # api 端口</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;9000:9000&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 控制台端口</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;9001:9001&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    environment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 时区上海</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      TZ</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">Asia/Shanghai</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 管理后台用户名</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_ACCESS_KEY</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">admin</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 管理后台密码，最小8个字符</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_SECRET_KEY</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">zsz123456</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # https需要指定域名</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_SERVER_URL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;https://minio.xxx.com:9000&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_BROWSER_REDIRECT_URL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;https://minio.xxx.com:9001&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 开启压缩 on 开启 off 关闭</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_COMPRESS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;off&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 扩展名 .pdf,.doc 为空 所有类型均压缩</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_COMPRESS_EXTENSIONS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # mime 类型 application/pdf 为空 所有类型均压缩</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      MINIO_COMPRESS_MIME_TYPES</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    volumes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 映射当前目录下的data目录至容器内/data目录</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">./data:/data</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 映射配置目录</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      - </span><span style="color:#98C379;--shiki-dark:#98C379;">./config:/root/.minio</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    command</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">server --address &#39;:9000&#39; --console-address &#39;:9001&#39; /data</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 指定容器中的目录 /data</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    privileged</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # restart: always</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-docker启动" tabindex="-1"><a class="header-anchor" href="#_3-3-docker启动"><span>3.3 docker启动</span></a></h3><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> docker-compose</span><span style="color:#98C379;--shiki-dark:#98C379;"> up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -d</span></span></code></pre></div><p>查看日志</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">docker-compose</span><span style="color:#98C379;--shiki-dark:#98C379;"> logs</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -f</span></span></code></pre></div><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301407477.png" alt="image-20220725233426822" tabindex="0" loading="lazy"><figcaption>image-20220725233426822</figcaption></figure><h2 id="_4-总结" tabindex="-1"><a class="header-anchor" href="#_4-总结"><span>4. 总结</span></a></h2><p>相对来说nginx 会更灵活一点，以后集群啥的都可以通过nginx来做，而minio服务改造成https 就只能是minio服务单台实例https了</p><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章"><span>参考文章</span></a></h2><p><a href="https://juejin.cn/post/7021057486404714532" target="_blank" rel="noopener noreferrer">踩坑记录之MinIO添加HTTPS访问</a></p>`,33)]))}const t=a(l,[["render",o],["__file","minio-https.html.vue"]]),c=JSON.parse('{"path":"/posts/Architect/minio/minio-https.html","title":"Minio部署 - minio配置HTTPS","lang":"zh-CN","frontmatter":{"order":530,"category":["Minio"],"description":"Minio部署 - minio配置HTTPS 1. 简介 MinIO部署默认以HTTP方式对外提供服务，如果我们需要支持https 应该怎么做呢？ 主要思路就是 万能大法，通过nginx反向代理，将https配置在nginx侧，内部的MinIO还是使用HTTP； MinIO服务端直接配置成HTTPS； 如何生成https证书：使用acme.sh生成免费...","watermark":true,"head":[["meta",{"property":"og:url","content":"https://springg.us.kg/posts/Architect/minio/minio-https.html"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"Minio部署 - minio配置HTTPS"}],["meta",{"property":"og:description","content":"Minio部署 - minio配置HTTPS 1. 简介 MinIO部署默认以HTTP方式对外提供服务，如果我们需要支持https 应该怎么做呢？ 主要思路就是 万能大法，通过nginx反向代理，将https配置在nginx侧，内部的MinIO还是使用HTTP； MinIO服务端直接配置成HTTPS； 如何生成https证书：使用acme.sh生成免费..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301407477.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-28T01:58:08.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-28T01:58:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Minio部署 - minio配置HTTPS\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301407477.png\\"],\\"dateModified\\":\\"2024-10-28T01:58:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://springg.us.kg\\"}]}"]]},"headers":[{"level":2,"title":"1. 简介","slug":"_1-简介","link":"#_1-简介","children":[]},{"level":2,"title":"2. nginx 方案","slug":"_2-nginx-方案","link":"#_2-nginx-方案","children":[{"level":3,"title":"3.1 遇到的问题","slug":"_3-1-遇到的问题","link":"#_3-1-遇到的问题","children":[]}]},{"level":2,"title":"3. MinIO服务端配置成HTTPS","slug":"_3-minio服务端配置成https","link":"#_3-minio服务端配置成https","children":[{"level":3,"title":"3.1 证书存放","slug":"_3-1-证书存放","link":"#_3-1-证书存放","children":[]},{"level":3,"title":"3.2  docker-compose 配置","slug":"_3-2-docker-compose-配置","link":"#_3-2-docker-compose-配置","children":[]},{"level":3,"title":"3.3 docker启动","slug":"_3-3-docker启动","link":"#_3-3-docker启动","children":[]}]},{"level":2,"title":"4. 总结","slug":"_4-总结","link":"#_4-总结","children":[]},{"level":2,"title":"参考文章","slug":"参考文章","link":"#参考文章","children":[]}],"git":{"createdTime":1730080688000,"updatedTime":1730080688000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":2.28,"words":684},"filePathRelative":"posts/Architect/minio/minio-https.md","localizedDate":"2024年10月28日","excerpt":"\\n<h2>1. 简介</h2>\\n<p>MinIO部署默认以HTTP方式对外提供服务，如果我们需要支持https 应该怎么做呢？</p>\\n<p>主要思路就是</p>\\n<ul>\\n<li>万能大法，通过nginx反向代理，将https配置在nginx侧，内部的MinIO还是使用HTTP；</li>\\n<li>MinIO服务端直接配置成HTTPS；</li>\\n</ul>\\n<blockquote>\\n<p>如何生成https证书：<a href=\\"https://java.isture.com/problem&amp;solve/https/%E4%BD%BF%E7%94%A8acme.sh%E7%94%9F%E6%88%90%E5%85%8D%E8%B4%B9%E7%9A%84SSL%E8%AF%81%E4%B9%A6.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">使用acme.sh生成免费的SSL证书</a></p>\\n</blockquote>","autoDesc":true}');export{t as comp,c as data};
