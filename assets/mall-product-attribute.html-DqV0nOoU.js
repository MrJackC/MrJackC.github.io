import{_ as a,c as n,a as i,o as e}from"./app-4x2aIoqi.js";const r={};function l(t,s){return e(),n("div",null,s[0]||(s[0]=[i(`<h1 id="mall中商品属性类型-类型-属性-规格-参数-设计" tabindex="-1"><a class="header-anchor" href="#mall中商品属性类型-类型-属性-规格-参数-设计"><span>mall中商品属性类型（类型=属性=规格+参数）设计</span></a></h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介"><span>1. 简介</span></a></h2><p>商品类型即商品属性，主要是指商品的规格和参数，</p><ul><li>规格：用于用户购买商品时选择</li><li>参数：用于标示商品属性及搜索时筛选。</li></ul><h2 id="_2-表设计" tabindex="-1"><a class="header-anchor" href="#_2-表设计"><span>2. 表设计</span></a></h2><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142392.png" alt="image-20220320091410960" tabindex="0" loading="lazy"><figcaption>image-20220320091410960</figcaption></figure><h3 id="_2-1-商品属性分类表" tabindex="-1"><a class="header-anchor" href="#_2-1-商品属性分类表"><span>2.1 商品属性分类表</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">create</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> pms_product_attribute_category</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   id                   </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> not null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> auto_increment,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   name</span><span style="color:#C678DD;--shiki-dark:#C678DD;">                 varchar</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;名称&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   attribute_count      </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;属性数量&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   param_count          </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;参数数量&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   primary key</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (id)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><h3 id="_2-2-商品属性表" tabindex="-1"><a class="header-anchor" href="#_2-2-商品属性表"><span>2.2 商品属性表</span></a></h3><p>type字段用于控制其是规格还是参数</p><ul><li>type：属性的类型；0-&gt;规格；1-&gt;参数&#39;,</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">create table pms_product_attribute</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   id                   bigint not </span><span style="color:#D19A66;--shiki-dark:#D19A66;">null</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> auto_increment</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   product_attribute_category_id bigint comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;商品属性分类id&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   name                 </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">varchar</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;名称&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   select_type          </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;属性选择类型：0-&gt;唯一；1-&gt;单选；2-&gt;多选；对应属性和参数意义不同；&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   input_type           </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;属性录入方式：0-&gt;手工录入；1-&gt;从列表中选取&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   input_list           </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">varchar</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">255</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;可选值列表，以逗号隔开&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   sort                 </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;排序字段：最高的可以单独上传图片&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   filter_type          </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;分类筛选样式：1-&gt;普通；1-&gt;颜色&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   search_type          </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;检索类型；0-&gt;不需要进行检索；1-&gt;关键字检索；2-&gt;范围检索&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   related_status       </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;相同属性产品是否关联；0-&gt;不关联；1-&gt;关联&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   hand_add_status      </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;是否支持手动新增；0-&gt;不支持；1-&gt;支持&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   type                 </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;属性的类型；0-&gt;规格；1-&gt;参数&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">   primary </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">key</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> (id)</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-商品属性值表" tabindex="-1"><a class="header-anchor" href="#_2-3-商品属性值表"><span>2.3 商品属性值表</span></a></h3><p>如果对应的参数是规格且规格支持手动添加，那么该表用于存储手动新增的值；如果对应的商品属性是参数，那么该表用于存储参数的值。</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">create</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> pms_product_attribute_value</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   id                   </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> not null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> auto_increment,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   product_id           </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;商品id&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   product_attribute_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;商品属性id&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   value</span><span style="color:#C678DD;--shiki-dark:#C678DD;">                varchar</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;手动添加规格或参数的值，参数单值，规格有多个时以逗号隔开&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   primary key</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (id)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><h3 id="_2-4-商品分类和属性的关系表" tabindex="-1"><a class="header-anchor" href="#_2-4-商品分类和属性的关系表"><span>2.4 商品分类和属性的关系表</span></a></h3><p>用于选中分类后搜索时生成筛选属性。</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">create</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> pms_product_category_attribute_relation</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   id                   </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> not null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> auto_increment,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   product_category_id  </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;商品分类id&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   product_attribute_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">bigint</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> comment </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;商品属性id&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   primary key</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (id)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><h2 id="_3-代码设计" tabindex="-1"><a class="header-anchor" href="#_3-代码设计"><span>3. 代码设计</span></a></h2><h3 id="_3-1-新增商品属性" tabindex="-1"><a class="header-anchor" href="#_3-1-新增商品属性"><span>3.1 新增商品属性</span></a></h3><p>新增商品属性以后需要更新商品属性分类数量</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> int</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> create</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">PmsProductAttributeParam</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pmsProductAttributeParam) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        PmsProductAttribute</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pmsProductAttribute </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> PmsProductAttribute</span><span style="color:#E06C75;--shiki-dark:#E06C75;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        BeanUtils</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">copyProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(pmsProductAttributeParam, pmsProductAttribute);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        int</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> count </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> productAttributeMapper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">insertSelective</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(pmsProductAttribute);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //新增商品属性以后需要更新商品属性分类数量</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        PmsProductAttributeCategory</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pmsProductAttributeCategory </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> productAttributeCategoryMapper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">selectByPrimaryKey</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pmsProductAttribute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getProductAttributeCategoryId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pmsProductAttribute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getType</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">==</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#E06C75;--shiki-dark:#E06C75;">){</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            pmsProductAttributeCategory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">setAttributeCount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pmsProductAttributeCategory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getAttributeCount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        }</span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> if</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pmsProductAttribute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getType</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">==</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#E06C75;--shiki-dark:#E06C75;">){</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            pmsProductAttributeCategory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">setParamCount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pmsProductAttributeCategory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getParamCount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        productAttributeCategoryMapper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">updateByPrimaryKey</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(pmsProductAttributeCategory);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> count</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-界面设计" tabindex="-1"><a class="header-anchor" href="#_4-界面设计"><span>4. 界面设计</span></a></h2><h3 id="_4-1-管理端" tabindex="-1"><a class="header-anchor" href="#_4-1-管理端"><span>4.1 管理端</span></a></h3><h4 id="_4-1-1-商品属性分类列表" tabindex="-1"><a class="header-anchor" href="#_4-1-1-商品属性分类列表"><span>4.1.1 商品属性分类列表</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142431.png" alt="image-20220320085212569" tabindex="0" loading="lazy"><figcaption>image-20220320085212569</figcaption></figure><h4 id="_4-1-2-商品规格列表" tabindex="-1"><a class="header-anchor" href="#_4-1-2-商品规格列表"><span>4.1.2 商品规格列表</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142453.png" alt="image-20220320085314213" tabindex="0" loading="lazy"><figcaption>image-20220320085314213</figcaption></figure><h4 id="_4-1-3-商品参数列表" tabindex="-1"><a class="header-anchor" href="#_4-1-3-商品参数列表"><span>4.1.3 商品参数列表</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142477.png" alt="image-20220320085349425" tabindex="0" loading="lazy"><figcaption>image-20220320085349425</figcaption></figure><h4 id="_4-1-4-添加商品属性" tabindex="-1"><a class="header-anchor" href="#_4-1-4-添加商品属性"><span>4.1.4 添加商品属性</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142504.png" alt="image-20220320085501748" tabindex="0" loading="lazy"><figcaption>image-20220320085501748</figcaption></figure><h4 id="_4-1-5添加商品时-选中商品属性分类-就会显示该分类的属性-用于生成sku" tabindex="-1"><a class="header-anchor" href="#_4-1-5添加商品时-选中商品属性分类-就会显示该分类的属性-用于生成sku"><span>4.1.5添加商品时，选中商品属性分类，就会显示该分类的属性，用于生成sku</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142534.png" alt="image-20220320085541469" tabindex="0" loading="lazy"><figcaption>image-20220320085541469</figcaption></figure><h4 id="_4-1-6-添加商品时-选中商品属性分类-会显示该分类的参数用于录入" tabindex="-1"><a class="header-anchor" href="#_4-1-6-添加商品时-选中商品属性分类-会显示该分类的参数用于录入"><span>4.1.6 添加商品时，选中商品属性分类，会显示该分类的参数用于录入</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142566.png" alt="image-20220320085637294" tabindex="0" loading="lazy"><figcaption>image-20220320085637294</figcaption></figure><h3 id="_4-2-移动端" tabindex="-1"><a class="header-anchor" href="#_4-2-移动端"><span>4.2 移动端</span></a></h3><h4 id="_4-2-1-选择商品规格" tabindex="-1"><a class="header-anchor" href="#_4-2-1-选择商品规格"><span>4.2.1 选择商品规格</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142594.png" alt="image-20220320085754333" tabindex="0" loading="lazy"><figcaption>image-20220320085754333</figcaption></figure><h4 id="_4-2-2-查看商品参数" tabindex="-1"><a class="header-anchor" href="#_4-2-2-查看商品参数"><span>4.2.2 查看商品参数</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142615.png" alt="image-20220320085836611" tabindex="0" loading="lazy"><figcaption>image-20220320085836611</figcaption></figure><h4 id="_4-2-3-搜索商品时用于选择分类后的筛选" tabindex="-1"><a class="header-anchor" href="#_4-2-3-搜索商品时用于选择分类后的筛选"><span>4.2.3 搜索商品时用于选择分类后的筛选</span></a></h4><figure><img src="https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142638.png" alt="image-20220320085906873" tabindex="0" loading="lazy"><figcaption>image-20220320085906873</figcaption></figure>`,43)]))}const o=a(r,[["render",l],["__file","mall-product-attribute.html.vue"]]),c=JSON.parse('{"path":"/posts/Architect/mall/mall-product-attribute.html","title":"mall中商品属性类型（类型=属性=规格+参数）设计","lang":"zh-CN","frontmatter":{"description":"mall中商品属性类型（类型=属性=规格+参数）设计 1. 简介 商品类型即商品属性，主要是指商品的规格和参数， 规格：用于用户购买商品时选择 参数：用于标示商品属性及搜索时筛选。 2. 表设计 image-20220320091410960image-20220320091410960 2.1 商品属性分类表 2.2 商品属性表 type字段用于控制...","watermark":true,"head":[["meta",{"property":"og:url","content":"https://springg.us.kg/posts/Architect/mall/mall-product-attribute.html"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"mall中商品属性类型（类型=属性=规格+参数）设计"}],["meta",{"property":"og:description","content":"mall中商品属性类型（类型=属性=规格+参数）设计 1. 简介 商品类型即商品属性，主要是指商品的规格和参数， 规格：用于用户购买商品时选择 参数：用于标示商品属性及搜索时筛选。 2. 表设计 image-20220320091410960image-20220320091410960 2.1 商品属性分类表 2.2 商品属性表 type字段用于控制..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142392.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-28T01:58:08.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-28T01:58:08.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mall中商品属性类型（类型=属性=规格+参数）设计\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142392.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142431.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142453.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142477.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142504.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142534.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142566.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142594.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142615.png\\",\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142638.png\\"],\\"dateModified\\":\\"2024-10-28T01:58:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://springg.us.kg\\"}]}"]]},"headers":[{"level":2,"title":"1. 简介","slug":"_1-简介","link":"#_1-简介","children":[]},{"level":2,"title":"2. 表设计","slug":"_2-表设计","link":"#_2-表设计","children":[{"level":3,"title":"2.1 商品属性分类表","slug":"_2-1-商品属性分类表","link":"#_2-1-商品属性分类表","children":[]},{"level":3,"title":"2.2 商品属性表","slug":"_2-2-商品属性表","link":"#_2-2-商品属性表","children":[]},{"level":3,"title":"2.3 商品属性值表","slug":"_2-3-商品属性值表","link":"#_2-3-商品属性值表","children":[]},{"level":3,"title":"2.4 商品分类和属性的关系表","slug":"_2-4-商品分类和属性的关系表","link":"#_2-4-商品分类和属性的关系表","children":[]}]},{"level":2,"title":"3. 代码设计","slug":"_3-代码设计","link":"#_3-代码设计","children":[{"level":3,"title":"3.1 新增商品属性","slug":"_3-1-新增商品属性","link":"#_3-1-新增商品属性","children":[]}]},{"level":2,"title":"4. 界面设计","slug":"_4-界面设计","link":"#_4-界面设计","children":[{"level":3,"title":"4.1 管理端","slug":"_4-1-管理端","link":"#_4-1-管理端","children":[]},{"level":3,"title":"4.2 移动端","slug":"_4-2-移动端","link":"#_4-2-移动端","children":[]}]}],"git":{"createdTime":1730080688000,"updatedTime":1730080688000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":2.65,"words":795},"filePathRelative":"posts/Architect/mall/mall-product-attribute.md","localizedDate":"2024年10月28日","excerpt":"\\n<h2>1. 简介</h2>\\n<p>商品类型即商品属性，主要是指商品的规格和参数，</p>\\n<ul>\\n<li>规格：用于用户购买商品时选择</li>\\n<li>参数：用于标示商品属性及搜索时筛选。</li>\\n</ul>\\n<h2>2. 表设计</h2>\\n<figure><img src=\\"https://cdn.jsdelivr.net/gh/MrJackC/PicGoImages/other/202404301142392.png\\" alt=\\"image-20220320091410960\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image-20220320091410960</figcaption></figure>","autoDesc":true}');export{o as comp,c as data};
