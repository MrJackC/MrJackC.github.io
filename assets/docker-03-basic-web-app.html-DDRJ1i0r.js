import{_ as a,c as n,a as i,o as l}from"./app-B1yAKrtW.js";const p={};function o(e,s){return l(),n("div",null,s[0]||(s[0]=[i(`<h1 id="docker基础-一个web应用实例1" tabindex="-1"><a class="header-anchor" href="#docker基础-一个web应用实例1"><span>Docker基础 - 一个web应用实例1</span></a></h1><h2 id="_1-一个web-应用运行和访问" tabindex="-1"><a class="header-anchor" href="#_1-一个web-应用运行和访问"><span>1. 一个web 应用运行和访问</span></a></h2><h3 id="_1-1-运行一个-web-应用" tabindex="-1"><a class="header-anchor" href="#_1-1-运行一个-web-应用"><span>1.1 运行一个 web 应用</span></a></h3><blockquote><p>我们只需要找一个webapp的镜像即可，无需自己再写个程序啥的。接下来让我们尝试使用 docker 构建一个 web 应用程序。</p></blockquote><p>这里找了一个<code>training/webapp</code>，它是将在docker容器中运行一个 Python Flask web应用。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker pull training/webapp</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Using</span><span style="color:#98C379;--shiki-dark:#98C379;"> default</span><span style="color:#98C379;--shiki-dark:#98C379;"> tag:</span><span style="color:#98C379;--shiki-dark:#98C379;"> latest</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">latest:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pulling</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> training/webapp</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Image</span><span style="color:#98C379;--shiki-dark:#98C379;"> docker.io/training/webapp:latest</span><span style="color:#98C379;--shiki-dark:#98C379;"> uses</span><span style="color:#98C379;--shiki-dark:#98C379;"> outdated</span><span style="color:#98C379;--shiki-dark:#98C379;"> schema1</span><span style="color:#98C379;--shiki-dark:#98C379;"> manifest</span><span style="color:#98C379;--shiki-dark:#98C379;"> format.</span><span style="color:#98C379;--shiki-dark:#98C379;"> Please</span><span style="color:#98C379;--shiki-dark:#98C379;"> upgrade</span><span style="color:#98C379;--shiki-dark:#98C379;"> to</span><span style="color:#98C379;--shiki-dark:#98C379;"> a</span><span style="color:#98C379;--shiki-dark:#98C379;"> schema2</span><span style="color:#98C379;--shiki-dark:#98C379;"> image</span><span style="color:#98C379;--shiki-dark:#98C379;"> for</span><span style="color:#98C379;--shiki-dark:#98C379;"> better</span><span style="color:#98C379;--shiki-dark:#98C379;"> future</span><span style="color:#98C379;--shiki-dark:#98C379;"> compatibility.</span><span style="color:#98C379;--shiki-dark:#98C379;"> More</span><span style="color:#98C379;--shiki-dark:#98C379;"> information</span><span style="color:#98C379;--shiki-dark:#98C379;"> at</span><span style="color:#98C379;--shiki-dark:#98C379;"> https://docs.docker.com/registry/spec/deprecated-schema-v1/</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">e190868d63f8:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">909cd34c6fd7:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">0b9bfabab7c1:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">a3ed95caeb02:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">10bbbc0fc0ff:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">fca59b508e9f:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">e7ae2541b15b:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">9dd97ef58ce9:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">a4c1b0cb7af7:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Digest:</span><span style="color:#98C379;--shiki-dark:#98C379;"> sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Status:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Downloaded</span><span style="color:#98C379;--shiki-dark:#98C379;"> newer</span><span style="color:#98C379;--shiki-dark:#98C379;"> image</span><span style="color:#98C379;--shiki-dark:#98C379;"> for</span><span style="color:#98C379;--shiki-dark:#98C379;"> training/webapp:latest</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">docker.io/training/webapp:latest</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker images | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#98C379;--shiki-dark:#98C379;"> webapp</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">     latest</span><span style="color:#98C379;--shiki-dark:#98C379;">              6fae60ef3446</span><span style="color:#D19A66;--shiki-dark:#D19A66;">        4</span><span style="color:#98C379;--shiki-dark:#98C379;"> years</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">         349MB</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着，我们启动这个webapp</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker run -d -P training/webapp python app.py</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae218494d5aa5902c1ca4435733567b5e81319f02e5d2509d45cbc25da</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">               COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">             CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">              PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">                     NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae2184</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">     &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">     18</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 17</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">       0.0.0.0:32768</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">   gifted_agnesi</span></span></code></pre></div><p>参数说明:</p><ul><li><code>-d</code>:让容器在后台运行。</li><li><code>-P</code>:将容器内部使用的网络端口映射到我们使用的主机上。</li></ul><h3 id="_1-2-访问webapp" tabindex="-1"><a class="header-anchor" href="#_1-2-访问webapp"><span>1.2 访问webapp</span></a></h3><blockquote><p>我们注意看上述PORTS部分为0.0.0.0:32769-&gt;5000/tcp</p></blockquote><p>Docker 开放了 5000 端口（默认 Python Flask 端口）映射到主机端口 32768 上。</p><ul><li><strong>从主机上看</strong>，它应该暴露了<strong>端口32768</strong></li></ul><p>所以我们来验证下：</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# netstat | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 32768</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# netstat -nltp | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 32768</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">tcp6</span><span style="color:#D19A66;--shiki-dark:#D19A66;">       0</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      0</span><span style="color:#98C379;--shiki-dark:#98C379;"> :::32768</span><span style="color:#98C379;--shiki-dark:#98C379;">                :::</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">*</span><span style="color:#98C379;--shiki-dark:#98C379;">                    LISTEN</span><span style="color:#98C379;--shiki-dark:#98C379;">      2227/docker-proxy</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# curl localhost:32768</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Hello</span><span style="color:#98C379;--shiki-dark:#98C379;"> world!</span></span></code></pre></div><p>这意味着，你浏览器你可以输入<code>localhost:32768</code>访问这个页面。</p><ul><li><strong>从容器内部看</strong>，它应该有一个<strong>端口5000</strong></li></ul><p>我们再进容器验证下：</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker exec -it ec3eb9ae2184 /bin/bash</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@ec3eb9ae2184:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> netstat</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -nltp</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Active</span><span style="color:#98C379;--shiki-dark:#98C379;"> Internet</span><span style="color:#98C379;--shiki-dark:#98C379;"> connections</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (only </span><span style="color:#98C379;--shiki-dark:#98C379;">servers</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Proto</span><span style="color:#98C379;--shiki-dark:#98C379;"> Recv-Q</span><span style="color:#98C379;--shiki-dark:#98C379;"> Send-Q</span><span style="color:#98C379;--shiki-dark:#98C379;"> Local</span><span style="color:#98C379;--shiki-dark:#98C379;"> Address</span><span style="color:#98C379;--shiki-dark:#98C379;">           Foreign</span><span style="color:#98C379;--shiki-dark:#98C379;"> Address</span><span style="color:#98C379;--shiki-dark:#98C379;">         State</span><span style="color:#98C379;--shiki-dark:#98C379;">       PID/Program</span><span style="color:#98C379;--shiki-dark:#98C379;"> name</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">tcp</span><span style="color:#D19A66;--shiki-dark:#D19A66;">        0</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      0</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0.0.0.0:5000</span><span style="color:#98C379;--shiki-dark:#98C379;">            0.0.0.0:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">*</span><span style="color:#98C379;--shiki-dark:#98C379;">               LISTEN</span><span style="color:#98C379;--shiki-dark:#98C379;">      1/python</span></span></code></pre></div><p>所以我们的理解是对的。</p><h3 id="_1-3-设置自定义映射端口" tabindex="-1"><a class="header-anchor" href="#_1-3-设置自定义映射端口"><span>1.3 设置自定义映射端口</span></a></h3><blockquote><p>我们发现，通过 <code>-P</code>参数映射到主机上的端口是随机，能否自定义端口呢？</p></blockquote><p>我们可以通过 -p 参数来设置不一样的端口；为了对比，我们再起一个容器实例：</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker run -d -p 5001:5000 training/webapp python app.py</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">               COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">             CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">              PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">                     NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5da3588d5bc4</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">     &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">     33</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 31</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">       0.0.0.0:5001</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">    hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae2184</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">     &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">     22</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 22</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;">       0.0.0.0:32768</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">   gifted_agnesi</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# netstat -nltp | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 5001</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">tcp6</span><span style="color:#D19A66;--shiki-dark:#D19A66;">       0</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      0</span><span style="color:#98C379;--shiki-dark:#98C379;"> :::5001</span><span style="color:#98C379;--shiki-dark:#98C379;">                 :::</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">*</span><span style="color:#98C379;--shiki-dark:#98C379;">                    LISTEN</span><span style="color:#98C379;--shiki-dark:#98C379;">      2591/docker-proxy</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# curl localhost:5001</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Hello</span><span style="color:#98C379;--shiki-dark:#98C379;"> world!</span></span></code></pre></div><p>所以你看到跑了两个内部端口都是5000的web实例，新的容器内部的 5000 端口映射到我们本地主机的 5001 端口上。</p><h2 id="_2-其它常用功能" tabindex="-1"><a class="header-anchor" href="#_2-其它常用功能"><span>2. 其它常用功能</span></a></h2><h3 id="_2-1-查看web-应用网络端口" tabindex="-1"><a class="header-anchor" href="#_2-1-查看web-应用网络端口"><span>2.1 查看web 应用网络端口</span></a></h3><blockquote><p>通过 docker ps 命令可以查看到容器的端口映射，docker 还提供了另一个快捷方式 docker port，使用 docker port 可以查看指定 （ID 或者名字）容器的某个确定端口映射到宿主机的端口号。</p></blockquote><p>上面我们创建的 web 应用容器 ID 为 5da3588d5bc4 名字为 hopeful_bardeen。</p><p>我可以这样查看容器端口的映射情况：</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker port 5da3588d5bc4</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5000/tcp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">0.0.0.0:5001</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker port hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5000/tcp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">0.0.0.0:5001</span></span></code></pre></div><h3 id="_2-2-查看-web-应用程序日志" tabindex="-1"><a class="header-anchor" href="#_2-2-查看-web-应用程序日志"><span>2.2 查看 WEB 应用程序日志</span></a></h3><blockquote><p>docker logs [ID或者名字] 可以查看容器内部的标准输出。</p></blockquote><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker port hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5000/tcp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">0.0.0.0:5001</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker logs -f hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> *</span><span style="color:#98C379;--shiki-dark:#98C379;"> Running</span><span style="color:#98C379;--shiki-dark:#98C379;"> on</span><span style="color:#98C379;--shiki-dark:#98C379;"> http://0.0.0.0:5000/</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (Press </span><span style="color:#98C379;--shiki-dark:#98C379;">CTRL+C</span><span style="color:#98C379;--shiki-dark:#98C379;"> to</span><span style="color:#98C379;--shiki-dark:#98C379;"> quit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">172.17.0.1</span><span style="color:#98C379;--shiki-dark:#98C379;"> -</span><span style="color:#98C379;--shiki-dark:#98C379;"> -</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [18/Feb/2020 </span><span style="color:#98C379;--shiki-dark:#98C379;">09:08:31]</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;GET / HTTP/1.1&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 200</span><span style="color:#98C379;--shiki-dark:#98C379;"> -</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">^C</span></span></code></pre></div><p>参数说明：</p><ul><li><code>-f</code>: 让 docker logs 像使用 tail -f 一样来输出容器内部的标准输出。</li></ul><p>从上面，我们可以看到应用程序使用的是 5000 端口并且能够查看到应用程序的访问日志。</p><h3 id="_2-3-查看web应用程序容器的进程" tabindex="-1"><a class="header-anchor" href="#_2-3-查看web应用程序容器的进程"><span>2.3 查看WEB应用程序容器的进程</span></a></h3><p>我们还可以使用 docker top 来查看容器内部运行的进程</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker top hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">UID</span><span style="color:#98C379;--shiki-dark:#98C379;">                 PID</span><span style="color:#98C379;--shiki-dark:#98C379;">                 PPID</span><span style="color:#98C379;--shiki-dark:#98C379;">                C</span><span style="color:#98C379;--shiki-dark:#98C379;">                   STIME</span><span style="color:#98C379;--shiki-dark:#98C379;">               TTY</span><span style="color:#98C379;--shiki-dark:#98C379;">                 TIME</span><span style="color:#98C379;--shiki-dark:#98C379;">                CMD</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root</span><span style="color:#D19A66;--shiki-dark:#D19A66;">                2614</span><span style="color:#D19A66;--shiki-dark:#D19A66;">                2597</span><span style="color:#D19A66;--shiki-dark:#D19A66;">                0</span><span style="color:#98C379;--shiki-dark:#98C379;">                   17:07</span><span style="color:#98C379;--shiki-dark:#98C379;">               ?</span><span style="color:#98C379;--shiki-dark:#98C379;">                   00:00:00</span><span style="color:#98C379;--shiki-dark:#98C379;">            python</span><span style="color:#98C379;--shiki-dark:#98C379;"> app.py</span></span></code></pre></div><h3 id="_2-4-检查-web-应用程序" tabindex="-1"><a class="header-anchor" href="#_2-4-检查-web-应用程序"><span>2.4 检查 WEB 应用程序</span></a></h3><p>使用 docker inspect 来查看 Docker 的底层信息。它会返回一个 JSON 文件记录着 Docker 容器的配置和状态信息。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker inspect hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Id&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Created&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;2020-02-18T09:07:32.827193286Z&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Path&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;python&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Args&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;app.py&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        ],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;State&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Status&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;running&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Running&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">true</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Paused&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Restarting&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;OOMKilled&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Dead&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Pid&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 2614,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ExitCode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Error&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;StartedAt&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;2020-02-18T09:07:33.374368448Z&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;FinishedAt&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;0001-01-01T00:00:00Z&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Image&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;sha256:6fae60ef344644649a39240b94d73b8ba9c67f898ede85cf8e947a887b3e6557&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;ResolvConfPath&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/containers/5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a/resolv.conf&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;HostnamePath&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/containers/5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a/hostname&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;HostsPath&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/containers/5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a/hosts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;LogPath&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/containers/5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a/5da3588d5bc43a9ed3aa61fb87f98220c9719d2879b616404d443aaae6cee77a-json.log&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Name&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/hopeful_bardeen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;RestartCount&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Driver&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;overlay2&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Platform&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;linux&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;MountLabel&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;ProcessLabel&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;AppArmorProfile&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;ExecIDs&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;HostConfig&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Binds&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ContainerIDFile&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;LogConfig&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;Type&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;json-file&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;Config&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;NetworkMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;default&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;PortBindings&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;5000/tcp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                        &quot;HostIp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                        &quot;HostPort&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5001&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                ]</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;RestartPolicy&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;Name&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;no&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;MaximumRetryCount&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;AutoRemove&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;VolumeDriver&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;VolumesFrom&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CapAdd&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CapDrop&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Capabilities&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Dns&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;DnsOptions&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;DnsSearch&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ExtraHosts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;GroupAdd&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IpcMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;private&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Cgroup&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Links&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;OomScoreAdj&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;PidMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Privileged&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;PublishAllPorts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ReadonlyRootfs&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;SecurityOpt&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;UTSMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;UsernsMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ShmSize&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 67108864,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Runtime&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;runc&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ConsoleSize&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                0,</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">                0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Isolation&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuShares&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Memory&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;NanoCpus&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CgroupParent&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioWeight&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioWeightDevice&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioDeviceReadBps&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioDeviceWriteBps&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioDeviceReadIOps&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;BlkioDeviceWriteIOps&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuPeriod&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuQuota&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuRealtimePeriod&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuRealtimeRuntime&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpusetCpus&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpusetMems&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Devices&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;DeviceCgroupRules&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;DeviceRequests&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;KernelMemory&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;KernelMemoryTCP&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;MemoryReservation&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;MemorySwap&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;MemorySwappiness&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;OomKillDisable&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;PidsLimit&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Ulimits&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuCount&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;CpuPercent&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IOMaximumIOps&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IOMaximumBandwidth&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;MaskedPaths&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/asound&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/acpi&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/kcore&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/keys&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/latency_stats&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/timer_list&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/timer_stats&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/sched_debug&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/scsi&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/sys/firmware&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ReadonlyPaths&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/bus&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/fs&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/irq&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/sys&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;/proc/sysrq-trigger&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            ]</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;GraphDriver&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Data&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;LowerDir&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/overlay2/c6594e5b70feca02eb4b90ac75aba711f36378d5cb9853ffca1ec92f9d0c3e14-init/diff:/var/lib/docker/overlay2/d4690a06236a3857a2a51ab84c61992e50ea3e1a613f4793334916604ea0dfa0/diff:/var/lib/docker/overlay2/c45d0215cd2076174f38fea5003c3ff11a5ba2df2141d9d069f4bf32dac9a22a/diff:/var/lib/docker/overlay2/1cf63068912234a1f4c861f58f155423c87193c6e438948db493687d4da4f0a0/diff:/var/lib/docker/overlay2/55e4ecb04b1ff8d048bc75bb8698c782c813d45caa6f0d82ac6c49adec24bead/diff:/var/lib/docker/overlay2/27fa0dc314b851b8d2f0386d230a725f57117f9f1ccdb49ca27f5ad424cb4a90/diff:/var/lib/docker/overlay2/65a5a082188d9e0b9aaf09c2e9c3b3f8141f74c781996680dfaca63d81672cdf/diff:/var/lib/docker/overlay2/658a33c92cf114ee4cbc10f117207a0c813e39a908acc014fbce1783a28bc654/diff:/var/lib/docker/overlay2/e5b5c9e0abc43ff2750dcd33decc65d90d733b18f2626b91c500d803d7fe189b/diff:/var/lib/docker/overlay2/0b5181e429a89f6ab291e090b972e11718e4f63158ed60af1fce18095d0352a6/diff:/var/lib/docker/overlay2/f7c0405739bb58fdfa9af402a72507b78bc2a48b0d74356dad59495906b6e0e5/diff:/var/lib/docker/overlay2/073c45ae4a6ff27950a1dd969a675d3dcdc18392bb205ddde5913fcc10a751ef/diff:/var/lib/docker/overlay2/f92534844c8cc5b950ea36369b8e4a7dd7f7749e73483908e5d129bf5c26442f/diff:/var/lib/docker/overlay2/477378381d03c4b347d7b9224c4c9023b5dfbfde32022c7eb8af32e7a01b88b2/diff&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;MergedDir&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/overlay2/c6594e5b70feca02eb4b90ac75aba711f36378d5cb9853ffca1ec92f9d0c3e14/merged&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;UpperDir&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/overlay2/c6594e5b70feca02eb4b90ac75aba711f36378d5cb9853ffca1ec92f9d0c3e14/diff&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;WorkDir&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/lib/docker/overlay2/c6594e5b70feca02eb4b90ac75aba711f36378d5cb9853ffca1ec92f9d0c3e14/work&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Name&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;overlay2&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Mounts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;Config&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Hostname&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5da3588d5bc4&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Domainname&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;User&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;AttachStdin&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;AttachStdout&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;AttachStderr&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;ExposedPorts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;5000/tcp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Tty&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;OpenStdin&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;StdinOnce&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Env&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Cmd&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;python&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;app.py&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Image&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;training/webapp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Volumes&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;WorkingDir&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/opt/webapp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Entrypoint&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;OnBuild&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Labels&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">        &quot;NetworkSettings&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Bridge&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;SandboxID&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;66e1f111a5d7acca71f0e9e24516a6945bca428f55ac1eab1576c99bde16190c&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;HairpinMode&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;LinkLocalIPv6Address&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;LinkLocalIPv6PrefixLen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Ports&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;5000/tcp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                        &quot;HostIp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;0.0.0.0&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                        &quot;HostPort&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;5001&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                ]</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            },</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;SandboxKey&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;/var/run/docker/netns/66e1f111a5d7&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;SecondaryIPAddresses&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;SecondaryIPv6Addresses&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;EndpointID&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;794d5e97cd3bbb62c8a7a850f125404d174ecc45df4e704dbee403b1be7a2835&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Gateway&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;172.17.0.1&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;GlobalIPv6Address&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;GlobalIPv6PrefixLen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IPAddress&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;172.17.0.3&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IPPrefixLen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 16,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;IPv6Gateway&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;MacAddress&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;02:42:ac:11:00:03&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;Networks&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                &quot;bridge&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;IPAMConfig&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;Links&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;Aliases&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;NetworkID&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;b8c5abdb0becacfa1bfa1d72e2e663fb0157b62a9b8bee37e2607211722713cc&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;EndpointID&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;794d5e97cd3bbb62c8a7a850f125404d174ecc45df4e704dbee403b1be7a2835&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;Gateway&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;172.17.0.1&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;IPAddress&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;172.17.0.3&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;IPPrefixLen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 16,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;IPv6Gateway&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;GlobalIPv6Address&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;GlobalIPv6PrefixLen&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: 0,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;MacAddress&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;02:42:ac:11:00:03&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;DriverOpts&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: null</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-停止-web-应用容器" tabindex="-1"><a class="header-anchor" href="#_2-5-停止-web-应用容器"><span>2.5 停止 WEB 应用容器</span></a></h3><p>再复习下docker的停止</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker stop hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;hopeful_bardeen&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5da3588d5bc4</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">      &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      13</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Exited</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (137) 12 seconds ago                             hopeful_bardeen</span></span></code></pre></div><h3 id="_2-6-重启web应用容器" tabindex="-1"><a class="header-anchor" href="#_2-6-重启web应用容器"><span>2.6 重启WEB应用容器</span></a></h3><p>已经停止的容器，我们可以使用命令 docker start 或者docker restart 来启动。</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker restart hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#98C379;--shiki-dark:#98C379;"> hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5da3588d5bc4</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">      &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      14</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 10</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">            0.0.0.0:5001</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">    hopeful_bardeen</span></span></code></pre></div><h3 id="_2-7-移除web应用容器" tabindex="-1"><a class="header-anchor" href="#_2-7-移除web应用容器"><span>2.7 移除WEB应用容器</span></a></h3><p>我们可以使用 docker rm 命令来删除不需要的容器</p><p>我们上文也讲过，如果是启动着的docker实例，需要加-f，强制（force）删除。</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#98C379;--shiki-dark:#98C379;"> hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">5da3588d5bc4</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">      &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      14</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">      Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 10</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">            0.0.0.0:5001</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">    hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker rm -f hopeful_bardeen</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a | </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="color:#98C379;--shiki-dark:#98C379;"> hopeful_bardeen</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]#</span></span></code></pre></div><h2 id="_3-与其它容器-db容器-互联" tabindex="-1"><a class="header-anchor" href="#_3-与其它容器-db容器-互联"><span>3. 与其它容器（DB容器）互联</span></a></h2><blockquote><p>上述是一个web单一容器通过端口映射，可以通过主机端口访问容器；那么如果需要访问数据库，就涉及到容器互联。</p></blockquote><h3 id="_3-1-与数据库容器互联" tabindex="-1"><a class="header-anchor" href="#_3-1-与数据库容器互联"><span>3.1 与数据库容器互联</span></a></h3><ul><li>先停止上述的web容器, 且清理所有不用的容器</li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">                COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">              CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">                    PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">                     NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae2184</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">      &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      18</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 18</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;">               0.0.0.0:32768</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">   gifted_agnesi</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">11de9755a084</span><span style="color:#98C379;--shiki-dark:#98C379;">        pdai/ubuntu:v2.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;/bin/bash&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">          24</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Exited</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (0) 24 hours ago                             pdai-ubuntu-202</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">57bd797570b6</span><span style="color:#98C379;--shiki-dark:#98C379;">        pdai/ubuntu:v2.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;--name pdai-test&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">   24</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Created</span><span style="color:#98C379;--shiki-dark:#98C379;">                                             sharp_brahmagupta</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker stop ec3eb9ae2184</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae2184</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">                COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">              CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">                        PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">               NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae2184</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">      &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">      18</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Exited</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (137) 29 seconds ago                       gifted_agnesi</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">11de9755a084</span><span style="color:#98C379;--shiki-dark:#98C379;">        pdai/ubuntu:v2.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;/bin/bash&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">          24</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Exited</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (0) 24 hours ago                           pdai-ubuntu-202</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">57bd797570b6</span><span style="color:#98C379;--shiki-dark:#98C379;">        pdai/ubuntu:v2.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;--name pdai-test&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">   24</span><span style="color:#98C379;--shiki-dark:#98C379;"> hours</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">        Created</span><span style="color:#98C379;--shiki-dark:#98C379;">                                           sharp_brahmagupta</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker container prune</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">WARNING!</span><span style="color:#98C379;--shiki-dark:#98C379;"> This</span><span style="color:#98C379;--shiki-dark:#98C379;"> will</span><span style="color:#98C379;--shiki-dark:#98C379;"> remove</span><span style="color:#98C379;--shiki-dark:#98C379;"> all</span><span style="color:#98C379;--shiki-dark:#98C379;"> stopped</span><span style="color:#98C379;--shiki-dark:#98C379;"> containers.</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Are</span><span style="color:#98C379;--shiki-dark:#98C379;"> you</span><span style="color:#98C379;--shiki-dark:#98C379;"> sure</span><span style="color:#98C379;--shiki-dark:#98C379;"> you</span><span style="color:#98C379;--shiki-dark:#98C379;"> want</span><span style="color:#98C379;--shiki-dark:#98C379;"> to</span><span style="color:#98C379;--shiki-dark:#98C379;"> continue?</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [y/N] y</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Deleted</span><span style="color:#98C379;--shiki-dark:#98C379;"> Containers:</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ec3eb9ae218494d5aa5902c1ca4435733567b5e81319f02e5d2509d45cbc25da</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">11de9755a08402d963d263a559a7daf48f4a2188398f258641240b5eb50fbc89</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">57bd797570b68b6587b16809889e6e8f710ec7a934229aa6391add02f758e036</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Total</span><span style="color:#98C379;--shiki-dark:#98C379;"> reclaimed</span><span style="color:#98C379;--shiki-dark:#98C379;"> space:</span><span style="color:#98C379;--shiki-dark:#98C379;"> 89B</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]#</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>创建一个新的数据库容器。</li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker run -d --name db training/postgres</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Unable</span><span style="color:#98C379;--shiki-dark:#98C379;"> to</span><span style="color:#98C379;--shiki-dark:#98C379;"> find</span><span style="color:#98C379;--shiki-dark:#98C379;"> image</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;training/postgres:latest&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> locally</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">latest:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pulling</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> training/postgres</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Image</span><span style="color:#98C379;--shiki-dark:#98C379;"> docker.io/training/postgres:latest</span><span style="color:#98C379;--shiki-dark:#98C379;"> uses</span><span style="color:#98C379;--shiki-dark:#98C379;"> outdated</span><span style="color:#98C379;--shiki-dark:#98C379;"> schema1</span><span style="color:#98C379;--shiki-dark:#98C379;"> manifest</span><span style="color:#98C379;--shiki-dark:#98C379;"> format.</span><span style="color:#98C379;--shiki-dark:#98C379;"> Please</span><span style="color:#98C379;--shiki-dark:#98C379;"> upgrade</span><span style="color:#98C379;--shiki-dark:#98C379;"> to</span><span style="color:#98C379;--shiki-dark:#98C379;"> a</span><span style="color:#98C379;--shiki-dark:#98C379;"> schema2</span><span style="color:#98C379;--shiki-dark:#98C379;"> image</span><span style="color:#98C379;--shiki-dark:#98C379;"> for</span><span style="color:#98C379;--shiki-dark:#98C379;"> better</span><span style="color:#98C379;--shiki-dark:#98C379;"> future</span><span style="color:#98C379;--shiki-dark:#98C379;"> compatibility.</span><span style="color:#98C379;--shiki-dark:#98C379;"> More</span><span style="color:#98C379;--shiki-dark:#98C379;"> information</span><span style="color:#98C379;--shiki-dark:#98C379;"> at</span><span style="color:#98C379;--shiki-dark:#98C379;"> https://docs.docker.com/registry/spec/deprecated-schema-v1/</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">a3ed95caeb02:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">6e71c809542e:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2978d9af87ba:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">e1bca35b062f:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">500b6decf741:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">74b14ef2151f:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">7afd5ed3826e:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">3c69bb244f5e:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">d86f9ec5aedf:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">010fabf20157:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Pull</span><span style="color:#98C379;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Digest:</span><span style="color:#98C379;--shiki-dark:#98C379;"> sha256:a945dc6dcfbc8d009c3d972931608344b76c2870ce796da00a827bd50791907e</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Status:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Downloaded</span><span style="color:#98C379;--shiki-dark:#98C379;"> newer</span><span style="color:#98C379;--shiki-dark:#98C379;"> image</span><span style="color:#98C379;--shiki-dark:#98C379;"> for</span><span style="color:#98C379;--shiki-dark:#98C379;"> training/postgres:latest</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">d992e3c761e00649eb436b88c737adc54093b76119af0fb7878596b523f743ca</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">               COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">                  CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">              PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">               NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">d992e3c761e0</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/postgres</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;su postgres -c &#39;/us…&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">   9</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">       Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 7</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">        5432/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">            db</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>db 容器和 web 容器建立互联关系</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker run -d -p 5001:5000 --name web --link db:db training/webapp python app.py</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1cbc9aeba2a8a826d460ecb49de17ddf8ac336e150c752a3c762fd38a3e15254</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker ps -a</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">CONTAINER</span><span style="color:#98C379;--shiki-dark:#98C379;"> ID</span><span style="color:#98C379;--shiki-dark:#98C379;">        IMAGE</span><span style="color:#98C379;--shiki-dark:#98C379;">               COMMAND</span><span style="color:#98C379;--shiki-dark:#98C379;">                  CREATED</span><span style="color:#98C379;--shiki-dark:#98C379;">             STATUS</span><span style="color:#98C379;--shiki-dark:#98C379;">              PORTS</span><span style="color:#98C379;--shiki-dark:#98C379;">                    NAMES</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">1cbc9aeba2a8</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/webapp</span><span style="color:#98C379;--shiki-dark:#98C379;">     &quot;python app.py&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">          5</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">       Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 4</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#98C379;--shiki-dark:#98C379;">        0.0.0.0:5001</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">-&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">5000/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">   web</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">d992e3c761e0</span><span style="color:#98C379;--shiki-dark:#98C379;">        training/postgres</span><span style="color:#98C379;--shiki-dark:#98C379;">   &quot;su postgres -c &#39;/us…&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;">   7</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;"> ago</span><span style="color:#98C379;--shiki-dark:#98C379;">       Up</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 7</span><span style="color:#98C379;--shiki-dark:#98C379;"> minutes</span><span style="color:#98C379;--shiki-dark:#98C379;">        5432/tcp</span><span style="color:#98C379;--shiki-dark:#98C379;">                 db</span></span></code></pre></div><p>--link 参数的格式为 --link name:alias，其中 name 是要链接的容器的名称，alias 是这个连接的别名。</p><blockquote><p>Docker 在两个互联的容器之间创建了一个安全隧道，而且不用映射它们的端口到宿主主机上。在启动 db 容器的时候并没有使用 -p 和 -P 标记，从而避免了暴露数据库端口到外部网络上。</p></blockquote><h3 id="_3-2容器公开的连接信息" tabindex="-1"><a class="header-anchor" href="#_3-2容器公开的连接信息"><span>3.2容器公开的连接信息</span></a></h3><p>Docker 通过 2 种方式为容器公开连接信息：</p><ul><li>环境变量</li><li>更新 /etc/hosts 文件</li></ul><h4 id="_3-2-1环境变量" tabindex="-1"><a class="header-anchor" href="#_3-2-1环境变量"><span>3.2.1环境变量</span></a></h4><p>使用 env 命令来查看 web 容器的环境变量</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[root@pdai ~]# docker exec -it web /bin/bash</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> env</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">HOSTNAME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">1cbc9aeba2a8</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_NAME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/web/db</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_PORT_5432_TCP_ADDR</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">172.17.0.2</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_PORT</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">tcp://172.17.0.2:5432</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_PORT_5432_TCP</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">tcp://172.17.0.2:5432</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">PATH</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">PWD</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/opt/webapp</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_PORT_5432_TCP_PORT</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">5432</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">SHLVL</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">1</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">HOME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/root</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_PORT_5432_TCP_PROTO</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">tcp</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">DB_ENV_PG_VERSION</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">9.3</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">_</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/usr/bin/env</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 DB_ 开头的环境变量是供 web 容器连接 db 容器使用，前缀采用大写的连接别名。</p><h4 id="_3-2-2-hosts-文件" tabindex="-1"><a class="header-anchor" href="#_3-2-2-hosts-文件"><span>3.2.2 hosts 文件</span></a></h4><p>除了环境变量，Docker 还添加 host 信息到父容器的 /etc/hosts 的文件。下面是父容器 web 的 hosts 文件</p><div class="language-bash" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> cat</span><span style="color:#98C379;--shiki-dark:#98C379;"> /etc/hosts</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">127.0.0.1</span><span style="color:#98C379;--shiki-dark:#98C379;">       localhost</span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">:</span><span style="color:#98C379;--shiki-dark:#98C379;">:1</span><span style="color:#98C379;--shiki-dark:#98C379;">     localhost</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-localhost</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-loopback</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">fe00::0</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-localnet</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ff00::0</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-mcastprefix</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ff02::1</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-allnodes</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ff02::2</span><span style="color:#98C379;--shiki-dark:#98C379;"> ip6-allrouters</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">172.17.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;">      db</span><span style="color:#98C379;--shiki-dark:#98C379;"> d992e3c761e0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">172.17.0.3</span><span style="color:#98C379;--shiki-dark:#98C379;">      1cbc9aeba2a8</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span></span></code></pre></div><p>这里有 2 个 hosts:</p><ul><li>第一个, <code>172.17.0.2 db d992e3c761e0</code> 表示 db 容器的 ip, ID和Name</li><li>第二个，<code>172.17.0.3 1cbc9aeba2a8</code> 表示 web 容器的 ip, ID</li></ul><p>可以在 web 容器中安装 ping 命令来测试跟db容器的连通。</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>root@1cbc9aeba2a8:/opt/webapp# apt-get install -yqq inetutils-ping</span></span>
<span class="line"><span>(Reading database ... 18233 files and directories currently installed.)</span></span>
<span class="line"><span>Removing ubuntu-minimal (1.325) ...</span></span>
<span class="line"><span>Removing iputils-ping (3:20121221-4ubuntu1.1) ...</span></span>
<span class="line"><span>Selecting previously unselected package inetutils-ping.</span></span>
<span class="line"><span>(Reading database ... 18221 files and directories currently installed.)</span></span>
<span class="line"><span>Preparing to unpack .../inetutils-ping_2%3a1.9.2-1_amd64.deb ...</span></span>
<span class="line"><span>Unpacking inetutils-ping (2:1.9.2-1) ...</span></span>
<span class="line"><span>Setting up inetutils-ping (2:1.9.2-1) ...</span></span>
<span class="line"><span>root@1cbc9aeba2a8:/opt/webapp# ping db</span></span>
<span class="line"><span>PING db (172.17.0.2): 56 data bytes</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=0 ttl=64 time=0.110 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.092 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.094 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=3 ttl=64 time=0.104 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=4 ttl=64 time=0.111 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=5 ttl=64 time=0.093 ms</span></span>
<span class="line"><span>64 bytes from 172.17.0.2: icmp_seq=6 ttl=64 time=0.095 ms</span></span>
<span class="line"><span>^C--- db ping statistics ---</span></span>
<span class="line"><span>7 packets transmitted, 7 packets received, 0% packet loss</span></span>
<span class="line"><span>round-trip min/avg/max/stddev = 0.092/0.100/0.111/0.000 ms</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用 ping 来测试db容器，它会解析成 172.17.0.2。</p><p>当然，你还可以ping db容器的ID或者内部IP, 结果是一样的。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> ping</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> -t</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 4</span><span style="color:#98C379;--shiki-dark:#98C379;"> d992e3c761e0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ping:</span><span style="color:#98C379;--shiki-dark:#98C379;"> unsupported</span><span style="color:#98C379;--shiki-dark:#98C379;"> packet</span><span style="color:#98C379;--shiki-dark:#98C379;"> type:</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 4</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> ping</span><span style="color:#98C379;--shiki-dark:#98C379;"> d992e3c761e0</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">PING</span><span style="color:#98C379;--shiki-dark:#98C379;"> db</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (172.17.0.2): 56 data bytes</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> bytes</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> 172.17.0.2:</span><span style="color:#98C379;--shiki-dark:#98C379;"> icmp_seq=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#98C379;--shiki-dark:#98C379;"> ttl=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> time=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.089</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> bytes</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> 172.17.0.2:</span><span style="color:#98C379;--shiki-dark:#98C379;"> icmp_seq=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#98C379;--shiki-dark:#98C379;"> ttl=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> time=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.093</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">^C---</span><span style="color:#98C379;--shiki-dark:#98C379;"> db</span><span style="color:#98C379;--shiki-dark:#98C379;"> ping</span><span style="color:#98C379;--shiki-dark:#98C379;"> statistics</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> ---</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#98C379;--shiki-dark:#98C379;"> packets</span><span style="color:#98C379;--shiki-dark:#98C379;"> transmitted,</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2</span><span style="color:#98C379;--shiki-dark:#98C379;"> packets</span><span style="color:#98C379;--shiki-dark:#98C379;"> received,</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0%</span><span style="color:#98C379;--shiki-dark:#98C379;"> packet</span><span style="color:#98C379;--shiki-dark:#98C379;"> loss</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">round-trip</span><span style="color:#98C379;--shiki-dark:#98C379;"> min/avg/max/stddev</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0.089/0.091/0.093/0.000</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span><span style="color:#98C379;--shiki-dark:#98C379;"> ping</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 172.17.0.2</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">PING</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 172.17.0.2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (172.17.0.2): 56 data bytes</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> bytes</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> 172.17.0.2:</span><span style="color:#98C379;--shiki-dark:#98C379;"> icmp_seq=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#98C379;--shiki-dark:#98C379;"> ttl=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> time=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.094</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> bytes</span><span style="color:#98C379;--shiki-dark:#98C379;"> from</span><span style="color:#98C379;--shiki-dark:#98C379;"> 172.17.0.2:</span><span style="color:#98C379;--shiki-dark:#98C379;"> icmp_seq=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#98C379;--shiki-dark:#98C379;"> ttl=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">64</span><span style="color:#98C379;--shiki-dark:#98C379;"> time=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.103</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">^C---</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 172.17.0.2</span><span style="color:#98C379;--shiki-dark:#98C379;"> ping</span><span style="color:#98C379;--shiki-dark:#98C379;"> statistics</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> ---</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#98C379;--shiki-dark:#98C379;"> packets</span><span style="color:#98C379;--shiki-dark:#98C379;"> transmitted,</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2</span><span style="color:#98C379;--shiki-dark:#98C379;"> packets</span><span style="color:#98C379;--shiki-dark:#98C379;"> received,</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0%</span><span style="color:#98C379;--shiki-dark:#98C379;"> packet</span><span style="color:#98C379;--shiki-dark:#98C379;"> loss</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">round-trip</span><span style="color:#98C379;--shiki-dark:#98C379;"> min/avg/max/stddev</span><span style="color:#98C379;--shiki-dark:#98C379;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0.094/0.099/0.103/0.000</span><span style="color:#98C379;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">root@1cbc9aeba2a8:/opt/webapp#</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用户可以链接多个父容器到子容器，比如可以链接多个 web 到 db 容器上。</p><h2 id="参考文章" tabindex="-1"><a class="header-anchor" href="#参考文章"><span>参考文章</span></a></h2><p><a href="https://pdai.tech/md/devops/docker/docker-03-basic-web-app.html" target="_blank" rel="noopener noreferrer"><strong>Docker基础 - 一个web应用实例</strong></a></p>`,85)]))}const k=a(p,[["render",o],["__file","docker-03-basic-web-app.html.vue"]]),d=JSON.parse('{"path":"/posts/Docker/docker-03-basic-web-app.html","title":"Docker基础 - 一个web应用实例1","lang":"zh-CN","frontmatter":{"description":"Docker基础 - 一个web应用实例1 1. 一个web 应用运行和访问 1.1 运行一个 web 应用 我们只需要找一个webapp的镜像即可，无需自己再写个程序啥的。接下来让我们尝试使用 docker 构建一个 web 应用程序。 这里找了一个training/webapp，它是将在docker容器中运行一个 Python Flask web应...","head":[["meta",{"property":"og:url","content":"https://mrjackc.github.io/posts/Docker/docker-03-basic-web-app.html"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"Docker基础 - 一个web应用实例1"}],["meta",{"property":"og:description","content":"Docker基础 - 一个web应用实例1 1. 一个web 应用运行和访问 1.1 运行一个 web 应用 我们只需要找一个webapp的镜像即可，无需自己再写个程序啥的。接下来让我们尝试使用 docker 构建一个 web 应用程序。 这里找了一个training/webapp，它是将在docker容器中运行一个 Python Flask web应..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-21T07:03:09.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-21T07:03:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker基础 - 一个web应用实例1\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-21T07:03:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://mrjackc.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1. 一个web 应用运行和访问","slug":"_1-一个web-应用运行和访问","link":"#_1-一个web-应用运行和访问","children":[{"level":3,"title":"1.1 运行一个 web 应用","slug":"_1-1-运行一个-web-应用","link":"#_1-1-运行一个-web-应用","children":[]},{"level":3,"title":"1.2 访问webapp","slug":"_1-2-访问webapp","link":"#_1-2-访问webapp","children":[]},{"level":3,"title":"1.3 设置自定义映射端口","slug":"_1-3-设置自定义映射端口","link":"#_1-3-设置自定义映射端口","children":[]}]},{"level":2,"title":"2. 其它常用功能","slug":"_2-其它常用功能","link":"#_2-其它常用功能","children":[{"level":3,"title":"2.1 查看web 应用网络端口","slug":"_2-1-查看web-应用网络端口","link":"#_2-1-查看web-应用网络端口","children":[]},{"level":3,"title":"2.2 查看 WEB 应用程序日志","slug":"_2-2-查看-web-应用程序日志","link":"#_2-2-查看-web-应用程序日志","children":[]},{"level":3,"title":"2.3 查看WEB应用程序容器的进程","slug":"_2-3-查看web应用程序容器的进程","link":"#_2-3-查看web应用程序容器的进程","children":[]},{"level":3,"title":"2.4 检查 WEB 应用程序","slug":"_2-4-检查-web-应用程序","link":"#_2-4-检查-web-应用程序","children":[]},{"level":3,"title":"2.5 停止 WEB 应用容器","slug":"_2-5-停止-web-应用容器","link":"#_2-5-停止-web-应用容器","children":[]},{"level":3,"title":"2.6 重启WEB应用容器","slug":"_2-6-重启web应用容器","link":"#_2-6-重启web应用容器","children":[]},{"level":3,"title":"2.7 移除WEB应用容器","slug":"_2-7-移除web应用容器","link":"#_2-7-移除web应用容器","children":[]}]},{"level":2,"title":"3. 与其它容器（DB容器）互联","slug":"_3-与其它容器-db容器-互联","link":"#_3-与其它容器-db容器-互联","children":[{"level":3,"title":"3.1 与数据库容器互联","slug":"_3-1-与数据库容器互联","link":"#_3-1-与数据库容器互联","children":[]},{"level":3,"title":"3.2容器公开的连接信息","slug":"_3-2容器公开的连接信息","link":"#_3-2容器公开的连接信息","children":[]}]},{"level":2,"title":"参考文章","slug":"参考文章","link":"#参考文章","children":[]}],"git":{"createdTime":1729494189000,"updatedTime":1729494189000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":8.95,"words":2685},"filePathRelative":"posts/Docker/docker-03-basic-web-app.md","localizedDate":"2024年10月21日","excerpt":"\\n<h2>1. 一个web 应用运行和访问</h2>\\n<h3>1.1 运行一个 web 应用</h3>\\n<blockquote>\\n<p>我们只需要找一个webapp的镜像即可，无需自己再写个程序啥的。接下来让我们尝试使用 docker 构建一个 web 应用程序。</p>\\n</blockquote>\\n<p>这里找了一个<code>training/webapp</code>，它是将在docker容器中运行一个 Python Flask web应用。</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-ext=\\"bash\\" data-title=\\"bash\\"><pre class=\\"shiki shiki-themes one-dark-pro one-dark-pro vp-code\\" style=\\"background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">[root@pdai ~]# docker pull training/webapp</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">Using</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> default</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> tag:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> latest</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">latest:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pulling</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> from</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> training/webapp</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">Image</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> docker.io/training/webapp:latest</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> uses</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> outdated</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> schema1</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> manifest</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> format.</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Please</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> upgrade</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> to</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> a</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> schema2</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> image</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> for</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> better</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> future</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> compatibility.</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> More</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> information</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> at</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> https://docs.docker.com/registry/spec/deprecated-schema-v1/</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">e190868d63f8:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">909cd34c6fd7:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">0b9bfabab7c1:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">a3ed95caeb02:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">10bbbc0fc0ff:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">fca59b508e9f:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">e7ae2541b15b:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">9dd97ef58ce9:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">a4c1b0cb7af7:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Pull</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> complete</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">Digest:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> sha256:06e9c1983bd6d5db5fba376ccd63bfa529e8d02f23d5079b8f74a616308fb11d</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">Status:</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> Downloaded</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> newer</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> image</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> for</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> training/webapp:latest</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">docker.io/training/webapp:latest</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">[root@pdai ~]# docker images | </span><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">grep</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> webapp</span></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">training/webapp</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">     latest</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">              6fae60ef3446</span><span style=\\"color:#D19A66;--shiki-dark:#D19A66\\">        4</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> years</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> ago</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\">         349MB</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{k as comp,d as data};
