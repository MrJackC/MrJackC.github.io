import{_ as a,c as l,a as n,o as e}from"./app-CzniW49G.js";const i={};function r(o,s){return e(),l("div",null,s[0]||(s[0]=[n(`<h1 id="oracle预定义函数" tabindex="-1"><a class="header-anchor" href="#oracle预定义函数"><span>Oracle预定义函数</span></a></h1><h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介"><span>1. 简介</span></a></h2><p>oralce 的函数分为</p><ul><li>单行函数 <ul><li>字符函数</li><li>日期函数</li><li>数字函数</li><li>转换函数</li></ul></li><li>分组函数（后续介绍）</li></ul><blockquote><p>学前知识：哑表 dual</p><p>dual 是一个虚拟表，辅助查找和运算，通常用在select语句中，作为查询的目标表结构，oracle保证dual里面永远只有一条记录</p><p>例如：</p><p>显示1+1 的结果，可以看出，dual很多时候是为了构成select的标准语法</p><p>select 1+1 from dual;</p></blockquote><h2 id="_2-字符函数" tabindex="-1"><a class="header-anchor" href="#_2-字符函数"><span>2. 字符函数</span></a></h2><ol><li><p>LOWER:转换成小写</p></li><li><p>UPPER:转换成大写</p></li><li><p>INITCAP:首字母变成大写，其余都小写</p></li><li><p>CONCAT:字符串的连接</p></li><li><p>SUBSTR(str,start,length)或者SUBSTR(str,start):字符串的截取</p></li><li><p>LENGTH:求字符串的长度</p></li><li><p>NVL : 转换null 的值。(前边已经用过)</p><p>nvl2:</p></li><li><p>DECODE：</p></li></ol><h3 id="_2-1-lower-把字符转为小写" tabindex="-1"><a class="header-anchor" href="#_2-1-lower-把字符转为小写"><span>2.1 LOWER 把字符转为小写</span></a></h3><p>例如：把&#39;HELLO&#39; 转换为小写</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> lower</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;HELLO&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>例如: 把s_emp 表中的last_name 列的值转换为小写</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> lower</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(last_name)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><h3 id="_2-2-upper-把字符转换为大写" tabindex="-1"><a class="header-anchor" href="#_2-2-upper-把字符转换为大写"><span>2.2 UPPER 把字符转换为大写</span></a></h3><p>例如:把&#39;world&#39;转换为大写</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> upper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;world&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>例如:把s_emp 表中的last_name 列的值转换为大写</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> upper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(last_name)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><p>例如:查询s_emp 表中名字为Ngao 的人信息<br> 这样是查不到:</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> last_name,salary,dept_id</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> last_name</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;NGAO&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>这样就可以查询到了:</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> last_name,salary,dept_id</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> upper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(last_name)</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;NGAO&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h3 id="_2-3-initcap-把字符串首字母大写" tabindex="-1"><a class="header-anchor" href="#_2-3-initcap-把字符串首字母大写"><span>2.3 initcap 把字符串首字母大写</span></a></h3><p>例如:把&#39;hELLO&#39;转换为首字母大写,其余字母小写</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> initcap(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hELLO&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><h3 id="_2-4-concat-把俩个字符串连接在一起-类似之前的-的作用" tabindex="-1"><a class="header-anchor" href="#_2-4-concat-把俩个字符串连接在一起-类似之前的-的作用"><span>2.4 concat 把俩个字符串连接在一起(类似之前的||的作用)</span></a></h3><p>例如:把&#39;hello&#39;和&#39;world&#39;俩个字符串连接到一起,并且起个别名为msg</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> concat</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hello&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;world&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) msg</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>例如:把first_name 和last_name 俩个列的值连接到一起</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> concat</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(first_name,last_name)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><h3 id="_2-5-substr-截取字符串" tabindex="-1"><a class="header-anchor" href="#_2-5-substr-截取字符串"><span>2.5 substr 截取字符串</span></a></h3><p>例如:截取&#39;hello&#39;字符串,从第2 个字符开始,截取后面的3 个字符</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> substr(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hello&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>out: ell</p><h3 id="_2-6-length-获得字符串长度" tabindex="-1"><a class="header-anchor" href="#_2-6-length-获得字符串长度"><span>2.6 length 获得字符串长度</span></a></h3><p>例如:获得&#39;world&#39;字符串的长度</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> length</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;world&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>例如:获得s_emp 表中last_name 列的每个值的字符长度</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> length</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(last_name)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><h3 id="_2-7-nvl-替换列中为null-的值" tabindex="-1"><a class="header-anchor" href="#_2-7-nvl-替换列中为null-的值"><span>2.7 nvl 替换列中为null 的值</span></a></h3><p>nvl(要输出的列名，为空的时候要被替换的值) //要替换的值类型必须要和之前保持一致</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> id,last_name,nvl(commission_pct,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><h4 id="_2-7-1-nvl与nvl2两个函数的用法和区别" tabindex="-1"><a class="header-anchor" href="#_2-7-1-nvl与nvl2两个函数的用法和区别"><span>2.7.1 NVL与NVL2两个函数的用法和区别？</span></a></h4><p>NVL (expr1, expr2)：expr1为NULL，返回expr2；不为NULL，返回expr1。注意两者的类型要一致</p><p>NVL2 (expr1, expr2, expr3) ：expr1不为NULL，返回expr2；为NULL，返回expr3。expr2和expr3类型不同的话，expr3会转换为expr2的类型</p><h3 id="_2-8-instr-查找字符串" tabindex="-1"><a class="header-anchor" href="#_2-8-instr-查找字符串"><span>2.8 instr 查找字符串</span></a></h3><p>INSTR方法的格式为</p><ul><li>INSTR(源字符串, 要查找的字符串, 从第几个字符开始, 要找到第几个匹配的序号)</li><li>返回找到的位置，如果找不到则返回0.</li></ul><p>例如：INSTR(&#39;CORPORATE FLOOR&#39;,&#39;OR&#39;, 3, 2)中，源字符串为&#39;CORPORATE FLOOR&#39;,在字符串中查找&#39;OR&#39;，从第三个字符位置开始查找&quot;OR&quot;，取第三个字后第2个匹配项的位置。</p><p>默认查找顺序为从左到右。当起始位置为负数的时候，从右边开始查找。</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> INSTR(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;CORPORATE FLOOR&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;OR&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, -</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;aaa&quot;</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> FROM</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> DUAL</span></span></code></pre></div><p>out: 14</p><h2 id="_3-数字函数" tabindex="-1"><a class="header-anchor" href="#_3-数字函数"><span>3. 数字函数</span></a></h2><ol><li><p>ROUND:四舍五入</p></li><li><p>TRUNC:截取，不进行四舍五入</p></li><li><p>MOD:取余</p><h3 id="_3-1-round-四舍五入" tabindex="-1"><a class="header-anchor" href="#_3-1-round-四舍五入"><span>3.1 round 四舍五入</span></a></h3><p><strong>切记-1 代表保存小数点后一位，0 保留到个位，1 保留到10 位</strong></p></li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">   round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(arg1,arg2)</span></span></code></pre></div><ul><li>第一个参数表示要进行四舍五入操作的数字</li><li>第二个参数表示保留到哪一位(负数代表小数点之前，0，正数代表小数点之后)</li></ul><p>0 代表保留到个位！！-1 代表保存到十位</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">46</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">7</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">50</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">   select</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> round</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">55</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span></span></code></pre></div><h3 id="_3-2-trunc-截取到某一位" tabindex="-1"><a class="header-anchor" href="#_3-2-trunc-截取到某一位"><span>3.2 trunc 截取到某一位</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">trunc(arg1,arg2)</span></span></code></pre></div><p>和round 的用法一样,但是trunc 只舍去不进位</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">6</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">40</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">45</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> trunc(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">55</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">67</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span></code></pre></div><h3 id="_3-3-mod-取余" tabindex="-1"><a class="header-anchor" href="#_3-3-mod-取余"><span>3.3 mod 取余</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mod(arg1,arg2)</span></span></code></pre></div><ul><li>第一个参数表示要进行取余操作的数字</li><li>第二个参数表示参数1 和谁取余<br> 例如:<br> 把10 和3 进行取余(10 除以3 然后获取余数)<br> select mod(10,3)<br> from dual;</li></ul><h2 id="_4-日期函数" tabindex="-1"><a class="header-anchor" href="#_4-日期函数"><span>4. 日期函数</span></a></h2><ol><li>sysdate 关键字</li><li>MONTHS_BETWEEN:两个日期之间的月数，如果是正数前面的值大于后面的值</li><li>ADD_MONTHS:在指定日期上增加月数</li><li>NEXT_DAY:指定日期的下一个星期几是哪天</li><li>LAST_DAY:指定日期的最后一天</li><li>ROUND:对指定日期进行四舍五入</li><li>TRUNC:对指定日期进行截取</li></ol><h3 id="_4-1-sysdate-关键字" tabindex="-1"><a class="header-anchor" href="#_4-1-sysdate-关键字"><span>4.1 sysdate 关键字</span></a></h3><p>表示系统的当前时间</p><ul><li><p>显示时间:当前时间</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> sysdate</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual</span></span></code></pre></div><p>​ OUT: 2021-02-18 15:39:07</p></li><li><p>注意：sysdate 进行加减操作的时候，单位是天</p><p>例如明天这个时候</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> sysdate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual</span></span></code></pre></div><p>out: 2021-02-19 15:41:12</p></li><li><p>例如显示1小时之后的时候</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>SELECT sysdate+1/24 from dual</span></span></code></pre></div><p>out: 2021-02-18 16:42:14</p></li></ul><h3 id="_4-2-months-between" tabindex="-1"><a class="header-anchor" href="#_4-2-months-between"><span>4.2 months_between</span></a></h3><p>俩个时间点之间相差多少个月(单位是月)</p><p>30 天之后和现在相差多少个月</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> MONTHS_BETWEEN (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">sysdate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="color:#D19A66;--shiki-dark:#D19A66;">30</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">sysdate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>out: 1.06451612</p><h3 id="_4-3-add-months" tabindex="-1"><a class="header-anchor" href="#_4-3-add-months"><span>4.3 add_months</span></a></h3><p>返回一个日期数据:表示一个时间点,往后推x 月的日期</p><p>例如:</p><p>当前时间往后推2 个月</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>SELECT  ADD_MONTHS (sysdate, 2) from dual;</span></span></code></pre></div><p>out: 2021-04-18 15:56:02</p><h3 id="_4-4-next-day" tabindex="-1"><a class="header-anchor" href="#_4-4-next-day"><span>4.4 next_day</span></a></h3><p>返回一个日期数据:表示一个时间点后的下一个星期几在哪一天</p><p>例如:<br> 当前时间的下一个星期5 是哪一个天</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>SELECT  NEXT_DAY(SYSDATE, &#39;FRIDAY&#39;) FROM DUAL</span></span></code></pre></div><p>OUT: 2021-02-19 15:57:26</p><h3 id="_4-5-last-day" tabindex="-1"><a class="header-anchor" href="#_4-5-last-day"><span>4.5 last_day</span></a></h3><p>返回一个日期数据:表示一个日期所在月份的最后一天</p><p>例如:<br> 当前日期所在月份的最后一天</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>SELECT  LAST_DAY(SYSDATE ) FROM DUAL</span></span></code></pre></div><p>OUT: 2021-02-28 16:00:44</p><h3 id="_4-6-round" tabindex="-1"><a class="header-anchor" href="#_4-6-round"><span>4.6 round</span></a></h3><p>对日期进四舍五入,返回操作后的日期数据。逢16 日往月份进一,逢7 月往年份进一</p><p>round(sysdate,&#39;year/y/yy/yyy/yyyy&#39;) 年7 月节点<br> round(sysdate,&#39;mm/month&#39;) 月16 号节点<br> round(sysdate,&#39;d/day&#39;) 星期星期四节点<br> round(sysdate,&#39;dd&#39;) : 天-》12 点节点<br> 例如:<br> 把当前日期四舍五入到月（年月日.时分秒把这个看错数字就可以了）<br> 今天2021 年2 月18 日四舍五入到月，就要看日是否大于16？大于进一，不大于不进一，同时舍弃为1</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  ROUND</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">sysdate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;mm&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">FROM</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> DUAL</span></span></code></pre></div><p>out: 2021-03-01 00:00:00</p><p>把当前日期四舍五入到年<br> 大致算一下，今天已经2 月了，所以不满足大于节点7 进一位，同时舍弃年前面的值</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">  ROUND</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">sysdate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;yyyy&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">FROM</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> DUAL</span></span></code></pre></div><p>out: 2021-01-01 00:00:00</p><h3 id="_4-7-trunc" tabindex="-1"><a class="header-anchor" href="#_4-7-trunc"><span>4.7 trunc</span></a></h3><p>对日期进行截取和round 类似,但是只舍弃不进位<br> trunc（sysdate,&#39;yyyy/year&#39;） --返回当年第一天。<br> trunc（sysdate,&#39;mm/month&#39;） --返回当月第一天。<br> trunc（sysdate,&#39;d/day&#39;） --返回当前星期的第一天。<br> trunc（sysdate,&#39;dd&#39;）--返回当前年月日<br> 截取和round 基本是一样的只是，不进位而已。</p><h2 id="_5-类型转换函数" tabindex="-1"><a class="header-anchor" href="#_5-类型转换函数"><span>5. 类型转换函数</span></a></h2><ol><li>TO_CHAR 将日期或者数值转换成字符串</li><li>TO_NUMBER 将字符串转换成数字</li><li>TO_DATE 将日期字符串转换成日期</li></ol><h3 id="_5-1-to-char-把日期转换为字符" tabindex="-1"><a class="header-anchor" href="#_5-1-to-char-把日期转换为字符"><span>5.1 to_char 把日期转换为字符</span></a></h3><p>例如:<br> 把当前日期按照指定格式转换为字符串</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SELECT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  TO_CHAR(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">SYSDATE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;yyyy-MM-dd&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual</span></span></code></pre></div><p>out: 2021-02-18</p><p>日期格式：<br> yyyy/YYYY：四位数的年份<br> rrrr：四位数的年份<br> yy：两位数的年份<br> rr：两位数的年份<br> mm：两位数的月份（数字）<br> D：一周的第几天<br> DD：一月的第几天<br> DDD ：一年的第几天<br> YEAR：英文的年份<br> MONTH：英文全称的月份<br> mon：英文简写的月份<br> ddsp：英文的第几天<br> ddspth：英文序列数的第几天<br> DAY：全英文的星期<br> DY：简写的英文星期<br> hh：小时<br> mi：分钟<br> ss：秒<br> AM:上午<br> PM:下午</p><h3 id="_5-2-to-char-把数字转换为字符" tabindex="-1"><a class="header-anchor" href="#_5-2-to-char-把数字转换为字符"><span>5.2 to_char 把数字转换为字符</span></a></h3><blockquote><p>L : 本地货币符号<br> $ : $<br> . : 小数点<br> , : 千分符<br> 9 : 0-9<br> 0 : 0-9, 如果位数不足，强制补0</p></blockquote><p>例如:</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> to_char(salary,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;$999,999.00&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> s_emp;</span></span></code></pre></div><p>fm 表示去除结果显示中的开始的空格<br> L 表示系统本地的货币符号<br> select to_char(salary,&#39;fmL999,999.00&#39;)<br> from s_emp;<br> to_number 把字符转换为数字</p><h3 id="_5-3-to-number-把字符转换为数字" tabindex="-1"><a class="header-anchor" href="#_5-3-to-number-把字符转换为数字"><span>5.3 to_number 把字符转换为数字</span></a></h3><p>例如:</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> to_number(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><p>out:1000</p><h3 id="_5-4-to-date-把字符转换为日期" tabindex="-1"><a class="header-anchor" href="#_5-4-to-date-把字符转换为日期"><span>5.4 to_date 把字符转换为日期</span></a></h3><p>.TO_DATE(char, [&#39;fmt&#39;]):</p><p>例如</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> TO_DATE (</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;10-September-1992&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;dd-Month-YYYY&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual</span></span></code></pre></div><p>out: 1992-09-10 00:00:00</p><p>.使用format 的元素格式<br> 例如:</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> to_date(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;10-12-2016&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;dd-mm-yyyy&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> to_date(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;25-5 月-95&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;dd-month-yy&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> dual;</span></span></code></pre></div><h2 id="_6-exists-和not-exists-用法" tabindex="-1"><a class="header-anchor" href="#_6-exists-和not-exists-用法"><span>6. exists 和not exists 用法</span></a></h2><p>SQL 代码</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> dbo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">Res_Coach</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> EXISTS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Res_Coach </span><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">is</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>查询原理：<br> 遍历dbo.Res_Coach 每一条，同时处理where 条件（EXISTS (select * from Res_Coach where Resc_id=0)<br> 判断结果为true 或者false），为true 时拿出该条，false 时，放弃该条记录。</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1、where 条件中的子查询和主查询没关系</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> dbo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">Res_Coach</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> EXISTS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Rese_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> dbo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">Res_Excellent</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Rese_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Is</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2、where 条件中得子查询和主查询有关系</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> dbo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">Res_Coach</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> EXISTS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> dbo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">Res_Coach</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Resc_id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Is</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> )</span></span></code></pre></div><p>实例备注：不管where 条件中得子查询和主查询有没有关系，遍历主查询中得每一条时，判断where 条件，exists<br> 结果为真，where 条件返回true，拿出该条记录，where 条件返回false， 不返回该记录。</p><h3 id="_6-1-exists-和in-的选择" tabindex="-1"><a class="header-anchor" href="#_6-1-exists-和in-的选择"><span>6.1 EXISTS 和IN 的选择</span></a></h3><p>如果查询的两个表大小相当，那么用in 和exists 差别不大。如果两个表中一个较小，一个是大表，则子查询表大的<br> 用exists，子查询表小的用in</p><h2 id="_7-decode函数" tabindex="-1"><a class="header-anchor" href="#_7-decode函数"><span>7. DECODE函数</span></a></h2><p>Oracle DECODE函数是<strong>Oracle公司独家提供的功能</strong>，它是一个功能很强的函数。它虽然<strong>不是SQL的标准</strong>,但对于性能非常有用。</p><ol><li><p>DECODE 中的if-then-else逻辑</p><p>在逻辑编程中，经常用到If – Then –Else 进行逻辑判断。在DECODE的语法中，实际上就是这样的逻辑处理过程。它的语法如下：<br> DECODE(value, if1, then1, if2,then2, if3,then3, . . . else )<br> Value 代表某个表的任何类型的任意列或一个通过计算所得的任何结果。当每个value值被测试，如果value的值为if1，Decode 函数的结果是then1；如果value等于if2，Decode函数结果是then2；等等。事实上，可以给出多个if/then 配对。如果value结果不等于给出的任何配对时，Decode 结果就返回else 。<br> 需要注意的是，这里的if、then及else 都可以是函数或计算表达式。<br> 含义解释：</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">DECODE(条件,值1,翻译值1,值2,翻译值2,...值n,翻译值n,缺省值)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">该函数的含义如下：</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">IF</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 条件</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">值1 </span><span style="color:#C678DD;--shiki-dark:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">RETURN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(翻译值1)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ELSIF 条件</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">值2 </span><span style="color:#C678DD;--shiki-dark:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">RETURN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(翻译值2)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ELSIF 条件</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">值n </span><span style="color:#C678DD;--shiki-dark:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">RETURN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(翻译值n)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">ELSE</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">RETURN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(缺省值)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">END</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> IF</span></span></code></pre></div></li></ol>`,135)]))}const d=a(i,[["render",r],["__file","oracle-c-function-overview.html.vue"]]),t=JSON.parse('{"path":"/posts/Database/ORACLE/oracle-c-function-overview.html","title":"Oracle预定义函数","lang":"zh-CN","frontmatter":{"aliases":"Oracle预定义函数","tags":null,"cssclass":null,"source":null,"order":30,"category":["数据库"],"created":"2024-02-22 10:49","updated":"2024-03-13 09:55","description":"Oracle预定义函数 1. 简介 oralce 的函数分为 单行函数 字符函数 日期函数 数字函数 转换函数 分组函数（后续介绍） 学前知识：哑表 dual dual 是一个虚拟表，辅助查找和运算，通常用在select语句中，作为查询的目标表结构，oracle保证dual里面永远只有一条记录 例如： 显示1+1 的结果，可以看出，dual很多时候是为...","watermark":true,"head":[["meta",{"property":"og:url","content":"https://mrjackc.github.io/posts/Database/ORACLE/oracle-c-function-overview.html"}],["meta",{"property":"og:site_name","content":"mrjason’s Blog"}],["meta",{"property":"og:title","content":"Oracle预定义函数"}],["meta",{"property":"og:description","content":"Oracle预定义函数 1. 简介 oralce 的函数分为 单行函数 字符函数 日期函数 数字函数 转换函数 分组函数（后续介绍） 学前知识：哑表 dual dual 是一个虚拟表，辅助查找和运算，通常用在select语句中，作为查询的目标表结构，oracle保证dual里面永远只有一条记录 例如： 显示1+1 的结果，可以看出，dual很多时候是为..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-21T07:03:09.000Z"}],["meta",{"property":"article:author","content":"MrJason"}],["meta",{"property":"article:modified_time","content":"2024-10-21T07:03:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Oracle预定义函数\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-21T07:03:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MrJason\\",\\"url\\":\\"https://mrjackc.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1. 简介","slug":"_1-简介","link":"#_1-简介","children":[]},{"level":2,"title":"2. 字符函数","slug":"_2-字符函数","link":"#_2-字符函数","children":[{"level":3,"title":"2.1 LOWER 把字符转为小写","slug":"_2-1-lower-把字符转为小写","link":"#_2-1-lower-把字符转为小写","children":[]},{"level":3,"title":"2.2 UPPER 把字符转换为大写","slug":"_2-2-upper-把字符转换为大写","link":"#_2-2-upper-把字符转换为大写","children":[]},{"level":3,"title":"2.3 initcap 把字符串首字母大写","slug":"_2-3-initcap-把字符串首字母大写","link":"#_2-3-initcap-把字符串首字母大写","children":[]},{"level":3,"title":"2.4 concat 把俩个字符串连接在一起(类似之前的||的作用)","slug":"_2-4-concat-把俩个字符串连接在一起-类似之前的-的作用","link":"#_2-4-concat-把俩个字符串连接在一起-类似之前的-的作用","children":[]},{"level":3,"title":"2.5 substr 截取字符串","slug":"_2-5-substr-截取字符串","link":"#_2-5-substr-截取字符串","children":[]},{"level":3,"title":"2.6 length 获得字符串长度","slug":"_2-6-length-获得字符串长度","link":"#_2-6-length-获得字符串长度","children":[]},{"level":3,"title":"2.7 nvl 替换列中为null 的值","slug":"_2-7-nvl-替换列中为null-的值","link":"#_2-7-nvl-替换列中为null-的值","children":[]},{"level":3,"title":"2.8 instr 查找字符串","slug":"_2-8-instr-查找字符串","link":"#_2-8-instr-查找字符串","children":[]}]},{"level":2,"title":"3. 数字函数","slug":"_3-数字函数","link":"#_3-数字函数","children":[{"level":3,"title":"3.2 trunc 截取到某一位","slug":"_3-2-trunc-截取到某一位","link":"#_3-2-trunc-截取到某一位","children":[]},{"level":3,"title":"3.3 mod 取余","slug":"_3-3-mod-取余","link":"#_3-3-mod-取余","children":[]}]},{"level":2,"title":"4. 日期函数","slug":"_4-日期函数","link":"#_4-日期函数","children":[{"level":3,"title":"4.1 sysdate 关键字","slug":"_4-1-sysdate-关键字","link":"#_4-1-sysdate-关键字","children":[]},{"level":3,"title":"4.2 months_between","slug":"_4-2-months-between","link":"#_4-2-months-between","children":[]},{"level":3,"title":"4.3 add_months","slug":"_4-3-add-months","link":"#_4-3-add-months","children":[]},{"level":3,"title":"4.4 next_day","slug":"_4-4-next-day","link":"#_4-4-next-day","children":[]},{"level":3,"title":"4.5 last_day","slug":"_4-5-last-day","link":"#_4-5-last-day","children":[]},{"level":3,"title":"4.6 round","slug":"_4-6-round","link":"#_4-6-round","children":[]},{"level":3,"title":"4.7 trunc","slug":"_4-7-trunc","link":"#_4-7-trunc","children":[]}]},{"level":2,"title":"5. 类型转换函数","slug":"_5-类型转换函数","link":"#_5-类型转换函数","children":[{"level":3,"title":"5.1 to_char 把日期转换为字符","slug":"_5-1-to-char-把日期转换为字符","link":"#_5-1-to-char-把日期转换为字符","children":[]},{"level":3,"title":"5.2 to_char 把数字转换为字符","slug":"_5-2-to-char-把数字转换为字符","link":"#_5-2-to-char-把数字转换为字符","children":[]},{"level":3,"title":"5.3 to_number 把字符转换为数字","slug":"_5-3-to-number-把字符转换为数字","link":"#_5-3-to-number-把字符转换为数字","children":[]},{"level":3,"title":"5.4 to_date 把字符转换为日期","slug":"_5-4-to-date-把字符转换为日期","link":"#_5-4-to-date-把字符转换为日期","children":[]}]},{"level":2,"title":"6. exists 和not exists 用法","slug":"_6-exists-和not-exists-用法","link":"#_6-exists-和not-exists-用法","children":[{"level":3,"title":"6.1 EXISTS 和IN 的选择","slug":"_6-1-exists-和in-的选择","link":"#_6-1-exists-和in-的选择","children":[]}]},{"level":2,"title":"7. DECODE函数","slug":"_7-decode函数","link":"#_7-decode函数","children":[]}],"git":{"createdTime":1729494189000,"updatedTime":1729494189000,"contributors":[{"name":"MrJason","email":"845886914@qq.com","commits":1}]},"readingTime":{"minutes":9.49,"words":2848},"filePathRelative":"posts/Database/ORACLE/oracle-c-function-overview.md","localizedDate":"2024年10月21日","excerpt":"\\n<h2>1. 简介</h2>\\n<p>oralce 的函数分为</p>\\n<ul>\\n<li>单行函数\\n<ul>\\n<li>字符函数</li>\\n<li>日期函数</li>\\n<li>数字函数</li>\\n<li>转换函数</li>\\n</ul>\\n</li>\\n<li>分组函数（后续介绍）</li>\\n</ul>\\n<blockquote>\\n<p>学前知识：哑表 dual</p>\\n<p>dual 是一个虚拟表，辅助查找和运算，通常用在select语句中，作为查询的目标表结构，oracle保证dual里面永远只有一条记录</p>\\n<p>例如：</p>\\n<p>显示1+1 的结果，可以看出，dual很多时候是为了构成select的标准语法</p>\\n<p>select 1+1 from dual;</p>\\n</blockquote>","autoDesc":true}');export{d as comp,t as data};
