<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.12" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.46" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mrjackc.github.io/posts/BigData/10_Hbase/HBase.html"><meta property="og:site_name" content="mrjasonâ€™s Blog"><meta property="og:title" content="HBase"><meta property="og:description" content="HBase ä¸€ã€HBaseç®€ä»‹ 1.1 å®šä¹‰ 1.2 HBaseæ•°æ®æ¨¡å‹ 1.2.1 HBaseé€»è¾‘ç»“æ„ ![image-20200623181231019](https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623181231.png) 1.2.2 HBaseçš„ç‰©ç†ç»“æ„ ![image-..."><meta property="og:type" content="article"><meta property="og:image" content="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623181231.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-10-28T01:58:08.000Z"><meta property="article:author" content="MrJason"><meta property="article:modified_time" content="2024-10-28T01:58:08.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"HBase","image":["https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623181231.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200810140725.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623184151.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623195416.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623202240.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623204210.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623205526.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623223543.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623223736.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623225525.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200628213139.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200629000242.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200629003822.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200628234338.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200629010950.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200629011141.png","https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200629011154.png"],"dateModified":"2024-10-28T01:58:08.000Z","author":[{"@type":"Person","name":"MrJason","url":"https://mrjackc.github.io"}]}</script><meta name="referrer" content="no-referrer-when-downgrade"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><link rel="alternate" type="application/rss+xml" href="https://mrjackc.github.io/rss.xml" title="mrjasonâ€™s Blog RSS Feed"><title>HBase | mrjasonâ€™s Blog</title><meta name="description" content="HBase ä¸€ã€HBaseç®€ä»‹ 1.1 å®šä¹‰ 1.2 HBaseæ•°æ®æ¨¡å‹ 1.2.1 HBaseé€»è¾‘ç»“æ„ ![image-20200623181231019](https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic GO/20200623181231.png) 1.2.2 HBaseçš„ç‰©ç†ç»“æ„ ![image-...">
    <link rel="preload" href="/assets/style-D5zIXRKB.css" as="style"><link rel="stylesheet" href="/assets/style-D5zIXRKB.css">
    <link rel="modulepreload" href="/assets/app-DQS7qcOs.js"><link rel="modulepreload" href="/assets/HBase.html-DZN7q8fZ.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">mrjasonâ€™s Blog</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/demo/" aria-label="å¯¼èˆª"><!--[--><span class="font-icon icon iconfont icon-discover" style=""></span><!--]-->å¯¼èˆª<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç¬”è®°åˆ†ç±»"><!--[--><span class="font-icon icon iconfont icon-edit" style=""></span>ç¬”è®°åˆ†ç±»<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ä»£ç ç¬”è®°</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Computer-Basics/" aria-label="è®¡ç®—æœºåŸºç¡€"><!--[--><span class="font-icon icon iconfont icon-windows" style=""></span><!--]-->è®¡ç®—æœºåŸºç¡€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Data-Structure/" aria-label="æ•°æ®ç»“æ„ä¸ç®—æ³•"><!--[--><span class="font-icon icon iconfont icon-calculate" style=""></span><!--]-->æ•°æ®ç»“æ„ä¸ç®—æ³•<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Web/" aria-label="å‰ç«¯ç¬”è®°"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->å‰ç«¯ç¬”è®°<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Linux/" aria-label="Linux"><!--[--><span class="font-icon icon iconfont icon-linux" style=""></span><!--]-->Linux<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Python/" aria-label="Python"><!--[--><span class="font-icon icon iconfont icon-python" style=""></span><!--]-->Python<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Database/" aria-label="æ•°æ®åº“"><!--[--><span class="font-icon icon iconfont icon-table" style=""></span><!--]-->æ•°æ®åº“<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Docker/" aria-label="Docker"><!--[--><span class="font-icon icon iconfont icon-expansion" style=""></span><!--]-->Docker<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Git/" aria-label="Git"><!--[--><span class="font-icon icon iconfont icon-git" style=""></span><!--]-->Git<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Redis/" aria-label="Redis"><!--[--><span class="font-icon icon iconfont icon-lock" style=""></span><!--]-->Redis<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/MiddleWare/" aria-label="ä¸­é—´ä»¶"><!--[--><span class="font-icon icon iconfont icon-process" style=""></span><!--]-->ä¸­é—´ä»¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/posts/BigData/" aria-label="å¤§æ•°æ®"><!--[--><span class="font-icon icon iconfont icon-hot" style=""></span><!--]-->å¤§æ•°æ®<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Architect/" aria-label="æ¶æ„å¸ˆ"><!--[--><span class="font-icon icon iconfont icon-study" style=""></span><!--]-->æ¶æ„å¸ˆ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Daily-Thoughts/" aria-label="æ—¥å¸¸æ€è€ƒ"><!--[--><span class="font-icon icon iconfont icon-mark" style=""></span><!--]-->æ—¥å¸¸æ€è€ƒ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/Development-Tools/" aria-label="å¼€å‘å·¥å…·"><!--[--><span class="font-icon icon iconfont icon-tool" style=""></span><!--]-->å¼€å‘å·¥å…·<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">åšå®¢ç›¸å…³</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/blog/" aria-label="åšå®¢ç›¸å…³"><!--[--><span class="font-icon icon iconfont icon-blog" style=""></span><!--]-->åšå®¢ç›¸å…³<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/posts/Java/" aria-label="Java"><!--[--><span class="font-icon icon iconfont icon-java" style=""></span><!--]-->Java<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/collect.html" aria-label="æ”¶è—"><!--[--><span class="font-icon icon iconfont icon-hk-shoucang1" style=""></span><!--]-->æ”¶è—<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/news/" aria-label="è¯´è¯´"><!--[--><span class="font-icon icon iconfont icon-news" style=""></span><!--]-->è¯´è¯´<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/visitorsbook.html" aria-label="ç•™è¨€æ¿"><!--[--><span class="font-icon icon iconfont icon-mark" style=""></span><!--]-->ç•™è¨€æ¿<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/friend.html" aria-label="å‹é“¾"><!--[--><span class="font-icon icon iconfont icon-link" style=""></span><!--]-->å‹é“¾<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å…³äº"><!--[--><span class="font-icon icon iconfont icon-info" style=""></span>å…³äº<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/intro.html" aria-label="å…³äºæˆ‘"><!--[--><span class="font-icon icon iconfont icon-people" style=""></span><!--]-->å…³äºæˆ‘<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about.html" aria-label="å…³äºæœ¬ç«™"><!--[--><span class="font-icon icon iconfont icon-info" style=""></span><!--]-->å…³äºæœ¬ç«™<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/MrjackC/mrjackc.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://foreverblog.cn/go.html" title="ç©¿æ¢­è™«æ´-éšæœºè®¿é—®åå¹´ä¹‹çº¦å‹é“¾åšå®¢" target="_blank" rel="noopener noreferrer" aria-label="wormhole"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor" style="width:1.25rem;height:1.25rem;vertical-align:middle"><path d="M644.608 665.6c192.512-171.008 342.016-395.776 254.464-494.592-27.648-31.232-66.56-45.568-108.032-41.472-34.816 3.584-70.656 20.992-107.008 50.176-116.224-59.904-254.464-55.296-366.592 11.776-86.016 51.2-148.48 134.656-172.544 231.936-18.944 74.24-14.336 152.064 12.8 223.744-44.544 50.688-86.528 154.624-34.816 212.992 21.504 24.576 52.736 35.328 90.112 35.328 114.176-0.512 286.72-100.864 431.616-229.888z m155.648-452.608c14.848-1.536 26.624 2.56 36.352 13.824 9.728 10.752 7.168 39.936-10.752 80.896-18.944-28.672-41.984-55.296-68.096-77.824 17.92-10.752 32.256-15.872 42.496-16.896z m-598.528 517.12c18.944 27.136 40.96 51.712 66.048 73.216-43.008 12.8-72.192 11.776-81.92 1.024-8.704-10.752 0.512-45.056 15.872-74.24z m685.568-246.784c-51.2 75.264-122.368 154.112-200.704 224.256-81.408 72.192-171.008 134.656-254.464 176.64 26.112 5.632 52.224 8.704 78.848 8.704 68.096 0 135.168-18.944 194.048-53.76 124.416-73.216 195.072-211.968 182.272-355.84z m0 0" p-id="4157"></path></svg></a></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://www.travellings.cn/go.html" title="å¼€å¾€" target="_blank" rel="noopener noreferrer" aria-label="travelling"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor" style="width:1.25rem;height:1.25rem;vertical-align:middle"><path d="M658.836 519.32c-22.121 0-40.145 18.431-40.145 40.957 0 22.528 18.023 40.962 40.145 40.962 22.117 0 40.141-18.434 40.141-40.962 0-22.526-18.024-40.957-40.141-40.957zM364.742 519.32c-22.121 0-40.141 18.431-40.141 40.957 0.41 22.528 18.02 40.962 40.141 40.962 22.117 0 40.141-18.434 40.141-40.962 0-22.526-18.024-40.957-40.141-40.957z" p-id="8700"></path><path d="M512 0C229.23 0 0 229.23 0 512s229.23 512 512 512 512-229.23 512-512S794.77 0 512 0z m133.727 804.81c0 7.375-6.145 13.52-13.516 13.52H391.773c-7.371 0-13.515-6.145-13.515-13.52v-13.516c0-7.371 6.144-13.517 13.515-13.517h240.438c7.371 0 13.516 6.146 13.516 13.517v13.516z m120.832 37.273c-12.289 6.965-27.441 2.867-34.406-9.418l-54.887-96.668c-4.504 0.82-9.422 1.23-13.926 1.23H361.054c-4.914 0-9.421-0.41-13.925-1.23l-54.887 96.668c-6.965 12.285-22.527 16.383-34.406 9.418-12.289-6.961-16.383-22.938-9.422-35.223l51.199-90.113c-27.031-19.66-43.418-52.43-40.957-88.883l19.25-293.273c3.277-49.152 34.406-88.066 87.246-88.066h80.281c0-37.684 29.899-67.993 66.762-67.993 36.868 0 66.766 30.309 66.766 67.993h93.391c53.246 0 70.449 38.914 73.727 88.066l19.25 293.273c2.461 36.453-13.926 69.223-40.957 88.883l51.199 90.113c6.964 12.696 2.867 28.262-9.012 35.223z" p-id="8701"></path><path d="M672.352 314.931H351.633c-14.747 0-26.622 12.285-26.622 27.441v108.953c0 15.157 11.875 27.446 26.622 27.446h320.719c14.746 0 26.625-12.289 26.625-27.446V342.372c0-15.156-11.879-27.441-26.625-27.441z" p-id="8702"></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/posts/BigData/" aria-label="01 å¤§æ•°æ®ç”Ÿæ€åœˆ"><!---->01 å¤§æ•°æ®ç”Ÿæ€åœˆ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">02 Hiveæ€»ç»“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">04 Flumeæ€»ç»“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">04 æ¥å…¥å±‚</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">05 Zookeeperæ€»ç»“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">05 æ•°æ®å¤„ç†å±‚</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">06 Kafkaæ€»ç»“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">07 Scalaæ€»ç»“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">08 Spark</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">10 Hbase</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link vp-sidebar-page active" href="/posts/BigData/10_Hbase/HBase.html" aria-label="HBase"><!---->HBase<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">11 æ•°ä»“</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->HBase</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrjackc.github.io" target="_blank" rel="noopener noreferrer">MrJason</a></span><span property="author" content="MrJason"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-10-28T01:58:08.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/posts/BigData/10_Hbase/HBase.html" data-page-key="/posts/BigData/10_Hbase/HBase.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 29 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT29M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸€ã€hbaseç®€ä»‹">ä¸€ã€HBaseç®€ä»‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-1-å®šä¹‰">1.1 å®šä¹‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-2-hbaseæ•°æ®æ¨¡å‹">1.2 HBaseæ•°æ®æ¨¡å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äºŒã€-hbaseçš„å®‰è£…">äºŒã€ HBaseçš„å®‰è£…</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-éƒ¨ç½²zookeeperå’Œhadoop">2.1 éƒ¨ç½²zookeeperå’ŒHadoop</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-è§£å‹hbaseåˆ°æŒ‡å®šçš„ä½ç½®">2.2 è§£å‹HBaseåˆ°æŒ‡å®šçš„ä½ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-é…ç½®ç¯å¢ƒå˜é‡">2.3 é…ç½®ç¯å¢ƒå˜é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-4-é…ç½®hbaseçš„æ–‡ä»¶">2.4 é…ç½®HBaseçš„æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-5-åˆ†å‘hbase">2.5 åˆ†å‘HBase</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-6-å¯åŠ¨hbase">2.6 å¯åŠ¨HBase</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-7-æŸ¥çœ‹hbaseçš„é¡µé¢">2.7 æŸ¥çœ‹HBaseçš„é¡µé¢</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-8-masterçš„é«˜å¯ç”¨-å¯é€‰">2.8 masterçš„é«˜å¯ç”¨ï¼ˆå¯é€‰ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸‰ã€-hbaseçš„æ“ä½œ">ä¸‰ã€ HBaseçš„æ“ä½œ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-1-åŸºæœ¬æ“ä½œ">3.1 åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-2-è¡¨çš„æ“ä½œ">3.2 è¡¨çš„æ“ä½œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-3-namespaceæ“ä½œ">3.3 namespaceæ“ä½œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å››ã€hbaseè¿›é˜¶">å››ã€HBaseè¿›é˜¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-1-region-serverçš„æ¶æ„">4.1 Region Serverçš„æ¶æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-2-å†™æµç¨‹">4.2 å†™æµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-3-memstore-flushæ—¶æœº">4.3 MemStore flushæ—¶æœº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-4-è¯»æµç¨‹">4.4 è¯»æµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-5-storefile-compaction">4.5  StoreFile  Compaction</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-6-å¤šç‰ˆæœ¬">4.6 å¤šç‰ˆæœ¬</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-7-region-split">4.7 Region Split</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-8-ä¸€äº›å‘½ä»¤">4.8  ä¸€äº›å‘½ä»¤</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äº”-ã€-hbase-api">äº” ã€ HBase API</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-1-ç¯å¢ƒå‡†å¤‡">5.1 ç¯å¢ƒå‡†å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-2-ddl">5.2 DDL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-3-dml">5.3 DML</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…­ã€hbaseçš„ä¼˜åŒ–">å…­ã€HBaseçš„ä¼˜åŒ–</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-1-é¢„åˆ†åŒº">6.1 é¢„åˆ†åŒº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-2-rowkeyè®¾è®¡">6.2 RowKeyè®¾è®¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-3-å†…å­˜ä¼˜åŒ–">6.3 å†…å­˜ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-4-åŸºç¡€ä¼˜åŒ–">6.4 åŸºç¡€ä¼˜åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸ƒã€ä¸hiveçš„é›†æˆ">ä¸ƒã€ä¸Hiveçš„é›†æˆ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-1-hbaseä¸hiveçš„å¯¹æ¯”">7.1 HBaseä¸Hiveçš„å¯¹æ¯”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-hbase-ä¸-hiveé›†æˆä½¿ç”¨">7.2 HBase ä¸ Hiveé›†æˆä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-æ¡ˆä¾‹ä¸€">7.3 æ¡ˆä¾‹ä¸€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-æ¡ˆä¾‹äºŒ">7.4 æ¡ˆä¾‹äºŒ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…«ã€phoenix">å…«ã€Phoenix</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-1-phoenixç®€ä»‹">8.1 Phoenixç®€ä»‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-2-phoenixç‰¹ç‚¹">8.2  Phoenixç‰¹ç‚¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-3-phoenixæ¶æ„">8.3 Phoenixæ¶æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-4-phoenixå®‰è£…">8.4 Phoenixå®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-5-phoenix-shell-æ“ä½œ">8.5 Phoenix Shell æ“ä½œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-6-phoenixä¸hbaseè¡¨æ˜ å°„">8.6 Phoenixä¸hbaseè¡¨æ˜ å°„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-7-äºŒçº§ç´¢å¼•">8.7 äºŒçº§ç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-8-phoenix-jdbcæ“ä½œ">8.8 Phoenix JDBCæ“ä½œ</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="hbase" tabindex="-1"><a class="header-anchor" href="#hbase"><span>HBase</span></a></h1><hr><h2 id="ä¸€ã€hbaseç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€hbaseç®€ä»‹"><span>ä¸€ã€HBaseç®€ä»‹</span></a></h2><h3 id="_1-1-å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_1-1-å®šä¹‰"><span>1.1 å®šä¹‰</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. HBaseæ˜¯ä»€ä¹ˆï¼Ÿ</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. åˆ†å¸ƒå¼</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å¯æ‰©å±•</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ”¯æŒæµ·é‡æ•°æ®çš„å­˜å‚¨</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. NoSQLçš„æ•°æ®åº“ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€NoSQL: </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Not</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> only </span><span style="color:#C678DD;--shiki-dark:#C678DD;">SQL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•°æ®åº“</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   bã€æ˜¯åŸºäºè°·æ­Œçš„ä¸‰ç¯‡è®ºæ–‡ä¹‹bigtableç”Ÿæˆçš„ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   cã€HBaseï¼šç†è§£ä¸ºHadoop base</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. å¤§æ•°æ®æ¡†æ¶ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€æ•°æ®çš„å­˜å‚¨ï¼šhdfs / hive / hbase</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   bã€æ•°æ®çš„ä¼ è¾“ï¼šflume / sqoop</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   cã€æ•°æ®çš„è®¡ç®—ï¼štez / mr / spark / flink</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 4. å’Œä¼ ç»Ÿæ•°æ®åº“çš„å·®åˆ«ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   ä¼ ç»Ÿæ•°æ®åº“çš„ç»“æ„ï¼šæ•°æ®åº“ </span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--&gt; è¡¨ --&gt; è¡Œå’Œåˆ—</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   HBaseçš„ç»“æ„ ï¼š </span><span style="color:#C678DD;--shiki-dark:#C678DD;">namespace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(å‘½åç©ºé—´) </span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--&gt; table --&gt; åˆ—æ— --&gt; è¡Œå’Œåˆ— --&gt; orgion --&gt; store</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   HBaseå¯ä»¥ç†è§£ä¸ºå¤šç»´çš„mapï¼ŒåµŒå¥—çš„mapç»“æ„ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-hbaseæ•°æ®æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_1-2-hbaseæ•°æ®æ¨¡å‹"><span>1.2 HBaseæ•°æ®æ¨¡å‹</span></a></h3><h4 id="_1-2-1-hbaseé€»è¾‘ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-2-1-hbaseé€»è¾‘ç»“æ„"><span>1.2.1 HBaseé€»è¾‘ç»“æ„</span></a></h4><p>![image-20200623181231019](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623181231.png)</p><h4 id="_1-2-2-hbaseçš„ç‰©ç†ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-2-2-hbaseçš„ç‰©ç†ç»“æ„"><span>1.2.2 HBaseçš„ç‰©ç†ç»“æ„</span></a></h4><p>![image-20200810140718245](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200810140725.png)</p><h4 id="_1-2-3-æ•°æ®æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_1-2-3-æ•°æ®æ¨¡å‹"><span>1.2.3 æ•°æ®æ¨¡å‹</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. HBaseè¡¨çš„å‡ ä¸ªæ¦‚å¿µ</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;namespace&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå‘½åç©ºé—´ï¼Œç±»ä¼¼mysqlçš„æ•°æ®åº“ï¼Œåœ¨HBaseä¸­é»˜è®¤æœ‰ä¸¤ä¸ªnamespaceï¼š</span><span style="color:#C678DD;--shiki-dark:#C678DD;">default</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/HBase</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ—æ—&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">     ï¼š</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;column&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   ï¼šåˆ—ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œæ ¼å¼ä¸ºï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ—æ—åï¼šåˆ—å&#39;</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;row&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      ï¼šè¡Œï¼Œåœ¨HBaseä¸­ï¼Œè¡Œæ˜¯é€»è¾‘æ¦‚å¿µä¸Šçš„ï¼Œåœ¨ç‰©ç†å†…å­˜ä¸­ï¼ŒåŒä¸€è¡Œçš„æ•°æ®å¾ˆå¯èƒ½ä¸åœ¨ä¸€èµ·çš„ã€‚</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;é‚£ä¹ˆæˆ‘ä»¬é€šè¿‡ä»€ä¹ˆå‚æ•°æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ®æ˜¯ä¸æ˜¯å±äºåŒä¸€è¡Œå‘¢&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    å°±æ˜¯ä¸‹é¢çš„rowkeyï¼Œrowkeyç›¸åŒï¼Œå°±è¡¨ç¤ºæ˜¯åŒä¸€è¡Œçš„æ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    5</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;rowKey&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   ï¼šè¡Œçš„æ ‡ç­¾ï¼Œå”¯ä¸€å®šä½è¡Œçš„æ ‡è¯†             </span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    6</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;region&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   ï¼šåŒºåŸŸï¼Œè¡¨ç¤ºå¤šè¡Œæ•°æ®ï¼Œåœ¨HBaseä¸­ï¼Œä¸€ä¸ªtableé»˜è®¤æ˜¯ä¸€ä¸ªregion</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    7</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;store&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ï¼šåœ¨åŒä¸€ä¸ªregionä¸­ï¼Œåˆ—æ—çš„ä¸ªæ•° </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> storeçš„ä¸ªæ•°,storeæœ‰ä¸¤ç§ï¼šmemstore/storefile</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    8</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;timeStemp&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šæ—¶é—´æˆ³ï¼Œè¡¨ç¤ºæ•°æ®æ‰§è¡Œçš„æ—¶é—´ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡æ“ä½œå°±ä¼šç”Ÿæˆä¸€ä¸ªç‰ˆæœ¬ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    9</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;table&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ï¼šè¡¨ï¼Œå¯ä»¥ç†è§£ä¸ºå¤šç»´çš„mapï¼Œåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œåªéœ€è¦å£°æ˜è¡¨åå’Œåˆ—æ—å°±å¯ä»¥.</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                    &quot;éå¸¸é€‚ç”¨äºéç»“æ„åŒ–æ•°æ®ï¼Œä¸éœ€è¦æŒ‡å®šæ•°æ®çš„æ ¼å¼&quot;</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    10</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;cell&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    : å•å…ƒæ ¼ï¼Œåœ¨è¡¨ä¸­çš„åŒä¸€ä¸ªä½ç½®</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;æŸä¸€è¡Œçš„æŸä¸€åˆ—ä½ç½®&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œä¼šæœ‰å¤šä¸ªcellï¼Œç›¸åŒçš„ä½ç½®æ¯ä¿®æ”¹ä¸€æ¬¡ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªcellã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                    ç”±{rowkey,åˆ—æ—ï¼šåˆ—åï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> stamp}ï¼Œè¿›è¡Œå”¯ä¸€æ ‡è¯†ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. HBaseé›†ç¾¤çš„å‡ ä¸ªæ¦‚å¿µ</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;master&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå¯ä»¥ç†è§£ä¸ºhadoopçš„NMï¼Œä¸“é—¨è´Ÿè´£ç®¡ç†å°å¼Ÿ</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;regionServer&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œå®ç°ç±»ä¸ºï¼šHmaster</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;regionServer&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå¯ä»¥ç†è§£ä¸ºhadoopçš„DMï¼Œä¸“é—¨è´Ÿè´£ç®¡ç†regionä¸­çš„æ•°æ®ï¼Œè¿˜æœ‰ä¸¤ä¸ªç»„ä»¶ï¼šWAL</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;å¯ç†è§£ä¸ºNMçš„å†…å­˜åŒºåŸŸçš„å…ƒæ•°</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    				   æ®&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">å’Œbalckcacheï¼Œè‡³äºå…·ä½“æ˜¯å¹²å˜›çš„ï¼Œåé¢å†™æ“ä½œçš„æ—¶å€™è®²ï¼Œå®ç°ç±»ä¸ºï¼šHRegionServer</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;meta&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  : å…ƒæ•°æ®ï¼Œzookeeperæœ‰å®ƒçš„åœ°å€ï¼ŒæŸä¸€ä¸ªregionServerä¿å­˜ç€è¿™ä¸ªæ•°æ®ã€‚ä¸»è¦æœ‰tableå’Œregionæ‰€åœ¨çš„ä½ç½®ã€‚ </span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;zookeeper&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šâ‘  masterçš„é«˜å¯ç”¨ â‘¡ RegionServerçš„ç›‘æ§ â‘¢ Regionçš„å…ƒæ•°æ®ç®¡ç†ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   åœ¨åº•å±‚å­˜å‚¨æ—¶ï¼Œæ•°æ®æŒ‰ç…§rowkeyçš„å­—å…¸é¡ºåºä»å°åˆ°å¤§è¿›è¡Œæ’åˆ—ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![image-20200623184151239](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623184151.png)</p><h2 id="äºŒã€-hbaseçš„å®‰è£…" tabindex="-1"><a class="header-anchor" href="#äºŒã€-hbaseçš„å®‰è£…"><span>äºŒã€ HBaseçš„å®‰è£…</span></a></h2><h3 id="_2-1-éƒ¨ç½²zookeeperå’Œhadoop" tabindex="-1"><a class="header-anchor" href="#_2-1-éƒ¨ç½²zookeeperå’Œhadoop"><span>2.1 éƒ¨ç½²zookeeperå’ŒHadoop</span></a></h3><h3 id="_2-2-è§£å‹hbaseåˆ°æŒ‡å®šçš„ä½ç½®" tabindex="-1"><a class="header-anchor" href="#_2-2-è§£å‹hbaseåˆ°æŒ‡å®šçš„ä½ç½®"><span>2.2 è§£å‹HBaseåˆ°æŒ‡å®šçš„ä½ç½®</span></a></h3><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 software]$ tar -zxvf hbase-2.0.5-bin.tar.gz -C /opt/module</span></span></code></pre></div><h3 id="_2-3-é…ç½®ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#_2-3-é…ç½®ç¯å¢ƒå˜é‡"><span>2.3 é…ç½®ç¯å¢ƒå˜é‡</span></a></h3><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 ~]$ sudo vim /etc/profile.d/my_env.sh</span></span></code></pre></div><ul><li>æ·»åŠ </li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#HBASE_HOME</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> HBASE_HOME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">opt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">module</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">hbase-2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">5</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> PATH</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$PATH</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$HBASE_HOME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bin</span></span></code></pre></div><h3 id="_2-4-é…ç½®hbaseçš„æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-4-é…ç½®hbaseçš„æ–‡ä»¶"><span>2.4 é…ç½®HBaseçš„æ–‡ä»¶</span></a></h3><ul><li>ä¿®æ”¹HBaseå¯¹åº”çš„é…ç½®æ–‡ä»¶</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#export HBASE_MANAGES_ZK=true </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ä¿®æ”¹è‡³ï¼š</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> HBASE_MANAGES_ZK</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">false</span></span></code></pre></div><ul><li>hbase-site.xmlå¢åŠ å¦‚ä¸‹é…ç½®å†…å®¹ï¼š</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">configuration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.rootdir&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hdfs://hadoop105:8020/hbase&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.cluster.distributed&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;true&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.zookeeper.quorum&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hadoop105,hadoop106,hadoop107&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.unsafe.stream.capability.enforce&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;false&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.wal.provider&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;filesystem&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">configuration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é…ç½®regionservers</li></ul><div class="language-xml" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hadoop105</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hadoop106</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hadoop107</span></span></code></pre></div><h3 id="_2-5-åˆ†å‘hbase" tabindex="-1"><a class="header-anchor" href="#_2-5-åˆ†å‘hbase"><span>2.5 åˆ†å‘HBase</span></a></h3><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 module]$ xsync hbase-2.0.5</span></span></code></pre></div><h3 id="_2-6-å¯åŠ¨hbase" tabindex="-1"><a class="header-anchor" href="#_2-6-å¯åŠ¨hbase"><span>2.6 å¯åŠ¨HBase</span></a></h3><p>å…ˆå¯åŠ¨hadoopé›†ç¾¤ï¼Œå†å¯åŠ¨zkï¼Œç„¶åå¯åŠ¨HBase</p><ul><li>å•ç‚¹å¯åŠ¨</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase-daemon.sh</span><span style="color:#98C379;--shiki-dark:#98C379;"> start</span><span style="color:#98C379;--shiki-dark:#98C379;"> master</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase-daemon.sh</span><span style="color:#98C379;--shiki-dark:#98C379;"> start</span><span style="color:#98C379;--shiki-dark:#98C379;"> regionserver</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">-daemonæ˜¯æŒ‡åå°å¯åŠ¨ã€‚</span></span></code></pre></div><ul><li>ç¾¤èµ·</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 hbase-2.0.5]$ start-hbase.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   aã€ä¼šå¯åŠ¨å½“å‰èŠ‚ç‚¹çš„master</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   bã€åœ¨æ‰€æœ‰èŠ‚ç‚¹å¯åŠ¨regionServer</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   cã€Hmasterå’ŒregionServeréƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚</span></span></code></pre></div><h3 id="_2-7-æŸ¥çœ‹hbaseçš„é¡µé¢" tabindex="-1"><a class="header-anchor" href="#_2-7-æŸ¥çœ‹hbaseçš„é¡µé¢"><span>2.7 æŸ¥çœ‹HBaseçš„é¡µé¢</span></a></h3><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>ç½‘å€ï¼šhadoop105:16010</span></span></code></pre></div><h3 id="_2-8-masterçš„é«˜å¯ç”¨-å¯é€‰" tabindex="-1"><a class="header-anchor" href="#_2-8-masterçš„é«˜å¯ç”¨-å¯é€‰"><span>2.8 masterçš„é«˜å¯ç”¨ï¼ˆå¯é€‰ï¼‰</span></a></h3><ul><li>å…³é—­HBaseçš„é›†ç¾¤</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">stop-hbase.sh</span></span></code></pre></div><ul><li>åœ¨confç›®å½•ä¸‹åˆ›å»ºbackup-mastersæ–‡ä»¶</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">touch</span><span style="color:#98C379;--shiki-dark:#98C379;"> conf/backup-masters</span></span></code></pre></div><ul><li>åœ¨backup-mastersæ–‡ä»¶ä¸­é…ç½®é«˜å¯ç”¨HMasterèŠ‚ç‚¹</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">echo</span><span style="color:#98C379;--shiki-dark:#98C379;"> hadoop106</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> &gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">conf/backup-masters</span></span></code></pre></div><ul><li>å°†æ•´ä¸ªconfç›®å½•scpåˆ°å…¶ä»–èŠ‚ç‚¹</li></ul><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">xsync</span><span style="color:#98C379;--shiki-dark:#98C379;"> conf</span></span></code></pre></div><h2 id="ä¸‰ã€-hbaseçš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€-hbaseçš„æ“ä½œ"><span>ä¸‰ã€ HBaseçš„æ“ä½œ</span></a></h2><h3 id="_3-1-åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_3-1-åŸºæœ¬æ“ä½œ"><span>3.1 åŸºæœ¬æ“ä½œ</span></a></h3><ol><li>è¿›å…¥hbaseçš„å®¢æˆ·ç«¯</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 conf]$ hbase shell</span></span></code></pre></div><ol start="2"><li>æŸ¥çœ‹æ‰€æœ‰namespaceä¸­æ‰€æœ‰çš„è¡¨</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):001:0&gt; list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">TABLE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#56B6C2;--shiki-dark:#56B6C2;">test</span><span style="color:#98C379;--shiki-dark:#98C379;">:user</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  #testæ˜¯ä¸€ä¸ªnamespace</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">user</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       #æ²¡æœ‰å†™å‘½åç©ºé—´çš„ï¼Œåˆ™é»˜è®¤æ˜¯default</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">2</span><span style="color:#98C379;--shiki-dark:#98C379;"> row</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">s</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">Took</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0.4410</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; [</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;test:user&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;user&quot;]</span></span></code></pre></div><h3 id="_3-2-è¡¨çš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_3-2-è¡¨çš„æ“ä½œ"><span>3.2 è¡¨çš„æ“ä½œ</span></a></h3><ol><li>åˆ›å»ºè¡¨</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--1.è¯­æ³•:</span><span style="color:#98C379;--shiki-dark:#98C379;"> create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;namespace:tablename&#39;,&#39;åˆ—æ—1&#39;ï¼Œ&#39;åˆ—æ—2&#39;ï¼Œ...</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    å¦‚æœæ˜¯namespaceæ˜¯defaultï¼Œåˆ™å¯ä»¥çœç•¥</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--2.å®ä¾‹1ï¼šhbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):002:0&gt; create </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;test&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info1&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    å®ä¾‹2ï¼šhbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):004:0&gt; create </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;test:lianzp&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info&#39;</span></span></code></pre></div><ol start="2"><li>æ·»åŠ æ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> put</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,&#39;rowkey&#39;,&#39;åˆ—æ—1:åˆ—å&#39;ï¼Œ&#39;value&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      è¯´æ˜ï¼šshellæ“ä½œæ¯æ¬¡åªèƒ½æ·»åŠ ä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:008:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">put</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,&#39;1001&#39;,&#39;info1:age&#39;,20</span></span></code></pre></div><ol start="3"><li>å…¨å±€æ‰«ææ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> scan</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:009:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">scan</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> æ‰“å°ç»“æœï¼š#å¦‚ä¸‹æ˜¯æ˜¾ç¤ºäº†4è¡Œæ•°æ®ï¼Œå®é™…ä¸Šæ•°æ®åœ¨è¡¨ä¸­å±äº3è¡Œ</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     ROW</span><span style="color:#98C379;--shiki-dark:#98C379;">                          COLUMN+CELL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                                                   </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     1000</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info2:sex,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592894945017,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=woman</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                            </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     1001</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info1:age,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592911858092,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">20</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                               </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     1001</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info1:name,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592894905511,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=lianzp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">                          </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     1003</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info1:age,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592894925226,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">50</span></span></code></pre></div><ol start="4"><li>æ‰«ææŒ‡å®šè¡Œçš„æ•°æ®</li></ol><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼šscan</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,{STARTROW</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;rowkey&#39;,STOPROW</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;rowkey&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">           aã€åŒºé—´ä¸ºå·¦é—­å³å¼€</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">           bã€å¦‚æœSTARTROWæ²¡æœ‰å†™ï¼Œåˆ™è¡¨ç¤ºå¼€å§‹çš„rowkeyä¸ºè´Ÿæ— ç©·ï¼Œå³æ²¡æœ‰ä¸‹é™ï¼Œåªæœ‰ä¸Šé™</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">              å¦‚æœSTOPROWæ²¡æœ‰å†™ï¼Œåˆ™è¡¨ç¤ºç»“æŸçš„rowkeyä¸ºæ­£æ— ç©·ï¼Œå³æ²¡æœ‰ä¸Šé™ï¼Œåªæœ‰ä¸‹é™</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">           </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼šhbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:012:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">scan</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,{STARTROW</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1000&#39;,STOPROW</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1003&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):014:0&gt; scan </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,{</span><span style="color:#E06C75;--shiki-dark:#E06C75;">STARTROW</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">            hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):015:0&gt; scan </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,{</span><span style="color:#E06C75;--shiki-dark:#E06C75;">STOPROW</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4.</span><span style="color:#98C379;--shiki-dark:#98C379;"> ç»“æœï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         ROW</span><span style="color:#98C379;--shiki-dark:#98C379;">                          COLUMN+CELL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">         </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         1000</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info2:sex,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592894945017,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=woman</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         1001</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info1:age,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592911858092,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">20</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">         </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         1001</span><span style="color:#98C379;--shiki-dark:#98C379;">                        column=info1:name,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1592894905511,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=lianzp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        2</span><span style="color:#98C379;--shiki-dark:#98C379;"> row</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">s</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>è·å–æŸä¸€è¡Œçš„æ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> get</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,&#39;rowkey&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> get</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,&#39;1001&#39;</span></span></code></pre></div><ol start="6"><li>è·å–æŸä¸€è¡ŒæŒ‡å®šåˆ—çš„æ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> get</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,&#39;rowkey&#39;ï¼Œ&#39;åˆ—æ—1:åˆ—å&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> get</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,&#39;1001&#39;,&#39;info1:age&#39;</span></span></code></pre></div><ol start="7"><li>è·å–è¡Œçš„æ•°é‡</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> count</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:001:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">count</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span></code></pre></div><ol start="8"><li>æŸ¥è¯¢è¡¨çš„ç»“æ„</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> describe</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:002:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">describe</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span></code></pre></div><p>![image-20200623195415990](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623195416.png)</p><ol start="9"><li>åˆ é™¤æŸä¸€è¡ŒæŸä¸€åˆ—çš„å€¼</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> delete</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,&#39;rowkey&#39;ï¼Œ&#39;åˆ—æ—1:åˆ—å&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:002:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:005:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">delete</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,&#39;1001&#39;,&#39;info1:age&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      aã€ä¸€ä¸ªä½ç½®é»˜è®¤ä¿ç•™ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¦‚æœä¸€ä¸ªä½ç½®è¢«å¤šæ¬¡ä¿®æ”¹æ—¶ï¼Œåˆ é™¤å½“å‰çš„æ•°æ®ï¼Œå†è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œåœ¨æœªflushçš„æƒ…å†µä¸‹ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬çš„æ•°æ®</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">         å¯ä»¥è¢«æŸ¥è¯¢å‡ºæ¥ã€‚</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bã€æ­¤å¤„çš„åˆ é™¤å¹¶ä¸æ˜¯çœŸæ­£çš„åˆ é™¤ï¼Œåªæ˜¯ç»™è¿™ä¸ªåˆ é™¤çš„æ•°æ®æ‰“ä¸Šäº†ä¸€ä¸ªæ ‡è®°ï¼Œåªæœ‰å½“è½ç›˜flushçš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£çš„è¢«æ¸…ç†æ‰ã€‚</span></span></code></pre></div><p>10 . åˆ é™¤æŸä¸€è¡Œçš„å…¨éƒ¨æ•°æ®</p><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> deleteall</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;,&#39;rowkey&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:020:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">deleteall</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;,&#39;1001&#39;</span></span></code></pre></div><ol start="11"><li>æ¸…é™¤è¡¨æ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> truncate</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼šhbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:020:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">truncate</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      aã€åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆä¼šè‡ªåŠ¨disable</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bã€ç„¶åå†æ¸…ç©ºè¡¨æ•°æ®,truncate</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> --</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4.</span><span style="color:#98C379;--shiki-dark:#98C379;"> æ‰“å°ç»“æœ</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        Truncating</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (it </span><span style="color:#98C379;--shiki-dark:#98C379;">may</span><span style="color:#98C379;--shiki-dark:#98C379;"> take</span><span style="color:#98C379;--shiki-dark:#98C379;"> a</span><span style="color:#98C379;--shiki-dark:#98C379;"> while</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        Disabling</span><span style="color:#98C379;--shiki-dark:#98C379;"> table...</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        Truncating</span><span style="color:#98C379;--shiki-dark:#98C379;"> table...</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        Took</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1.5164</span><span style="color:#98C379;--shiki-dark:#98C379;"> seconds</span></span></code></pre></div><ol start="12"><li>åˆ é™¤è¡¨</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯­æ³•ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> drop</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å®ä¾‹ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#98C379;--shiki-dark:#98C379;">:020:</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">0&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">drop</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;user&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     å¦‚æœç›´æ¥dropè¡¨ï¼Œä¼šæŠ¥é”™ï¼šERROR:</span><span style="color:#98C379;--shiki-dark:#98C379;"> Table</span><span style="color:#98C379;--shiki-dark:#98C379;"> student</span><span style="color:#98C379;--shiki-dark:#98C379;"> is</span><span style="color:#98C379;--shiki-dark:#98C379;"> enabled.</span><span style="color:#98C379;--shiki-dark:#98C379;"> Disable</span><span style="color:#98C379;--shiki-dark:#98C379;"> it</span><span style="color:#98C379;--shiki-dark:#98C379;"> first</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      aã€åœ¨åˆ é™¤è¡¨æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†è¡¨è®¾ç½®ä¸ºï¼šdisable</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      bã€ç„¶åå†åˆ é™¤,drop</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tablename&#39;</span></span></code></pre></div><ol start="13"><li>å¤šç‰ˆæœ¬</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1.è®¾ç½®å¤šç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   alter</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;student&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,{NAME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info&#39;,VERSIONS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#98C379;--shiki-dark:#98C379;">}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2.æŸ¥è¯¢å¤šç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">   get</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;student&#39;,&#39;1001&#39;,{COLUMN</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info:age&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,VERSIONS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#98C379;--shiki-dark:#98C379;"> }</span></span></code></pre></div><h3 id="_3-3-namespaceæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_3-3-namespaceæ“ä½œ"><span>3.3 namespaceæ“ä½œ</span></a></h3><ol><li>åˆ›å»ºnamespace</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):037:0&gt; create_namespace </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;lianzp&#39;</span></span></code></pre></div><ol start="2"><li>æŸ¥è¯¢namespace</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):039:0&gt; list_namespace</span></span></code></pre></div><ol start="3"><li>åˆ›å»ºè‡ªå®šçš„namespaceçš„è¡¨</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):042:0&gt; create </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;lianzp:test&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info&#39;</span></span></code></pre></div><ol start="4"><li>æŸ¥è¯¢æŒ‡å®šnamespaceçš„æ‰€æœ‰è¡¨</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):044:0&gt; list_namespace_tables </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;lianzp&#39;</span></span></code></pre></div><ol start="5"><li>åˆ é™¤namespace</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase(main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">):049:0&gt; drop_namespace </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;lianzp&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> è¯´æ˜ï¼šåœ¨åˆ é™¤namespaceä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ é™¤namespaceçš„è¡¨ï¼Œåˆ é™¤è¡¨æ—¶ï¼Œéœ€è¦å…ˆå°†è¡¨ç½®äºä¸å¯ç”¨çš„çŠ¶æ€ã€‚</span></span></code></pre></div><h2 id="å››ã€hbaseè¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#å››ã€hbaseè¿›é˜¶"><span>å››ã€HBaseè¿›é˜¶</span></a></h2><h3 id="_4-1-region-serverçš„æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_4-1-region-serverçš„æ¶æ„"><span>4.1 Region Serverçš„æ¶æ„</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  aã€1ä¸ªRegion </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Server</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  1ä¸ªWAL + 1ä¸ª </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Block</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> Cache + Nä¸ªregoin </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  bã€1ä¸ªRegion </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  1ä¸ªMemStore + Nä¸ªStoreFile </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. Region Server</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  aã€æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œæ˜¯HBaseåˆ†å¸ƒå¼çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. WAL</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  aã€é¢„é˜²æ—¥å¿—ï¼Œå­˜å‚¨åœ¨hdfsä¸Šï¼Œå‘RegionServerå‘é€è¯·æ±‚æ—¶ï¼Œé¦–å…ˆä¼šç»è¿‡WALï¼Œå°†å…·ä½“çš„æ“ä½œä¿å­˜ä¸‹æ¥ï¼Œç„¶åå†è¿›è¡Œå…·ä½“çš„æ“ä½œï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  bã€ä½œç”¨ï¼šå½“regionServerå‡ºç°æ•…éšœæ—¶ï¼Œå› ä¸ºWALä¿ç•™äº†å…·ä½“çš„æ“ä½œï¼Œæ‰€ä»¥æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 4. Block Cache</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€è¯»ç¼“å­˜ï¼Œæ¯æ¬¡æŸ¥è¯¢å‡ºçš„æ•°æ®ä¼šç¼“å­˜åœ¨BlockCacheä¸­ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 5. Region</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€æ˜¯ä¸€å¼ è¡¨ä¸­çš„å¤šè¡Œæ•°æ®ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªRegionã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 6. Store</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€å¯¹åº”ä¸€å¼ è¡¨ä¸­çš„åˆ—æ—çš„ä¸ªæ•°ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   bã€æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯MemStore å’ŒStoreFile</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 7. memstore</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€æ•°æ®æ˜¯å…ˆå­˜å‚¨åœ¨MemStoreä¸­ï¼Œæ’å¥½åºåï¼Œç­‰åˆ°è¾¾åˆ·å†™æ—¶æœºæ‰ä¼šåˆ·å†™åˆ°HFileï¼Œæ¯æ¬¡åˆ·å†™éƒ½ä¼šå½¢æˆä¸€ä¸ªæ–°çš„HFile</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 8. StoreFile</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€StoreFileä»¥Hfileçš„å½¢å¼å­˜å‚¨åœ¨HDFSä¸Š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   bã€æ•°æ®åœ¨æ¯ä¸ªStoreFileä¸­éƒ½æ˜¯æœ‰åºçš„</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![image-20200623202240623](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623202240.png)</p><h3 id="_4-2-å†™æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-2-å†™æµç¨‹"><span>4.2 å†™æµç¨‹</span></a></h3><p>![image-20200623204209982](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623204210.png)</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. å…·ä½“æµç¨‹ï¼š</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. Clientå…ˆè®¿é—®zookeeperï¼Œè¯·æ±‚hbase:metaå…ƒæ•°æ®ä½äºå“ªä¸ªRegion Serverä¸­ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. zookeeperè¿”å›hbase:metaæ‰€åœ¨çš„Region Serveråœ°å€</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. clientè®¿é—®å¯¹åº”çš„Region </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œè¯·æ±‚hbase:metaå…ƒæ•°æ®ä¿¡æ¯</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. Region Serverè¿”å›metaå…ƒæ•°æ®ä¿¡æ¯</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    5</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. clientæ ¹æ®å†™è¯·æ±‚çš„namespace:</span><span style="color:#C678DD;--shiki-dark:#C678DD;">table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/rowkeyï¼ŒæŸ¥è¯¢å‡ºç›®æ ‡æ•°æ®ä½äºå“ªä¸ªRegion Serverä¸­çš„å“ªä¸ªRegionä¸­ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">       å¹¶å°†è¯¥tableçš„regionä¿¡æ¯ä»¥åŠmetaè¡¨çš„ä½ç½®ä¿¡æ¯ç¼“å­˜åœ¨å®¢æˆ·ç«¯çš„meta cacheï¼Œæ–¹ä¾¿ä¸‹æ¬¡è®¿é—®ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    6</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ä¸ç›®æ ‡Region Serverè¿›è¡Œé€šè®¯ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    7</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å°†æ•°æ®é¡ºåºå†™å…¥ï¼ˆè¿½åŠ ï¼‰åˆ°WALï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    8</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. WALå°†æ•°æ®å†™å…¥å¯¹åº”çš„MemStoreï¼Œæ•°æ®ä¼šåœ¨MemStoreè¿›è¡Œæ’åºï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    9</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å®Œæˆå†™æ•°æ®æ“ä½œä»¥åï¼Œå‘å®¢æˆ·ç«¯å‘é€ackï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    10</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ç­‰è¾¾åˆ°MemStoreçš„åˆ·å†™æ—¶æœºåï¼Œå°†æ•°æ®åˆ·å†™åˆ°HFileã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. hbase:metaåŒ…å«å“ªäº›ä¿¡æ¯å‘¢ï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   å‘½ä»¤ï¼šscan â€˜hbase:metaâ€™</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   aã€rowkeyï¼š test,,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1592911245995</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.c42a3b247c7ed78f071</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">               1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) testï¼š</span><span style="color:#C678DD;--shiki-dark:#C678DD;">namespace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,å‘½åç©ºé—´</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">               2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) ,,ï¼šstartkey endkeyï¼Œèµ·æ­¢çš„rowkey</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">               3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#D19A66;--shiki-dark:#D19A66;">1592911245995</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#C678DD;--shiki-dark:#C678DD;">time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> stamp ï¼Œæ—¶é—´æˆ³</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">               4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) .c42a3b247c7ed78f071:å‰é¢3ä¸ªå‚æ•°çš„MD5å€¼ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   bã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:regioninfo ï¼š regionçš„ä¿¡æ¯ï¼Œ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">                               value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{ENCODED </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> c42a3b247c7ed78f071f60721bad78ad, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">NAME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;test,,</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;"> f60721bad78ad.1592911245995.c42a3b247c7ed78f071f60721bad78ad.&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, STARTKEY </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, ENDKEY </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   cã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:seqnumDuringOpen ï¼šåºåˆ—å·ï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">\x00\x00\x00\x00\x00\x00\x00\x02 </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   dã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:</span><span style="color:#C678DD;--shiki-dark:#C678DD;">server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ï¼š è¯¥regionæ‰€åœ¨çš„serverï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hadoop106:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">16020</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   eã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:serverstartcode ï¼š è¯¥regionæ‰€åœ¨çš„serveråˆ›å»ºçš„æ—¶é—´æˆ³ï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1592887276902</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   fã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:sn    ï¼š </span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hadoop106,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">16020</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1592887276902</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   gã€column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">info:</span><span style="color:#C678DD;--shiki-dark:#C678DD;">state</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ï¼šè¯¥regionçš„çŠ¶æ€ï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;">OPEN</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![image-20200623205526788](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623205526.png)</p><h3 id="_4-3-memstore-flushæ—¶æœº" tabindex="-1"><a class="header-anchor" href="#_4-3-memstore-flushæ—¶æœº"><span>4.3 MemStore flushæ—¶æœº</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- MemStoreåˆ·å†™æ—¶æœºï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  	å¦‚ä¸‹ä¸€å…±æœ‰4ç§åˆ·å†™å®æ—¶æœºï¼Œä»»ä½•ä¸€ä¸ªæ—¶æœºç‚¹åˆ°è¾¾åå‡ä¼šè¿›è¡Œåˆ·å†™ï¼Œåˆ·å†™åˆ†ä¸ºï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 	aã€åˆ·å†™ï¼šmemStoreå‘storeFileä¸­å†™æ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 	bã€é˜»æ­¢å†™ï¼šé˜»æ­¢å®¢æˆ·ç«¯å¾€regionä¸­å†™æ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ—¶æœº1:regionçº§åˆ«ï¼Œåˆ·å†™æ–¹å¼ï¼šå½“å‰regionä¸­æ‰€æœ‰memstoreéƒ½åˆ·å†™</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ·å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå½“æŸä¸ªmemstroeçš„å¤§å°è¾¾åˆ°äº†</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hbase.hregion.memstore.flush.size&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼ˆé»˜è®¤å€¼128Mï¼‰ï¼Œ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">               æ—¶ï¼Œè¯¥regionä¸­æ‰€æœ‰memstoreéƒ½ä¼šåˆ·å†™ã€‚</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">               &#39;æ¯ä¸€ä¸ªregionæœ‰å¤šä¸ªstoreï¼Œä¸€ä¸ªstoreåŒ…å«äº†ä¸€ä¸ªmemStoreå’Œå¤šä¸ªstoreFile&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    bã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;é˜»æ­¢å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå½“memstoreçš„å¤§å°è¾¾åˆ°äº†</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hbase.hregion.memstore.flush.sizeï¼ˆé»˜è®¤å€¼128Mï¼‰</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                                    * hbase.hregion.memstore.block.multiplierï¼ˆé»˜è®¤å€¼4ï¼‰&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">               æ—¶512MBï¼Œä¼šé˜»æ­¢ç»§ç»­å¾€è¯¥memstoreå†™æ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ—¶æœº2ï¼š regionServerçº§åˆ«ï¼Œåˆ·å†™æ–¹å¼ï¼šæŒ‰ç…§æ‰€æœ‰memstoreçš„æ•°æ®å¤§å°é¡ºåºï¼ˆç”±å¤§åˆ°å°ï¼‰ä¾æ¬¡è¿›è¡Œåˆ·å†™</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ·å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå½“regionserverä¸­memstoreçš„æ€»å¤§å°è¾¾åˆ°</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">              &#39;java_heapsize*hbase.regionserver.global.memstore.sizeï¼ˆé»˜è®¤å€¼0.4ï¼‰</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">              *hbase.regionserver.global.memstore.size.lower.limitï¼ˆé»˜è®¤å€¼0.95ï¼‰&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">              å³ </span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">38</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * JVMå †å†…å­˜</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">              regionä¼šæŒ‰ç…§å…¶æ‰€æœ‰memstoreçš„å¤§å°é¡ºåºï¼ˆç”±å¤§åˆ°å°ï¼‰ä¾æ¬¡è¿›è¡Œåˆ·å†™ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">              ç›´åˆ°region serverä¸­æ‰€æœ‰memstoreçš„æ€»å¤§å°å‡å°åˆ°ä¸Šè¿°å€¼ä»¥ä¸‹ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    bã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;é˜»æ­¢å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå½“region serverä¸­memstoreçš„æ€»å¤§å°è¾¾åˆ°</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;java_heapsize*hbase.regionserver.global.memstore.size&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">               ï¼ˆ</span><span style="color:#D19A66;--shiki-dark:#D19A66;">é»˜è®¤å€¼0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼‰æ—¶ï¼Œä¼šé˜»æ­¢ç»§ç»­å¾€æ‰€æœ‰çš„memstoreå†™æ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ—¶æœº3ï¼šæ—¶é—´çº§åˆ«ï¼šåˆ·å†™æ–¹å¼ï¼šé»˜è®¤1Hè¿›è¡Œåˆ·å†™               </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ·å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šåˆ°è¾¾è‡ªåŠ¨åˆ·å†™çš„æ—¶é—´ï¼Œä¹Ÿä¼šè§¦å‘memstore flushã€‚è‡ªåŠ¨åˆ·æ–°çš„æ—¶é—´é—´éš”ç”±è¯¥å±æ€§è¿›è¡Œé…ç½®</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &#39;hbase.regionserver.optionalcacheflushintervalï¼ˆé»˜è®¤1å°æ—¶ï¼‰ã€‚&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- æ—¶æœº4ï¼šå…³é—­hbaseæ—¶ï¼Œåˆ·å†™æ–¹å¼ï¼šè¿›è¡Œåˆ·å†™</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ·å†™&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå…³é—­hbaseå³è¿›è¡Œåˆ·å†™ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-è¯»æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-4-è¯»æµç¨‹"><span>4.4 è¯»æµç¨‹</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ•´ä½“çš„æµç¨‹å’Œå†™çš„æµç¨‹å¤§è‡´ä¸€è‡´ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äºï¼š</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. è¯»çš„ä½ç½®æœ‰å¾ˆå¤šä½ç½®</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€</span><span style="color:#C678DD;--shiki-dark:#C678DD;">block</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> cache</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€memStore</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      cã€StoreFile</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ä¸åŒçš„ä½ç½®ï¼Œå‡ä¼šæœ‰æ•°æ®ï¼Œä½†æ˜¯æ•°æ®çš„ç‰ˆæœ¬å¯èƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å½“å®¢æˆ·ç«¯è¯»å–å¤šä¸ªç‰ˆæœ¬æ•°æ®æ—¶ï¼Œå¯èƒ½æ¯ä¸ªä½ç½®éƒ½éœ€è¦è¯»å–ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. è¯»å–åˆ°æ¯ä¸ªä½ç½®çš„æ•°æ®ä»¥åï¼Œç„¶åè¿›è¡Œmergeï¼Œå°†æ•°æ®è¿›è¡Œåˆå¹¶ï¼Œæœ€åå‘é€ç»™å®¢æˆ·ç«¯ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å®¢æˆ·ç«¯æ¯æ¬¡è¯»å–åˆ°çš„æ•°æ®æœ€åä¼šç¼“å­˜åˆ°block cacheä¸­ï¼Œç¼“å†²å†…å­˜çš„å¤§å°</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;é»˜è®¤å¤§å°ä¸º64kb&#39;</span></span></code></pre></div><p>![image-20200623223543002](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623223543.png)</p><p>â€‹ ![image-20200623223736145](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623223736.png)</p><h3 id="_4-5-storefile-compaction" tabindex="-1"><a class="header-anchor" href="#_4-5-storefile-compaction"><span>4.5 StoreFile Compaction</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. StoreFileæ–‡ä»¶åˆå¹¶çš„åŸå› </span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. memstoreæ¯æ¬¡åˆ·å†™éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„HFileã€‚</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--å°æ–‡ä»¶</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. åŒä¸€ä¸ªå­—æ®µçš„ä¸åŒç‰ˆæœ¬ï¼ˆ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">timestamp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼‰å’Œä¸åŒç±»å‹ï¼ˆPut/</span><span style="color:#C678DD;--shiki-dark:#C678DD;">Delete</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼‰æœ‰å¯èƒ½ä¼šåˆ†å¸ƒåœ¨ä¸åŒçš„HFileä¸­</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ä¸ºäº†å‡å°‘HFileçš„ä¸ªæ•°</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ¸…ç†æ‰è¿‡æœŸå’Œåˆ é™¤çš„æ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--2. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  aã€ä»€ä¹ˆæ˜¯è¿‡æœŸçš„æ•°æ®ï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">     tableä¸­æ¯ä¸€ä¸ªä½ç½®æœ‰ä¿ç•™çš„ç‰ˆæœ¬æ•°ï¼ŒåŒä¸€ä½ç½®è¿›è¡Œå¤šæ¬¡æ•°æ®ä¿®æ”¹æ—¶ï¼Œå°±ä¼šæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œåœ¨flushä¹‹å‰ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œåœ¨è½ç›˜æ—¶ï¼Œåªä¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">     ä¿ç•™å¯¹åº”ç‰ˆæœ¬æ•°é‡çš„æœ€æ–°çš„æ•°æ®ï¼Œè¶…è¿‡ç‰ˆæœ¬æ•°é‡çš„æ•°æ®å°±å±äºè¿‡æœŸæ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  bã€ä»€ä¹ˆæ˜¯åˆ é™¤çš„æ•°æ®ï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">     ä½¿ç”¨deleteåˆ é™¤æ•°æ®æ—¶ï¼Œæ•°æ®å¹¶ä¸æ˜¯çœŸæ­£çš„åˆ é™¤ï¼Œè€Œæ˜¯ç»™æ•°æ®æ‰“ä¸€ä¸ªæ ‡è¯†ï¼Œå½“è½ç›˜æ—¶ï¼Œè¿™äº›æ•°æ®å°±ä¼šè¢«è¿‡æ»¤å’Œåˆ é™¤ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--3. åˆå¹¶åˆ†ç±»ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  aã€Minor Compactionï¼Œå°åˆå¹¶ï¼Œä¸´è¿‘çš„è‹¥å¹²ä¸ªè¾ƒå°çš„HFileåˆå¹¶æˆä¸€ä¸ªè¾ƒå¤§çš„HFileï¼Œå¹¶æ¸…ç†æ‰éƒ¨åˆ†è¿‡æœŸå’Œåˆ é™¤çš„æ•°æ®ã€‚é»˜è®¤æ˜¯3ä¸ªæ–‡ä»¶</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  bã€Major Compactionï¼Œå¤§åˆå¹¶ï¼Œå°†ä¸€ä¸ªStoreä¸‹çš„æ‰€æœ‰çš„HFileåˆå¹¶æˆä¸€ä¸ªå¤§HFileï¼Œå¹¶ä¸”ä¼šæ¸…ç†æ‰æ‰€æœ‰è¿‡æœŸå’Œåˆ é™¤çš„æ•°æ®ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>![image-20200623225525470](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200623225525.png)</p><h3 id="_4-6-å¤šç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_4-6-å¤šç‰ˆæœ¬"><span>4.6 å¤šç‰ˆæœ¬</span></a></h3><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#åˆ›å»ºä¸€ä¸ªåˆ—æ—çš„ç‰ˆæœ¬æ•°ä¸º2</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;t1&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,{NAME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=&gt;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;f1ï¼ŒVERSIONS=&gt;2}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">#è·å–ä¸¤ä¸ª2ä¸ªç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">get &#39;t1&#39;,&#39;1002&#39;,{CLOUMN =&gt; &#39;f1:age&#39;,VERSIONS =&gt; 2}</span></span></code></pre></div><h3 id="_4-7-region-split" tabindex="-1"><a class="header-anchor" href="#_4-7-region-split"><span>4.7 Region Split</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. RegionåŸºæœ¬ä»‹ç»</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. é»˜è®¤ä¸€ä¸ªTableï¼Œåªæœ‰ä¸€ä¸ªRegion</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. éšç€æ•°æ®çš„ä¸æ–­å†™å…¥ï¼ŒRegionä¼šè‡ªåŠ¨è¿›è¡Œæ‹†åˆ†ï¼Œ</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;å¦‚æœè®¾å®šäº†regionåˆ†åŒºçš„è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸ªé»˜è®¤åˆ‡åˆ†è§„åˆ™ä¸ä¼šæœ‰æ•ˆ&#39;</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ‹†åˆ†ä»¥åï¼ŒHMasteræœ‰å¯èƒ½ä¼šå°†æŸä¸ªRegionè½¬ç§»åˆ°å…¶ä»–çš„Region </span><span style="color:#C678DD;--shiki-dark:#C678DD;">Server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„è¿ç§»ï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">IO</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--2. Regionåˆ‡åˆ†çš„æ—¶æœº</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">   &#39;æƒ…å†µ1&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.94ç‰ˆæœ¬ä¹‹å‰</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">   å½“1ä¸ªregionä¸­çš„æŸä¸ªStoreä¸‹æ‰€æœ‰StoreFileçš„æ€»å¤§å°è¶…è¿‡hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">filesize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œè¯¥Regionå°±ä¼šè¿›è¡Œæ‹†åˆ†ã€‚</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">   &#39;æƒ…å†µ2&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.94ç‰ˆæœ¬ä¹‹å</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.å½“1ä¸ªregionä¸­çš„æŸä¸ªStoreä¸‹æ‰€æœ‰StoreFileçš„æ€»å¤§å°è¶…è¿‡Min(initialSize*R^</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ,</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">filesize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)ï¼Œè¯¥Regionå°±ä¼šè¿›è¡Œæ‹†åˆ†ã€‚å…¶ä¸­initialSizeçš„é»˜è®¤å€¼ä¸º2*</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">memstore</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">flush</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#C678DD;--shiki-dark:#C678DD;">size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼ŒRä¸ºå½“å‰Region Serverä¸­å±äºè¯¥Tableçš„Regionä¸ªæ•°</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- 10Gä»¥å‰ï¼ŒæŒ‰ç…§å–æœ€å°å€¼è¿›è¡Œåˆ‡åˆ†ï¼Œ10Gä»¥åï¼Œå°±æ¯10Gåˆ‡åˆ†ä¸€æ¬¡ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    å…·ä½“çš„åˆ‡åˆ†ç­–ç•¥ä¸ºï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ç¬¬ä¸€æ¬¡splitï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">^</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#D19A66;--shiki-dark:#D19A66;">256</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 256MB </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ç¬¬äºŒæ¬¡splitï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">^</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#D19A66;--shiki-dark:#D19A66;">256</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 2048MB </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ç¬¬ä¸‰æ¬¡splitï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">^</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#D19A66;--shiki-dark:#D19A66;">256</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 6912MB </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    ç¬¬å››æ¬¡splitï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">^</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#D19A66;--shiki-dark:#D19A66;">256</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 16384MB </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> 10GBï¼Œå› æ­¤å–è¾ƒå°çš„å€¼10GB </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    åé¢æ¯æ¬¡splitçš„sizeéƒ½æ˜¯10GBäº†ã€‚</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;æƒ…å†µ3&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šHbase </span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    å¦‚æœå½“å‰RegionServerä¸Šè¯¥è¡¨åªæœ‰ä¸€ä¸ªRegionï¼ŒæŒ‰ç…§2 * </span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">memstore</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">flush</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#C678DD;--shiki-dark:#C678DD;">size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;é»˜è®¤æ˜¯128M&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)åˆ†è£‚ï¼Œå¦åˆ™æŒ‰ç…§</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">filesize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;é»˜è®¤æ˜¯10G&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)åˆ†è£‚</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-8-ä¸€äº›å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_4-8-ä¸€äº›å‘½ä»¤"><span>4.8 ä¸€äº›å‘½ä»¤</span></a></h3><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--1.</span><span style="color:#98C379;--shiki-dark:#98C379;"> åˆ·å†™ï¼š</span><span style="color:#98C379;--shiki-dark:#98C379;"> flush</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tableName&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--2.</span><span style="color:#98C379;--shiki-dark:#98C379;"> é˜²æ­¢é€€å‡ºhbaseå®¢æˆ·ç«¯ï¼šq</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--3.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å¤§åˆå¹¶ï¼šmajor_compact</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tableName&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--4.</span><span style="color:#98C379;--shiki-dark:#98C379;"> å°åˆå¹¶ï¼šcompact</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;tableName&#39;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--5.</span><span style="color:#98C379;--shiki-dark:#98C379;"> scanæŸ¥è¯¢çš„æ—¶å€™ï¼šscan</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;student&#39;,{COLUMNS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;info:age:toLong&#39;}</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">     ROW</span><span style="color:#98C379;--shiki-dark:#98C379;">                             COLUMN+CELL</span><span style="color:#D19A66;--shiki-dark:#D19A66;">                                                                          1002</span><span style="color:#98C379;--shiki-dark:#98C379;">                           column=info:age,</span><span style="color:#98C379;--shiki-dark:#98C379;"> timestamp=1593192755078,</span><span style="color:#98C379;--shiki-dark:#98C379;"> value=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">10</span></span></code></pre></div><h2 id="äº”-ã€-hbase-api" tabindex="-1"><a class="header-anchor" href="#äº”-ã€-hbase-api"><span>äº” ã€ HBase API</span></a></h2><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1.DML(Data Manipulation Language)æ•°æ®æ“çºµè¯­è¨€ï¼šä½¿ç”¨connè¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">é€‚ç”¨èŒƒå›´ï¼šå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œä¸€äº›ç®€å•æ“ä½œï¼Œå¦‚insert,</span><span style="color:#C678DD;--shiki-dark:#C678DD;">delete</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#C678DD;--shiki-dark:#C678DD;">update</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,selectç­‰.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--2.DDL(Data Definition Language)æ•°æ®å®šä¹‰è¯­è¨€ï¼šä½¿ç”¨adminå¯¹è±¡è¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">é€‚ç”¨èŒƒå›´ï¼šå¯¹æ•°æ®åº“ä¸­çš„æŸäº›å¯¹è±¡(ä¾‹å¦‚ï¼Œ</span><span style="color:#C678DD;--shiki-dark:#C678DD;">database</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#C678DD;--shiki-dark:#C678DD;">table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)è¿›è¡Œç®¡ç†ï¼Œå¦‚Create,Alterå’ŒDrop.</span></span></code></pre></div><h3 id="_5-1-ç¯å¢ƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_5-1-ç¯å¢ƒå‡†å¤‡"><span>5.1 ç¯å¢ƒå‡†å¤‡</span></a></h3><ul><li>æ·»åŠ ä¾èµ–</li></ul><div class="language-xml" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.hbase&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase-server&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;2.0.5&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.hbase&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase-client&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;2.0.5&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><h3 id="_5-2-ddl" tabindex="-1"><a class="header-anchor" href="#_5-2-ddl"><span>5.2 DDL</span></a></h3><div class="language-scala line-numbers-mode" data-ext="scala" data-title="scala"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">package</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> com.atguigui.lianzp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.conf.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Configuration</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.{</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">HBaseConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NamespaceDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.client._</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.util.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * @Description</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@author</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> lianzhipeng</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * @create 2020-06-24 9:59:55</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">object</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HBase_DDL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 1. è·å–zookeeperçš„è¿æ¥</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Configuration</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HBaseConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.create()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  conf.set(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.zookeeper.quorum&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hadoop105,hadoop106,hadoop107&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> conn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Connection</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ConnectionFactory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.createConnection(conf)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 2. è·å–hbaseçš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> admin</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Admin</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getAdmin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Array</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]): </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Unit</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Boolean</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> tableExists(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;user&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//    println(result)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//    createTable(&quot;emp&quot;,&quot;cf1&quot;,&quot;cf2&quot;)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//    deleteTable(&quot;user&quot;)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//    val bool: Boolean = nsExists(&quot;lianzp&quot;)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//    println(bool)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    createNS(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;lianzp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    connclose()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> createNS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (namespace:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">!</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">nsExists(namespace)){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> ns</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NamespaceDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Builder</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> NamespaceDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.create(namespace)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      admin.createNamespace(ns.build())</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;namespace:{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">namespace</span><span style="color:#98C379;--shiki-dark:#98C379;">}åˆ›å»ºæˆåŠŸ&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;namespace:{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">namespace</span><span style="color:#98C379;--shiki-dark:#98C379;">}å·²å­˜åœ¨ï¼Œåˆ›å»ºå¤±è´¥&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> nsExists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">namespace</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è·å–å½“å‰æ‰€æœ‰çš„namespaceçš„æè¿°ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> nss</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Array</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NamespaceDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> admin.listNamespaceDescriptors()</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œè·å–namespaceçš„åå­—ï¼Œç„¶åç¡®å®šnamespaceæ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    nss.map(_.getName).contains(namespace)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> deleteTable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è·å–å½“å‰è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(table)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableExists(table)){</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     // åˆ é™¤è¡¨ï¼Œé¦–å…ˆéœ€è¦å°†è¡¨ç½®äºä¸å¯ç”¨çš„çŠ¶æ€æ‰èƒ½è¿›è¡Œåˆ é™¤</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      admin.disableTable(tn)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      admin.deleteTable(tn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">table</span><span style="color:#98C379;--shiki-dark:#98C379;">}è¡¨åˆ é™¤æˆåŠŸ&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">table</span><span style="color:#98C379;--shiki-dark:#98C379;">}è¡¨ä¸å­˜åœ¨ï¼Œåˆ é™¤å¤±è´¥&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> name</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@return</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> tableExists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(name)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> bool</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Boolean</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> admin.tableExists(tableName)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    bool</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * åˆ›å»ºè¡¨</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> tableName</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> columns</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> createTable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableName :</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> , </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">columns</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">*</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //TableDescriptor desc</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tb</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableDescriptorBuilder</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableDescriptorBuilder</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.newBuilder(tn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">!</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">tableExists(tableName)) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      columns.foreach(cf </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> descriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ColumnFamilyDescriptor</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ColumnFamilyDescriptorBuilder</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">          .newBuilder(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(cf))</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">          .build()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        tb.setColumnFamily(descriptor)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      admin.createTable(tb.build())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">tableName</span><span style="color:#98C379;--shiki-dark:#98C379;">}è¡¨åˆ›å»ºæˆåŠŸ&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;å½“å‰çš„è¡¨{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">tableName</span><span style="color:#98C379;--shiki-dark:#98C379;">}å·²å­˜åœ¨&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> connclose</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 4. å…³é—­å¯¹è±¡</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    admin.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 5. å…³é—­è¿æ¥</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    conn.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-dml" tabindex="-1"><a class="header-anchor" href="#_5-3-dml"><span>5.3 DML</span></a></h3><div class="language-scala line-numbers-mode" data-ext="scala" data-title="scala"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">package</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> com.atguigui.lianzp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> java.util</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.conf.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Configuration</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.{</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Cell</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">HBaseConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.client._</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.hadoop.hbase.util.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * @Description</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@author</span><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> lianzhipeng</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  * @create 2020-06-24 14:16:48</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">object</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HBase_DML</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 1. è·å–è¿æ¥</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> var</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> conf</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Configuration</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HBaseConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.create()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  conf.set(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.zookeeper.quorum&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hadoop105,hadoop106,hadoop107&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> conn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Connection</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ConnectionFactory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.createConnection(conf)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 2. åˆ›å»ºhbaseçš„masterçš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> admin</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Admin</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getAdmin</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Array</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]): </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Unit</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1. å¢åŠ æ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //    putData(&quot;test&quot;, &quot;1002&quot;, &quot;info&quot;, &quot;age&quot;, &quot;2&quot;)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2. æ‰«ææ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //    scanData(&quot;test&quot;)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 3. åˆ é™¤æ•°æ®</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    deleteData(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;test&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;1001&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;info&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 4. è·å–æ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //    getData(&quot;test&quot;, &quot;1002&quot;, &quot;info&quot;, &quot;age&quot;)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    closeConn</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * åˆ é™¤æ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> tableName</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> rowKey</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> columnFamily</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> column</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> deleteData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">rowKey</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">columnFamily</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">column</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1. è·å–è¡¨</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å°è£…è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è·å–è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Table</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getTable(tn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2. åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableExists(tableName)) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // å°è£…ä¸€ä¸ªdelete</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> delete</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Delete</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(rowKey))</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> dl</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Delete</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> delete.addColumn(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(columnFamily), </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(column))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // å¯¹è¡¨è¿›è¡Œåˆ é™¤</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      table.delete(dl)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> scanData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1. è·å–è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Table</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getTable(tn)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2.åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableExists(tableName)) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // è·å–ä¸€ä¸ªscanå¯¹è±¡</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> scan</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Scan</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // è·å–è¡¨çš„å…¨å±€æ‰«æ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> scanner</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ResultScanner</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> table.getScanner(scan)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // è¿™ä¸ªæ˜¯ç”¨æ¥åœ¨javaçš„é›†åˆå’Œscalaçš„é›†åˆä¹‹é—´äº’è½¬  (éšå¼è½¬æ¢)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> scala.collection.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">JavaConversions</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">._</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // ä½¿ç”¨è¿­ä»£å™¨ï¼Œè·å–æ‰€æœ‰æ•°æ®çš„é›†åˆ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> results</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: util.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Iterator</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> scanner.iterator()</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // éå†æ¯ä¸€è¡Œçš„æ•°æ®</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (result </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;-</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> results) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // è·å–æ¯ä¸€è¡Œæ•°æ®ä¸­æ‰€æœ‰çš„å•å…ƒæ ¼</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> cells</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: util.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Cell</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> result.listCells()</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (cells </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">!=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          // éå†æ‰€æœ‰çš„å•å…ƒæ ¼ï¼Œåªèƒ½è·å–æœ€æ–°çš„ç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">          for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (cell </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;-</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> cells) {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            println(</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">              s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                 |rowKey= </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneRow(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                 |columnFamily = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneFamily(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                 |column = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneQualifier(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">                 |value = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneValue(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">            &quot;&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.stripMargin)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            println(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;=======================================&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">          }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">rowKey</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">columnFamily</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">column</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1. è·å–è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Table</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getTable(tn)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2. åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥é€€å‡ºæ–¹æ³•ï¼Œå¹¶æç¤ºclientæŸ¥è¯¢çš„è¡¨ä¸å­˜åœ¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableExists(tableName)) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> get</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Get</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(rowKey))</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      get.addColumn(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(columnFamily), </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(column))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Result</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> table.get(get)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> scala.collection.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">JavaConversions</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">._</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> cells</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: util.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Cell</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> result.listCells()</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (cell </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;-</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> cells) {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        println(</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">          s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">             |columnFamliy = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneFamily(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">             |column = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneQualifier(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">             |value = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneValue(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">             |rowKey = </span><span style="color:#C678DD;--shiki-dark:#C678DD;">${</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toString(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CellUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.cloneRow(cell))</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">           &quot;&quot;&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.stripMargin)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">tableName</span><span style="color:#98C379;--shiki-dark:#98C379;">}è¡¨ä¸å­˜åœ¨&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * å¢åŠ æ•°æ®</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> tableName</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> rowKey</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> columnFamily</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> column</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * </span><span style="color:#C678DD;font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> value</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> putData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">rowKey</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">columnFamily</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">column</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1. è·å–è¡¨</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Table</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> conn.getTable(tn)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2. åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™æ·»åŠ æ•°æ®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™é€šçŸ¥client</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (tableExists(tableName)) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // å°è£…æ’å…¥çš„æ•°æ®</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> put</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Put</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(rowKey))</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      put.addColumn(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(columnFamily), </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(column), </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.toBytes(value))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // å°†æ•°æ®æ’å…¥</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      table.put(put)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // å…³é—­è¿æ¥</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      table.close()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;æ’å…¥æ•°æ®æ“ä½œæ‰§è¡ŒæˆåŠŸ&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      println(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">s</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;å½“å‰è¡¨{</span><span style="color:#C678DD;--shiki-dark:#C678DD;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">tableName</span><span style="color:#98C379;--shiki-dark:#98C379;">}ä¸å­˜åœ¨&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> tableExists</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    val</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">TableName</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> TableName</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.valueOf(tableName)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    admin.tableExists(tn)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    * å…³é—­è¿æ¥</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  def</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> closeConn</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 3. å…³é—­å¯¹è±¡</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    admin.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 4. å…³é—­è¿æ¥</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    conn.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…­ã€hbaseçš„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å…­ã€hbaseçš„ä¼˜åŒ–"><span>å…­ã€HBaseçš„ä¼˜åŒ–</span></a></h2><h3 id="_6-1-é¢„åˆ†åŒº" tabindex="-1"><a class="header-anchor" href="#_6-1-é¢„åˆ†åŒº"><span>6.1 é¢„åˆ†åŒº</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. é€šè¿‡é¢„åˆ†åŒºçš„æ–¹å¼ï¼Œä½¿æ·»åŠ çš„æ•°æ®è¿›å…¥æŒ‡å®šçš„regionä¸­ï¼Œæå‰è¿›è¡Œæ•°æ®åˆ†åŒºã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å½“æŒ‡å®šé¢„åˆ†åŒºçš„è§„åˆ™ä»¥åï¼Œé‚£ä¹ˆé»˜è®¤çš„region splitåˆ†åŒºåŸåˆ™åˆ™ä¸ä¼šæœ‰æ•ˆã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ¯ä¸€ä¸ªregionç»´æŠ¤ç€ä¸€ä¸ªstartkeyå’Œendkeyï¼Œæ–°å¢çš„æ•°æ®ï¼Œæ ¹æ®æ•°æ®çš„rowkeyåˆ¤æ–­è¿›å…¥å“ªä¸ªregionï¼Œæ¯”è¾ƒçš„æ–¹å¼ï¼šæŒ‰ç…§å­—å…¸çš„é¡ºåºã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. åœ¨å®é™…å¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„è¡¨éƒ½ä¼šè¿›è¡Œé¢„åˆ†åŒºï¼Œä¸”ç»å¸¸æ˜¯ç¬¬ä¸€ä¸ªæˆ–è€…æ˜¯æœ€åä¸€ä¸ªregionä¸­æ˜¯æ²¡æœ‰æ•°æ®ã€‚</span></span></code></pre></div><h4 id="_6-1-1-æ‰‹åŠ¨è®¾å®šé¢„åˆ†åŒº" tabindex="-1"><a class="header-anchor" href="#_6-1-1-æ‰‹åŠ¨è®¾å®šé¢„åˆ†åŒº"><span>6.1.1 æ‰‹åŠ¨è®¾å®šé¢„åˆ†åŒº</span></a></h4><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;staff1&#39;,&#39;info&#39;,&#39;partition1&#39;,SPLITS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;2000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;3000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;4000&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span></code></pre></div><h4 id="_6-1-2-ç”Ÿæˆ16è¿›åˆ¶åºåˆ—é¢„åˆ†åŒº" tabindex="-1"><a class="header-anchor" href="#_6-1-2-ç”Ÿæˆ16è¿›åˆ¶åºåˆ—é¢„åˆ†åŒº"><span>6.1.2 ç”Ÿæˆ16è¿›åˆ¶åºåˆ—é¢„åˆ†åŒº</span></a></h4><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;staff2&#39;,&#39;info&#39;,&#39;partition2&#39;,{NUMREGIONS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">15,</span><span style="color:#98C379;--shiki-dark:#98C379;"> SPLITALGO</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;HexStringSplit&#39;}</span></span></code></pre></div><h4 id="_6-1-3-æŒ‰ç…§æ–‡ä»¶è®¾ç½®é¢„åˆ†åŒº" tabindex="-1"><a class="header-anchor" href="#_6-1-3-æŒ‰ç…§æ–‡ä»¶è®¾ç½®é¢„åˆ†åŒº"><span>6.1.3 æŒ‰ç…§æ–‡ä»¶è®¾ç½®é¢„åˆ†åŒº</span></a></h4><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>#æ–‡ä»¶å†…å®¹</span></span>
<span class="line"><span>aaaa</span></span>
<span class="line"><span>bbbb</span></span>
<span class="line"><span>cccc</span></span>
<span class="line"><span>dddd</span></span></code></pre></div><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;staff3&#39;,&#39;partition3&#39;,SPLITS_FILE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;splits.txt&#39;</span></span></code></pre></div><h4 id="_6-1-4-ä½¿ç”¨apiè®¾ç½®" tabindex="-1"><a class="header-anchor" href="#_6-1-4-ä½¿ç”¨apiè®¾ç½®"><span>6.1.4 ä½¿ç”¨APIè®¾ç½®</span></a></h4><div class="language-scala" data-ext="scala" data-title="scala"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//è‡ªå®šä¹‰ç®—æ³•ï¼Œäº§ç”Ÿä¸€ç³»åˆ—Hashæ•£åˆ—å€¼å­˜å‚¨åœ¨äºŒç»´æ•°ç»„ä¸­</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">byte[][] splitKeys </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> æŸä¸ªæ•£åˆ—å€¼å‡½æ•°</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//åˆ›å»ºHbaseAdminå®ä¾‹</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">HBaseAdmin</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> hAdmin </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HBaseAdmin</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">HbaseConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.create());</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//åˆ›å»ºHTableDescriptorå®ä¾‹</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">HTableDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> tableDesc </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HTableDescriptor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(tableName);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//é€šè¿‡HTableDescriptorå®ä¾‹å’Œæ•£åˆ—å€¼äºŒç»´æ•°ç»„åˆ›å»ºå¸¦æœ‰é¢„åˆ†åŒºçš„Hbaseè¡¨</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hAdmin.createTable(tableDesc, splitKeys);</span></span></code></pre></div><h3 id="_6-2-rowkeyè®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_6-2-rowkeyè®¾è®¡"><span>6.2 RowKeyè®¾è®¡</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. ç°çŠ¶</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    åœ¨hbaseä¸­ï¼Œrowkeyæ˜¯å”¯ä¸€åŒºåˆ†æ•°æ®è¿›å…¥å“ªä¸ªregionä¸­ï¼Œå¦‚æœregionè®¾è®¡åˆç†ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½å¯¼è‡´æ•°æ®å†—ä½™å’Œæ•°æ®å€¾æ–œã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. è®¾è®¡è§„åˆ™</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. é•¿åº¦ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        aã€rowkeyç†è®ºå­—èŠ‚æ•°åœ¨10-100å­—èŠ‚ä¹‹é—´æœ€å¥½ï¼Œä¸€æ˜¯å¯ä»¥è¡¨è¿°è¾ƒå¤šçš„æ•°æ®å†…å®¹ï¼Œå…¶æ¬¡æ˜¯æ•°æ®ä¸ä¼šè¿‡å¤šï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        bã€æ•°æ®é•¿åº¦æœ€å¥½æ˜¯2çš„næ¬¡å¹‚ï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        cã€rowkeyçš„æ•°æ®é•¿åº¦æœ€å¥½ç›¸åŒï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ•£åˆ—ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        aã€å¯¹rowkeyè¿›è¡Œæ•£åˆ—ï¼Œé‡‡ç”¨md5ï¼Œhashç­‰æ–¹å¼ï¼Œä»¥é˜²æ­¢æ•°æ®å€¾æ–œï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å”¯ä¸€æ€§ï¼šé˜²æ­¢rowkeyç›¸åŒã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. å®ç°æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€å­—ç¬¦ä¸²åè½¬ã€‚å¦‚ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      20170524000001è½¬æˆ10000042507102</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      20170524000002è½¬æˆ20000042507102</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€å­—ç¬¦ä¸²è¿æ¥ï¼šå°†æœ¬æ¥æ”¾è¿›åˆ—çš„æ•°æ®ï¼Œæ”¾åˆ°rowkeyä¸­ï¼Œä¸»è¦æ˜¯å°†ç»å¸¸éœ€è¦ä½¿ç”¨åˆ°çš„å­—æ®µ/ä¸å‘ç”Ÿæ”¹å˜çš„æ•°æ®æ‹¼æ¥åˆ°rowkeyä¸­ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">       å¦‚ï¼šrowkeyï¼šid_name_age</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-å†…å­˜ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_6-3-å†…å­˜ä¼˜åŒ–"><span>6.3 å†…å­˜ä¼˜åŒ–</span></a></h3><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>HBaseæ“ä½œè¿‡ç¨‹ä¸­éœ€è¦å¤§é‡çš„å†…å­˜å¼€é”€ï¼Œæ¯•ç«ŸTableæ˜¯å¯ä»¥ç¼“å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œä½†æ˜¯ä¸å»ºè®®åˆ†é…éå¸¸å¤§çš„å †å†…å­˜ï¼Œå› ä¸ºGCè¿‡ç¨‹æŒç»­å¤ªä¹…ä¼šå¯¼è‡´RegionServerå¤„äºé•¿æœŸä¸å¯ç”¨çŠ¶æ€ï¼Œä¸€èˆ¬16~36Gå†…å­˜å°±å¯ä»¥äº†ï¼Œå¦‚æœå› ä¸ºæ¡†æ¶å ç”¨å†…å­˜è¿‡é«˜å¯¼è‡´ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œæ¡†æ¶ä¸€æ ·ä¼šè¢«ç³»ç»ŸæœåŠ¡æ‹–æ­»</span></span></code></pre></div><h3 id="_6-4-åŸºç¡€ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_6-4-åŸºç¡€ä¼˜åŒ–"><span>6.4 åŸºç¡€ä¼˜åŒ–</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1.Zookeeperä¼šè¯è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">zookeeper</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">session</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#C678DD;--shiki-dark:#C678DD;">timeout</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šé»˜è®¤å€¼ä¸º90000æ¯«ç§’ï¼ˆ90sï¼‰ã€‚å½“æŸä¸ªRegionServeræŒ‚æ‰ï¼Œ90sä¹‹åMasteræ‰èƒ½å¯Ÿè§‰åˆ°ã€‚å¯é€‚å½“å‡å°æ­¤å€¼ï¼Œä»¥åŠ å¿«Masterå“åº”ï¼Œå¯è°ƒæ•´è‡³600000æ¯«ç§’ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--2.è®¾ç½®RPCç›‘å¬æ•°é‡</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">regionserver</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">handler</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">count</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šé»˜è®¤å€¼ä¸º30ï¼Œç”¨äºæŒ‡å®šRPCç›‘å¬çš„æ•°é‡ï¼Œå¯ä»¥æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œè¯»å†™è¯·æ±‚è¾ƒå¤šæ—¶ï¼Œå¢åŠ æ­¤å€¼ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--3.æ‰‹åŠ¨æ§åˆ¶Major Compaction</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.majorcompaction</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šé»˜è®¤å€¼ï¼š604800000ç§’ï¼ˆ7å¤©ï¼‰ï¼Œ Major Compactionçš„å‘¨æœŸï¼Œè‹¥å…³é—­è‡ªåŠ¨Major Compactionï¼Œå¯å°†å…¶è®¾ä¸º0</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬è®¾ç½®ä¸º0ï¼Œç„¶åé€šè¿‡azkabanè¿›è¡Œè°ƒåº¦ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--4.ä¼˜åŒ–HStoreæ–‡ä»¶å¤§å°</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hregion</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">filesize</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šé»˜è®¤å€¼10737418240ï¼ˆ10GBï¼‰ï¼Œå¦‚æœéœ€è¦è¿è¡ŒHBaseçš„MRä»»åŠ¡ï¼Œå¯ä»¥å‡å°æ­¤å€¼ï¼Œå› ä¸ºä¸€ä¸ªregionå¯¹åº”ä¸€ä¸ªmapä»»åŠ¡ï¼Œå¦‚æœå•ä¸ªregionè¿‡å¤§ï¼Œä¼šå¯¼è‡´mapä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ã€‚è¯¥å€¼çš„æ„æ€å°±æ˜¯ï¼Œå¦‚æœHFileçš„å¤§å°è¾¾åˆ°è¿™ä¸ªæ•°å€¼ï¼Œåˆ™è¿™ä¸ªregionä¼šè¢«åˆ‡åˆ†ä¸ºä¸¤ä¸ªHfileã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--5.ä¼˜åŒ–HBaseå®¢æˆ·ç«¯ç¼“å­˜</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">client</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">write</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">buffer</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šé»˜è®¤å€¼2097152bytesï¼ˆ2Mï¼‰ç”¨äºæŒ‡å®šHBaseå®¢æˆ·ç«¯ç¼“å­˜ï¼Œå¢å¤§è¯¥å€¼å¯ä»¥å‡å°‘RPCè°ƒç”¨æ¬¡æ•°ï¼Œä½†æ˜¯ä¼šæ¶ˆè€—æ›´å¤šå†…å­˜ï¼Œåä¹‹åˆ™åä¹‹ã€‚ä¸€èˆ¬æˆ‘ä»¬éœ€è¦è®¾å®šä¸€å®šçš„ç¼“å­˜å¤§å°ï¼Œä»¥è¾¾åˆ°å‡å°‘RPCæ¬¡æ•°çš„ç›®çš„ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--6.æŒ‡å®šscan.nextæ‰«æHBaseæ‰€è·å–çš„è¡Œæ•°</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">client</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">scanner</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">caching</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">ç”¨äºæŒ‡å®šscan</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">nextæ–¹æ³•è·å–çš„é»˜è®¤è¡Œæ•°</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œå€¼è¶Šå¤§ï¼Œæ¶ˆè€—å†…å­˜è¶Šå¤§ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--7.BlockCacheå ç”¨RegionServerå †å†…å­˜çš„æ¯”ä¾‹</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hfile</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">block</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">cache</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">size</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">é»˜è®¤0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œè¯»è¯·æ±‚æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå¯é€‚å½“è°ƒå¤§</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--8.MemStoreå ç”¨RegionServerå †å†…å­˜çš„æ¯”ä¾‹</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;é…ç½®æ–‡ä»¶&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šhbase-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">site</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">xml</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;å±æ€§&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">hbase</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">regionserver</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">global</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">memstore</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#C678DD;--shiki-dark:#C678DD;">size</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">    &#39;è§£é‡Š&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">é»˜è®¤0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œå†™è¯·æ±‚è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå¯é€‚å½“è°ƒå¤§</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ƒã€ä¸hiveçš„é›†æˆ" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€ä¸hiveçš„é›†æˆ"><span>ä¸ƒã€ä¸Hiveçš„é›†æˆ</span></a></h2><h3 id="_7-1-hbaseä¸hiveçš„å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_7-1-hbaseä¸hiveçš„å¯¹æ¯”"><span>7.1 HBaseä¸Hiveçš„å¯¹æ¯”</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--1. Hive</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">   1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ˜¯ä¸€ä¸ªæ•°æ®ä»“åº“ï¼šHiveçš„æœ¬è´¨å…¶å®å°±æ˜¯ç›¸å½“äºå°†HDFSä¸­å·²ç»å­˜å‚¨çš„æ–‡ä»¶åœ¨Mysqlä¸­åšä¸€ä¸ªåŒå°„å…³ç³»ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨HQLå»ç®¡ç†æŸ¥è¯¢ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">   2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ç”¨äºæ•°æ®åˆ†æã€æ¸…æ´—</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">   3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. åŸºäºHDFS ã€ MapReduceï¼š Hiveå­˜å‚¨çš„æ•°æ®ä¾æ—§åœ¨DataNodeä¸Šï¼Œç¼–å†™çš„HQLè¯­å¥ç»ˆå°†è½¬æ¢ä¸ºMapReduceä»£ç æ‰§è¡Œï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--2. HBase</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ˜¯æ•°æ®åº“</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. ç”¨äºå­˜å‚¨ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. åŸºäºHDFS</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">    4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å»¶è¿Ÿä½ã€‚æ¥å…¥åœ¨çº¿ä¸šåŠ¡ä½¿ç”¨</span></span></code></pre></div><h3 id="_7-2-hbase-ä¸-hiveé›†æˆä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_7-2-hbase-ä¸-hiveé›†æˆä½¿ç”¨"><span>7.2 HBase ä¸ Hiveé›†æˆä½¿ç”¨</span></a></h3><ul><li>åœ¨hive-site.xmlä¸­æ·»åŠ zookeeperçš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š</li></ul><div class="language-xml" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hive.zookeeper.quorum&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hadoop105,hadoop106,hadoop107&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hive.zookeeper.client.port&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;2181&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><h3 id="_7-3-æ¡ˆä¾‹ä¸€" tabindex="-1"><a class="header-anchor" href="#_7-3-æ¡ˆä¾‹ä¸€"><span>7.3 æ¡ˆä¾‹ä¸€</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- éœ€æ±‚ï¼šåœ¨Hiveä¸­åˆ›å»ºçš„è¡¨ï¼Œåœ¨HBaseä¸­å¯ä»¥æŸ¥è¯¢åˆ°ã€‚</span></span></code></pre></div><ol><li>åœ¨Hiveä¸­åˆ›å»ºè¡¨åŒæ—¶å…³è”HBase</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> hive_hbase_emp_table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">empno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ename string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">job string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mgr </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hiredate string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">sal double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">comm double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">deptno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">STORED </span><span style="color:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;org.apache.hadoop.hive.hbase.HBaseStorageHandler&#39;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> SERDEPROPERTIES (</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.columns.mapping&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;:key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">TBLPROPERTIES (</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.table.name&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;hbase_emp_table&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><blockquote><p>å®Œæˆä¹‹åï¼Œå¯ä»¥åˆ†åˆ«è¿›å…¥Hiveå’ŒHBaseæŸ¥çœ‹ï¼Œéƒ½ç”Ÿæˆäº†å¯¹åº”çš„è¡¨</p></blockquote><ol start="2"><li>åœ¨Hiveä¸­åˆ›å»ºä¸´æ—¶ä¸­é—´è¡¨ï¼Œç”¨äºloadæ–‡ä»¶ä¸­çš„æ•°æ®</li></ol><blockquote><p>å»ºç«‹ä¸Šè¯‰çš„è¡¨ï¼Œä¸èƒ½ç›´æ¥é€šè¿‡loadçš„æ–¹å¼åŠ è½½æ•°æ®ï¼Œéœ€è¦é€šè¿‡æŸ¥è¯¢å…¶ä»–è¡¨çš„æ•°æ®è¿›è¡Œæ’å…¥</p></blockquote><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> emp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">empno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ename string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">job string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mgr </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hiredate string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">sal double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">comm double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">deptno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">row</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> format delimited fields terminated </span><span style="color:#C678DD;--shiki-dark:#C678DD;">by</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;\t&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><ol start="3"><li>å‘Hiveä¸­é—´è¡¨ä¸­loadæ•°æ®</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">load</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> data</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> local</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> inpath </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;/opt/module/hive/datas/emp&#39;</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> into</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> emp;</span></span></code></pre></div><ol start="4"><li>é€šè¿‡insertå‘½ä»¤å°†ä¸­é—´è¡¨ä¸­çš„æ•°æ®å¯¼å…¥åˆ°Hiveå…³è”Hbaseçš„é‚£å¼ è¡¨ä¸­</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">insert into</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> hive_hbase_emp_table </span><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> emp;</span></span></code></pre></div><ol start="5"><li>æŸ¥çœ‹Hiveä»¥åŠå…³è”çš„HBaseè¡¨ä¸­æ˜¯å¦å·²ç»æˆåŠŸçš„åŒæ­¥æ’å…¥äº†æ•°æ®</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Hive</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hive</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> hive_hbase_emp_table;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- HBase</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">Hbase</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> scan </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;hbase_emp_table&#39;</span></span></code></pre></div><h3 id="_7-4-æ¡ˆä¾‹äºŒ" tabindex="-1"><a class="header-anchor" href="#_7-4-æ¡ˆä¾‹äºŒ"><span>7.4 æ¡ˆä¾‹äºŒ</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- éœ€æ±‚ï¼šåœ¨HBaseä¸­å·²ç»å­˜å‚¨äº†æŸä¸€å¼ è¡¨hbase_emp_tableï¼Œç„¶ååœ¨Hiveä¸­åˆ›å»ºä¸€ä¸ªå¤–éƒ¨è¡¨æ¥å…³è”HBaseä¸­çš„hbase_emp_tableè¿™å¼ è¡¨</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">åœ¨æ¡ˆä¾‹1çš„åŸºç¡€ä¸Šè¿›è¡Œå®Œæˆã€‚</span></span></code></pre></div><ol><li>åœ¨Hiveä¸­åˆ›å»ºå¤–éƒ¨è¡¨</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> EXTERNAL</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> relevance_hbase_emp(</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">empno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ename string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">job string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">mgr </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hiredate string,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">sal double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">comm double,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">deptno </span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">STORED </span><span style="color:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">&#39;org.apache.hadoop.hive.hbase.HBaseStorageHandler&#39;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> SERDEPROPERTIES (</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.columns.mapping&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">&quot;:key,info:ename,info:job,info:mgr,info:hiredate,info:sal,info:comm,info:deptno&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">TBLPROPERTIES (</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hbase.table.name&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;hbase_emp_table&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><ol start="2"><li>å…³è”åå°±å¯ä»¥ä½¿ç”¨Hiveå‡½æ•°è¿›è¡Œä¸€äº›åˆ†ææ“ä½œäº†</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">hive (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">default</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> relevance_hbase_emp;</span></span></code></pre></div><h2 id="å…«ã€phoenix" tabindex="-1"><a class="header-anchor" href="#å…«ã€phoenix"><span>å…«ã€Phoenix</span></a></h2><h3 id="_8-1-phoenixç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_8-1-phoenixç®€ä»‹"><span>8.1 Phoenixç®€ä»‹</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. Phoenixæ˜¯ä»€ä¹ˆï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   å¯ä»¥ç†è§£æ˜¯HBaseçš„å¼€æºSQLçš®è‚¤ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„JDBC APIä»£æ›¿HBaseå®¢æˆ·ç«¯APIæ¥åˆ›å»ºè¡¨ï¼Œæ’å…¥æ•°æ®å’ŒæŸ¥è¯¢HBaseæ•°æ®ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. Phoenixä¸­åˆ›å»ºçš„è¡¨å­˜å‚¨åœ¨HBaseä¸­ã€‚</span></span></code></pre></div><h3 id="_8-2-phoenixç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_8-2-phoenixç‰¹ç‚¹"><span>8.2 Phoenixç‰¹ç‚¹</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. å®¹æ˜“é›†æˆï¼šå¦‚Spark ã€ Hive ã€ Pig ã€ Flume ã€ MAPReduce</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ“ä½œå®¹æ˜“ï¼šDMLå‘½ä»¤ä»¥åŠé€šè¿‡DDLå‘½ä»¤æ¥å¯¹è¡¨è¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">. æ”¯æŒHBaseçš„äºŒçº§ç´¢å¼•åˆ›å»ºã€‚</span></span></code></pre></div><h3 id="_8-3-phoenixæ¶æ„" tabindex="-1"><a class="header-anchor" href="#_8-3-phoenixæ¶æ„"><span>8.3 Phoenixæ¶æ„</span></a></h3><p>![image-20200628213131835](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200628213139.png)</p><h3 id="_8-4-phoenixå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_8-4-phoenixå®‰è£…"><span>8.4 Phoenixå®‰è£…</span></a></h3><h4 id="_8-4-1-å®˜ç½‘åœ°å€" tabindex="-1"><a class="header-anchor" href="#_8-4-1-å®˜ç½‘åœ°å€"><span>8.4.1 å®˜ç½‘åœ°å€</span></a></h4><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>http://phoenix.apache.org/</span></span></code></pre></div><h4 id="_8-4-2-phoenixéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#_8-4-2-phoenixéƒ¨ç½²"><span>8.4.2 Phoenixéƒ¨ç½²</span></a></h4><ol><li>ä¸Šä¼ å¹¶è§£å‹taråŒ…å¹¶ä¿®æ”¹åå­—</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop105 module]$ tar -zxvf apache-phoenix-5.0.0-HBase-2.0-bin.tar.gz -C /opt/module/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 module]$ mv apache-phoenix-5.0.0-HBase-2.0-bin phoenix</span></span></code></pre></div><ol start="2"><li>å¤åˆ¶serveråŒ…å¹¶æ‹·è´åˆ°å„ä¸ªèŠ‚ç‚¹çš„hbase/lib</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 module]$ cd /opt/module/phoenix/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 phoenix]$ cp /opt/module/phoenix/phoenix-5.0.0-HBase-2.0-server.jar /opt/module/hbase/lib/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 phoenix]$ xsync /opt/module/hbase/lib/phoenix-5.0.0-HBase-2.0-server.jar</span></span></code></pre></div><ol start="3"><li>é…ç½®ç¯å¢ƒå˜é‡</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#phoenix</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> PHOENIX_HOME</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">opt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">module</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">phoenix</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> PHOENIX_CLASSPATH</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$PHOENIX_HOME</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> PATH</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$PATH</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span><span style="color:#E06C75;--shiki-dark:#E06C75;">$PHOENIX_HOME</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">bin</span></span></code></pre></div><ol start="4"><li>é‡å¯HBase</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 ~]$ stop-hbase.sh</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop102 ~]$ start-hbase.sh</span></span></code></pre></div><ol start="5"><li>è¿æ¥Phoenix</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[atguigu@hadoop101 phoenix]$ /opt/module/phoenix/bin/sqlline.py hadoop102,hadoop103,hadoop104:2181</span></span></code></pre></div><h3 id="_8-5-phoenix-shell-æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_8-5-phoenix-shell-æ“ä½œ"><span>8.5 Phoenix Shell æ“ä½œ</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ åœ¨Phoenixåˆ›å»ºçš„è¡¨ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨hbaseä¸­ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ Phoenixè¡¨çš„ä¸»é”®ï¼Œåœ¨hbaseè¡¨ä¸­ï¼Œç›¸å½“äºrowkeyï¼Œæ‰€ä»¥åœ¨Phoenixå»ºè¡¨æ—¶ï¼Œè‡³å°‘è®¾ç½®ä¸€ä¸ªä¸»é”®ï¼Œä¸”æ•°æ®ç±»å‹æœ€å¥½è®¾ç½®ä¸ºvarcharï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ åœ¨Phoenixåˆ›å»ºè¡¨æ—¶ï¼Œè¡¨åå’Œå­—æ®µè‡ªåŠ¨ä¼šå˜æˆå¤§å†™ï¼Œå¦‚æœæƒ³è¦è®¾ç½®ä¸ºå°å†™ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åŒå¼•å·&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  4</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ </span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;å•å¼•å·&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">è¡¨ç¤ºå­—ç¬¦ä¸²ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  5</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ åœ¨HBaseåˆ›å»ºçš„è¡¨ï¼Œé»˜è®¤åœ¨Phoenixæ˜¯æŸ¥è¯¢ä¸åˆ°çš„ï¼Œéœ€è¦é€šè¿‡æ˜ å°„çš„æ–¹å¼å¯ä»¥æŸ¥è¯¢ã€‚</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  6</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ Phoenixä¸­ä¸æ”¯æŒinsertè¯­æ³•ï¼Œä½¿ç”¨äº†</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;upsert&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ä»£æ›¿;</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  7</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ Phoenixçš„shellæ“ä½œï¼Œå¾ˆå¤šå’Œsqlè¯­æ³•ç›¸ä¼¼ï¼Œä½†æ˜¯ä¹Ÿæœ‰äº›è¯­æ³•æ—¶ä¸æ”¯æŒçš„ï¼›</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">  8</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ã€ Phoenixåˆ›å»ºçš„è¡¨ï¼Œåœ¨hbaseé»˜è®¤åªæœ‰ä¸€ä¸ªåˆ—æ—</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;0&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼›</span></span></code></pre></div><h4 id="_8-5-1-æ˜¾ç¤ºæ‰€æœ‰è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-5-1-æ˜¾ç¤ºæ‰€æœ‰è¡¨"><span>8.5.1 æ˜¾ç¤ºæ‰€æœ‰è¡¨</span></a></h4><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">!</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">table</span><span style="color:#98C379;--shiki-dark:#98C379;"> æˆ–</span><span style="color:#98C379;--shiki-dark:#98C379;"> !tables</span></span></code></pre></div><h4 id="_8-5-2-åˆ›å»ºè¡¨" tabindex="-1"><a class="header-anchor" href="#_8-5-2-åˆ›å»ºè¡¨"><span>8.5.2 åˆ›å»ºè¡¨</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">create</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> lianzp</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (id </span><span style="color:#C678DD;--shiki-dark:#C678DD;">varchar</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> primary key</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> , age </span><span style="color:#C678DD;--shiki-dark:#C678DD;">varchar</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> )</span></span></code></pre></div><ul><li>è”åˆä¸»é”®</li></ul><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">æŒ‡å®šå¤šä¸ªåˆ—çš„è”åˆä½œä¸ºRowKey</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> IF</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> NOT</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> EXISTS</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> us_population (</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">State</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> CHAR</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">City </span><span style="color:#C678DD;--shiki-dark:#C678DD;">VARCHAR</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> NOT NULL</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">Population</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> BIGINT</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CONSTRAINT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> my_pk </span><span style="color:#C678DD;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">state</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, city));</span></span></code></pre></div><h4 id="_8-5-3-æ’å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_8-5-3-æ’å…¥æ•°æ®"><span>8.5.3 æ’å…¥æ•°æ®</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">upsert </span><span style="color:#C678DD;--shiki-dark:#C678DD;">into</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> student </span><span style="color:#C678DD;--shiki-dark:#C678DD;">values</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;zhangsan&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;beijing&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><h4 id="_8-5-4-æŸ¥è¯¢è®°å½•" tabindex="-1"><a class="header-anchor" href="#_8-5-4-æŸ¥è¯¢è®°å½•"><span>8.5.4 æŸ¥è¯¢è®°å½•</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> student;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">select</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> student </span><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> id</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h4 id="_8-5-5-åˆ é™¤è®°å½•" tabindex="-1"><a class="header-anchor" href="#_8-5-5-åˆ é™¤è®°å½•"><span>8.5.5 åˆ é™¤è®°å½•</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">delete</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> from</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> student </span><span style="color:#C678DD;--shiki-dark:#C678DD;">where</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> id</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;1001&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h4 id="_8-5-6-åˆ é™¤è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-5-6-åˆ é™¤è¡¨"><span>8.5.6 åˆ é™¤è¡¨</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">drop</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> student;</span></span></code></pre></div><h4 id="_8-5-7-é€€å‡ºå‘½ä»¤è¡Œ" tabindex="-1"><a class="header-anchor" href="#_8-5-7-é€€å‡ºå‘½ä»¤è¡Œ"><span>8.5.7 é€€å‡ºå‘½ä»¤è¡Œ</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">!quit</span></span></code></pre></div><h3 id="_8-6-phoenixä¸hbaseè¡¨æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_8-6-phoenixä¸hbaseè¡¨æ˜ å°„"><span>8.6 Phoenixä¸hbaseè¡¨æ˜ å°„</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">       a. åœ¨Phoenixåˆ›å»ºçš„è¡¨å¯ä»¥åœ¨hbaseä¸­ç›´æ¥æŸ¥è¯¢åˆ°ï¼Œå› ä¸ºPhoenixåˆ›å»ºçš„è¡¨å°±æ˜¯åœ¨hbaseä¸Šï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">       b. åœ¨hbaseçš„è¡¨ï¼ŒPhoenixé»˜è®¤ä¸èƒ½ç›´æ¥çœ‹åˆ°ï¼Œéœ€è¦ä½¿ç”¨æ˜ å°„çš„æ–¹å¼æ‰èƒ½çœ‹åˆ°ã€‚ </span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. åºåˆ—åŒ–é—®é¢˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€Phoenixæ•°æ®çš„åºåˆ—åŒ–å™¨å’Œhbaseæ•°æ®åºåˆ—åŒ–å™¨ä¸ä¸€è‡´ï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€Phoenixä½¿ç”¨è‡ªèº«çš„åºåˆ—åŒ–å™¨ï¼Œ</span><span style="color:#D19A66;--shiki-dark:#D19A66;">è€Œhbaseä½¿ç”¨çš„æ˜¯bytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">toBtes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ï¼Œåˆ™å¯¼è‡´ä»Phoenixè¯»å–hbaseå’Œä»hbaseè¯»å–Phoenixæ•°æ®æ—¶ï¼Œä¼šå‡ºç°è¯»å‡ºçš„æ•°æ®å’ŒåŸè¡¨ä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚ç°è±¡ä¸ºï¼š</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      -- 1). Hbaseè¯»å–Phoenixè¡¨</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ—åæ ¼å¼é—®é¢˜&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šåˆ—åå°†Phoenixçš„å­—æ®µè½¬æ¢ä¸º16è¿›åˆ¶æ˜¾ç¤º</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;valueæ ¼å¼é—®é¢˜&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå€¼ç±»å‹æ•°æ®ä¹Ÿè¢«è½¬æ¢æˆäº†16è¿›åˆ¶æ˜¾ç¤º</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      -- 2). Phoenixè¯»å–hbaseè¡¨</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;åˆ—åæ ¼å¼é—®é¢˜&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šåœ¨Phoenixåˆ›å»ºçš„å­—æ®µå’Œhbaseè¡¨ä¸­çš„å­—æ®µä¸€æ ·ï¼Œä½†æ˜¯æ²¡æœ‰æ•°æ®</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;valueæ ¼å¼é—®é¢˜&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šæŸ¥è¯¢çš„æ•°æ®å’Œhbaseçš„æ•°æ®å®Œå…¨ä¸ç­‰ï¼Œæè¿°è§ä¸‹å›¾ï¼š</span></span></code></pre></div><p>![image-20200629000242062](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200629000242.png)</p><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</span></span></code></pre></div><p>![image-20200629003822649](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200629003822.png)</p><h4 id="_8-6-1-phoenixåˆ›å»ºçš„è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-6-1-phoenixåˆ›å»ºçš„è¡¨"><span>8.6.1 Phoenixåˆ›å»ºçš„è¡¨</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. åœ¨Phoenixåˆ›å»ºçš„è¡¨ï¼Œåœ¨hbaseä¸­å¯ä»¥æŸ¥è¯¢åˆ°ï¼Œä½†æ˜¯ä¼šå‘ç°å¤šäº†æ¯è¡Œæ•°æ®ä¸­ï¼Œä¼šå¤šå¦‚ä¸‹ä¸€åˆ—æ•°æ®ï¼Œ&#39;ç§°ä¹‹ä¸ºç©º/è™šçš„keyvalue&#39;ï¼š</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">      1001</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">     column</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:_0, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">timestamp</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1593071947795</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">value</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">x  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. ä¸ºä»€ä¹ˆPhoenixåœ¨è¿›è¡Œupsertæ—¶ä¼šæ·»åŠ ä¸€ä¸ªç©º/è™šæ‹ŸKeyValueï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   åœ¨hbaseè¡¨ä¸­ï¼Œrowkeyå¯¹åº”Phoenixè¡¨ä¸­çš„ä¸»é”®ï¼Œå¦‚æœPhoenixä¸­è¡¨åªæœ‰ä¸»é”®ï¼Œæ²¡æœ‰å…¶ä»–åˆ—ï¼Œé‚£ä¹ˆåœ¨habseçš„è¡¨ä¸­ï¼Œå°±åªæœ‰rowkeyï¼Œæ²¡æœ‰åˆ—æ—äº†ã€‚æ‰€æœ‰é€šè¿‡å¢åŠ è¿™æ ·ä¸€åˆ—ç©ºçš„åˆ—ï¼Œç¡®ä¿è¿™è¡Œæ•°æ®å³æœ‰rowkeyï¼Œä¹Ÿæœ‰åˆ—æ—.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 3. å®˜ç½‘è¯´æ˜ï¼š</span></span></code></pre></div><p>![image-20200628234338247](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200628234338.png)</p><h4 id="_8-6-2-hbaseåˆ›å»ºçš„è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-6-2-hbaseåˆ›å»ºçš„è¡¨"><span>8.6.2 HBaseåˆ›å»ºçš„è¡¨</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. åœ¨HBaseè¡¨æ˜ å°„æ–¹å¼æœ‰ä¸¤ç§ï¼šè§†å›¾æ˜ å°„å’Œè¡¨æ˜ å°„</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. åœ¨Phoenixå®ç°æ˜ å°„çš„æ–¹å¼ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€åˆ›å»ºçš„è¡¨åå’Œhbaseçš„è¡¨åç›¸åŒï¼Œæ³¨æ„å¤§å°å†™ï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€åˆ›å»ºä¸€ä¸ªä¸»é”®ï¼Œç”¨æ¥æ¥æ”¶hbaseè¡¨ä¸­çš„rowkeyï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      cã€å…¶ä½™çš„å­—æ®µï¼Œå£°æ˜æ–¹å¼ä¸ºï¼šhbaseè¡¨ä¸­çš„ï¼š</span><span style="color:#D19A66;--shiki-dark:#D19A66;">åˆ—æ—</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">åˆ—å</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      dã€æœ€åéœ€è¦åŠ ä¸Šï¼šcolumn_encoded_bytes</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼Œ</span><span style="color:#D19A66;--shiki-dark:#D19A66;">ä½¿çš„Phoenixååºåˆ—å™¨ä¸ºbytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">toBytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()ï¼Œä¸hbaseåºåˆ—åŒ–å™¨ä¸€è‡´ï¼Œåˆ™Phoenixå¯ä»¥</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">         æ‰¾åˆ°hbaseè¡¨ä¸­çš„åˆ—ã€‚</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- 3. è¯´æ˜ï¼š</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      aã€åˆ›å»ºæ—¶è¡¨åå’Œå­—æ®µåä¸€å®šè¦ç›¸åŒï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      bã€å¦‚æœåˆ›å»ºçš„å­—æ®µåœ¨hbaseè¡¨ä¸å­˜åœ¨ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ç›¸å½“äºç©ºåˆ—</span></span></code></pre></div><h5 id="_8-6-2-1-è§†å›¾æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_8-6-2-1-è§†å›¾æ˜ å°„"><span>8.6.2.1 è§†å›¾æ˜ å°„</span></a></h5><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. åˆ›å»ºçš„è§†å›¾æ˜¯åªè¯»ï¼Œåªèƒ½ç”¨æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œæ— æ³•é€šè¿‡è§†å›¾å¯¹åŸæ•°æ®è¿›è¡Œä¿®æ”¹ç­‰æ“ä½œã€‚</span></span></code></pre></div><ol><li>åœ¨hbaseå‡†å¤‡æ•°æ®</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;lianzp&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,&#39;info&#39;ï¼Œ&#39;info1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">put</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;lianzp&#39;,&#39;1001&#39;,&#39;info:name&#39;,&#39;zs&#39;</span></span></code></pre></div><ol start="2"><li>Phoenixç«¯æ“æ“ä½œ</li></ol><div class="language-shell" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> åˆ›å»ºè§†å›¾</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">create</span><span style="color:#98C379;--shiki-dark:#98C379;"> view</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;lianzp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (id </span><span style="color:#98C379;--shiki-dark:#98C379;">varchar</span><span style="color:#98C379;--shiki-dark:#98C379;"> primary</span><span style="color:#98C379;--shiki-dark:#98C379;"> key</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;info&quot;.&quot;name&quot;</span><span style="color:#98C379;--shiki-dark:#98C379;"> varchar</span><span style="color:#98C379;--shiki-dark:#98C379;"> ,</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;info1&quot;.&quot;address&quot;</span><span style="color:#98C379;--shiki-dark:#98C379;"> varchar</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> ) </span><span style="color:#E06C75;--shiki-dark:#E06C75;">column_encoded_bytes</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">--</span><span style="color:#98C379;--shiki-dark:#98C379;"> åˆ é™¤è§†å›¾</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">drop</span><span style="color:#98C379;--shiki-dark:#98C379;"> view</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;lianzp&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h5 id="_8-6-2-2-è¡¨æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_8-6-2-2-è¡¨æ˜ å°„"><span>8.6.2.2 è¡¨æ˜ å°„</span></a></h5><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åªéœ€è¦å°†å°†create view æ”¹æˆcreate table å³å¯ã€‚</span></span></code></pre></div><h3 id="_8-7-äºŒçº§ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_8-7-äºŒçº§ç´¢å¼•"><span>8.7 äºŒçº§ç´¢å¼•</span></a></h3><h4 id="_8-7-1-ä¿®æ”¹é…ç½®" tabindex="-1"><a class="header-anchor" href="#_8-7-1-ä¿®æ”¹é…ç½®"><span>8.7.1 ä¿®æ”¹é…ç½®</span></a></h4><ul><li>æ·»åŠ å¦‚ä¸‹é…ç½®åˆ°HBaseçš„HRegionserverèŠ‚ç‚¹çš„hbase-site.xml</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  &lt;!-- phoenix regionserver é…ç½®å‚æ•°--&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.regionserver.wal.codec&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.hadoop.hbase.regionserver.wal.IndexedWALEditCodec&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.region.server.rpc.scheduler.factory.class&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.hadoop.hbase.ipc.PhoenixRpcSchedulerFactory&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">description</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;Factory to create the Phoenix RPC Scheduler that uses separate queues for index and metadata updates&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">description</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;hbase.rpc.controllerfactory.class&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.hadoop.hbase.ipc.controller.ServerRpcControllerFactory&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">description</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;Factory to create the Phoenix RPC Scheduler that uses separate queues for index and metadata updates&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">description</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">property</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-7-2-å…¨å±€äºŒçº§ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_8-7-2-å…¨å±€äºŒçº§ç´¢å¼•"><span>8.7.2 å…¨å±€äºŒçº§ç´¢å¼•</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. åˆ›å»ºå…¨å±€ç´¢å¼•æ—¶ï¼Œä¼šåœ¨HBaseä¸­å»ºç«‹ä¸€å¼ æ–°è¡¨</span></span></code></pre></div><ol><li>åˆ›å»ºå•ä¸ªå­—æ®µçš„å…¨å±€ç´¢å¼•</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> INDEX</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> my_index</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> ON</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> my_table (my_col);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">&#39;å¦‚æœæƒ³æŸ¥è¯¢çš„å­—æ®µä¸æ˜¯ç´¢å¼•å­—æ®µçš„è¯,ç´¢å¼•è¡¨ä¸ä¼šè¢«ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šå¸¦æ¥æŸ¥è¯¢é€Ÿåº¦çš„æå‡</span></span></code></pre></div><p>![image-20200629010950631](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200629010950.png)</p><ol start="2"><li>åˆ›å»ºæºå¸¦å…¶ä»–å­—æ®µçš„å…¨å±€ç´¢å¼•</li></ol><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> INDEX</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> my_index</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> ON</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> my_table (v1) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">INCLUDE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (v2);</span></span></code></pre></div><p>![image-20200629011141184](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200629011141.png)</p><h4 id="_8-7-3-å±€éƒ¨äºŒçº§ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_8-7-3-å±€éƒ¨äºŒçº§ç´¢å¼•"><span>8.7.3 å±€éƒ¨äºŒçº§ç´¢å¼•</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. ç´¢å¼•æ•°æ®å’Œæ•°æ®è¡¨çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨åŒä¸€å¼ è¡¨ä¸­ï¼ˆä¸”æ˜¯åŒä¸€ä¸ªRegionï¼‰</span></span></code></pre></div><ul><li>åˆ›å»ºå±€éƒ¨ç´¢å¼•</li></ul><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> LOCAL</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> INDEX</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> my_index </span><span style="color:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> my_table (my_column);</span></span></code></pre></div><p>![image-20200629011154264](<a href="https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic" target="_blank" rel="noopener noreferrer">https://lian-zp.oss-cn-shenzhen.aliyuncs.com/pic</a> GO/20200629011154.png)</p><h4 id="_8-7-4-å±€éƒ¨å’Œå…¨å±€çš„é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#_8-7-4-å±€éƒ¨å’Œå…¨å±€çš„é€‰æ‹©"><span>8.7.4 å±€éƒ¨å’Œå…¨å±€çš„é€‰æ‹©</span></a></h4><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 1. ä¸¤ç§ç´¢å¼•çš„ä»‹ç»</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">å…¨å±€ç´¢å¼•ï¼šä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªregionï¼ŒåŒæ—¶ä¼šé‡‡ç”¨é»˜è®¤çš„region splitçš„åˆ‡åˆ†è§„åˆ™ï¼›</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">å±€éƒ¨ç´¢å¼•ï¼šåœ¨åŸæ•°æ®è¡¨çš„æ’å…¥æ•°æ®ï¼Œç´¢å¼•æ•°æ®å’Œæ•°æ®è¡¨çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨åŒä¸€å¼ è¡¨ä¸­ï¼ˆä¸”æ˜¯åŒä¸€ä¸ªRegionï¼‰ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 2. åœ¨éœ€è¦åˆ›å»ºç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬æ˜¯é€‰æ‹©åˆ›å»ºå“ªç§ç´¢å¼•å‘¢ï¼Ÿ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">åˆ›å»ºç´¢å¼•ä»¥åï¼Œæ¯æ¬¡æ•°æ®çš„æ”¹åŠ¨éƒ½éœ€è¦æ›´æ–°ç´¢å¼•è¡¨ã€‚</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ä¸¤ç§ç´¢å¼•é€‰æ‹©çš„è§„åˆ™å¦‚ä¸‹ï¼š</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">&#39;æƒ…å†µ1&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">ï¼šå†™æ“ä½œé¢‘ç¹ï¼Œåˆ™é€‰æ‹©å±€éƒ¨ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®å’Œç´¢å¼•åœ¨åŒä¸€å¼ è¡¨çš„åŒä¸€ä¸ªregionä¸­ï¼Œæ‰€ä»¥æ›´æ–°ç´¢å¼•çš„æ•°æ®å°±ä¸éœ€è¦è·¨èŠ‚ç‚¹ï¼Œ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        é¿å…äº†åœ¨å†™æ“ä½œçš„æ—¶å€™å¾€ä¸åŒæœåŠ¡å™¨çš„ç´¢å¼•è¡¨ä¸­å†™ç´¢å¼•å¸¦æ¥çš„é¢å¤–å¼€é”€;</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">&#39;æƒ…å†µ2&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: è¯»æ“ä½œé¢‘ç¹æ—¶ï¼Œåˆ™é€‰æ‹©å…¨å±€ç´¢å¼•ï¼Œå› ä¸ºå…¨å±€ç´¢å¼•ä¸­å¯ä»¥ç›´æ¥å®šä½åˆ°æ•°æ®ï¼Œæ•ˆç‡é«˜ã€‚</span></span></code></pre></div><h3 id="_8-8-phoenix-jdbcæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_8-8-phoenix-jdbcæ“ä½œ"><span>8.8 Phoenix JDBCæ“ä½œ</span></a></h3><h4 id="_8-8-1-å¯åŠ¨query-server" tabindex="-1"><a class="header-anchor" href="#_8-8-1-å¯åŠ¨query-server"><span>8.8.1 å¯åŠ¨query server</span></a></h4><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>queryserver.py start</span></span></code></pre></div><h4 id="_8-8-2-åˆ›å»ºé¡¹ç›®å¹¶å¯¼å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_8-8-2-åˆ›å»ºé¡¹ç›®å¹¶å¯¼å…¥ä¾èµ–"><span>8.8.2 åˆ›å»ºé¡¹ç›®å¹¶å¯¼å…¥ä¾èµ–</span></a></h4><div class="language-xml" data-ext="xml" data-title="xml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">   &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependencies</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        &lt;!-- https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-queryserver-client --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;org.apache.phoenix&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">groupId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;phoenix-queryserver-client&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">artifactId</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;5.0.0-HBase-2.0&lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">version</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;--shiki-dark:#E06C75;">dependencies</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><h4 id="_8-8-3-ç¼–å†™ä»£ç " tabindex="-1"><a class="header-anchor" href="#_8-8-3-ç¼–å†™ä»£ç "><span>8.8.3 ç¼–å†™ä»£ç </span></a></h4><div class="language-scala line-numbers-mode" data-ext="scala" data-title="scala"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">package</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> com.atguigu;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> java.sql.*;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> org.apache.phoenix.queryserver.client.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ThinClientUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">public </span><span style="color:#C678DD;--shiki-dark:#C678DD;">class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> PhoenixTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">public static void main(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[] args) throws </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">SQLException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> connectionUrl </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ThinClientUtil</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.getConnectionUrl(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;hadoop105&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">8765</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        System</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.out.println(connectionUrl);</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        Connection</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> connection </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DriverManager</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.getConnection(connectionUrl);</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        PreparedStatement</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> preparedStatement </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> connection.prepareStatement(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;select * from student&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        ResultSet</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> resultSet </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> preparedStatement.executeQuery();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        while</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (resultSet.next()) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            System</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.out.println(resultSet.getString(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">\t</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> resultSet.getString(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //å…³é—­</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        connection.close();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><div class="sponsor" data-v-98f29c97><div id="drinks-box" data-v-98f29c97><div id="drinks-box-s" class="drinks-button left-100" data-v-98f29c97><div id="drinks-icons" class="left-100 tr3" data-v-98f29c97><div id="coffee-donate" class="icon-donate" data-v-98f29c97><span class="font-icon icon iconfont icon-hk-flutter" data-v-98f29c97></span> èµåŠ© </div></div><div id="drinks-button-box" class="tr3 left-100" data-v-98f29c97><div id="drinks-button-bg" class="left-100" data-v-98f29c97></div><div id="github-box" data-v-98f29c97><a href="https://github.com/OrageKK/sponsor-page" target="_blank" data-v-98f29c97>Github</a></div><ul id="donate-buttons" class="list tr3" data-v-98f29c97><li id="paypal_donate" data-v-98f29c97><a href="https://www.paypal.me/oragekk" target="_blank" data-v-98f29c97>Paypal</a></li><!-- <li id="btc_donate" class="donate-button">Bitcoin</li> --><li id="alipay_donate" class="donate-button" data-v-98f29c97>AliPay</li><li id="wechat_donate" class="donate-button2" data-v-98f29c97>WeChat</li></ul></div><div id="drinks-qrcodes" class="left-100 tr3" data-v-98f29c97><div id="drinks-qrcode" data-v-98f29c97></div></div></div></div></div><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/MrjackC/mrjackc.github.io/edit/main/src/posts/BigData/10_Hbase/HBase.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 845886914@qq.com">MrJason</span><!--]--><!--]--></div></div></footer><!----><div id="vp-comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><div class="wl-reaction"><div class="wl-reaction-title">ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ</div><ul class="wl-reaction-list"><!--[--><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_agree.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_look_down.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_awkward.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><!--]--></ul></div><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€(å¯é€‰)</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" aria-hidden="true" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡" aria-label="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <span> Â /Â  <span class="">300</span></span> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v3.3.2</div></div></div><!----><!--]--></main><!--]--><div style="--0dfcb062:;"><footer class="footer-wrapper" style="display:none;"><div class="busuanzi"><span id="busuanzi_container_site_pv" style="display:none;"> æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span>æ¬¡ <span class="post-meta-divider">|</span></span><span id="busuanzi_container_site_uv" style="display:none;"> æ‚¨æ˜¯æœ¬ç«™ç¬¬ <span id="busuanzi_value_site_uv"></span>ä½è®¿é—®è€… </span></div><div class="footer-content"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2020-2024 MrJason</div></div><span id="runtime_span"></span><div class="footer-link"><a href="https://www.foreverblog.cn/go.html" target="_blank"><img src="https://img.foreverblog.cn/wormhole_1.gif" alt="" style="width:auto;height:32px;" title="ç©¿æ¢­è™«æ´-éšæœºè®¿é—®åå¹´ä¹‹çº¦å‹é“¾åšå®¢"></a><a href="https://www.travellings.cn/go.html" target="_blank"><img src="https://www.travellings.cn/assets/logo.gif" alt="" style="width:auto;height:32px;" title="å¼€å¾€-å‹é“¾æ¥åŠ›"></a></div></footer></div></div><!--]--><!--[--><!----><!----><div></div><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DQS7qcOs.js" defer></script>
  </body>
</html>
